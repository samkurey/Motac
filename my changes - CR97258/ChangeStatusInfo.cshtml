
@{
    ViewBag.Title = "TourList - Agensi Pelancongan";
    Layout = "~/Views/Shared/_BackPub_Layout.cshtml";
    ViewBag.Username = @Session["Name"].ToString();
}

@section top_css {

    <link href="~/Content/bootstrap4/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/fa6/css/all.css" rel="stylesheet" />
    <link href="~/Content/customstyle.css" rel="stylesheet" />
    <style type="text/css">
        .a {
            margin-left: 10px;
        }

        a {
            color: #000;
            text-decoration: none;
            font-family: 'Arial', sans-serif;
            font-weight: 400;
            font-size: 14px;
        }

            a:hover {
                color: #000;
            }

        input, textarea {
            text-transform: uppercase;
        }


            input[type="checkbox"]:hover, .labelHover:hover {
                cursor: pointer;
            }
    </style>


    <style type="text/css">
        .spacekotak {
            padding: 10px;
            margin-top: 5px;
        }

        .fatfont {
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            font-size: small;
            font-weight: bold;
        }

        .smallfont {
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            font-size: smaller;
            font-weight: bold;
            color: darkblue;
        }

        div.a {
            margin-left: 50px;
            margin-top: 5px;
        }
    </style>
    <style type="text/css">
        .zandgar__wizard {
            display: block;
            height: 100%;
            position: relative;
        }

            .zandgar__wizard .zandgar__step {
                display: none;
            }

                .zandgar__wizard .zandgar__step.zandgar__step__active {
                    display: block;
                }
    </style>

}

<h3>TOBTAB - Maklumat Tukar Status</h3>

@*@Html.Action(actionName: "NotifData", controllerName: "Message")*@


@using (Html.BeginForm("ChangeStatusInfo", "Tobtab", FormMethod.Post))
{
    <nav style="--bs-breadcrumb-divider: '';" aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="@Url.Action("Index", "Home")">Home</a></li>
            @{
                <li class="breadcrumb-item"><a href="@Url.Action("Dashboard", "Tobtab", new { module = ViewBag.Mod })">@ViewBag.PageTitle</a></li>
            }
            <li class="breadcrumb-item active" aria-current="page">
                Maklumat Tukar Status
            </li>
        </ol>
    </nav>
    <div class="container m-3">
        @if (ViewBag.ErrorMessage != null)
        {
            <div class="row m-2 justify-content-center">
                <label class="fatfont"><font color="Red">@ViewBag.ErrorMessage</font></label>
            </div>
        }
        <br />
    </div>
    <div class="container-m3">
        <input hidden type="text" id="module" name="module" value='@ViewBag.module' />
        <input hidden type="text" id="AppID" name="AppID" value='@ViewBag.AppID' />
        <input hidden type="text" id="OrgID" name="OrgID" value='@ViewBag.OrgID' />
        <input hidden type="text" name="Malaysia" id="Malaysia" value="@ViewBag.Malaysia" />
        <input hidden type="text" name="MSG_MANDATORY" id="MSG_MANDATORY" value="@ViewBag.MSG_MANDATORY" />
        <input hidden type="text" id="fileLocsalinanAsalLesen" />
        <input hidden type="text" id="fileNamesalinanAsalLesen" />
        <input hidden type="text" id="fileNameSewaBeliPremis" />
        <input hidden type="text" id="fileLocSewaBeliPremis" />
        <input hidden type="text" id="fileNamepelanLantai" />
        <input hidden type="text" id="fileLocpelanLantai" />
        <input hidden type="text" id="fileNameSSM" />
        <input hidden type="text" id="fileLocSSM" />
        <input hidden type="text" id="fileNameGambarPermis" />
        <input hidden type="text" id="FilelocGambarPermis" />

        <input hidden type="text" id="branch_idx" name="branch_idx" value='' /> @* Added by samsuri (CR#57259)  on 2 Jan 2024 *@
        <input hidden type="text" id="is_premise_ready" name="is_premise_ready" value='' /> @* Added by samsuri (CR#57259)  on 8 Jan 2024 *@
        <input hidden type="text" id="Branch_Lic_Stub_idx" name="Branch_Lic_Stub_idx" value='' /> @* Added by samsuri (CR#57259)  on 8 Jan 2024 *@

        <input hidden type="text" id="itemID" name="itemID" value='@ViewBag.itemID' />

        <button hidden style="padding-right:1em" data-dismiss="modal" type="submit" id="btnSaveOrgUpdate1" value="Add" class="btn btn-primary pull-right">
            Simpan
        </button>

        <button hidden style="padding-right:1em" type="submit" id="btnAddShareholder" value="Add" class="btn btn-primary pull-right">
            Shareholder
        </button>

        <button hidden style="padding-right:1em" type="submit" id="btnAddDirector" value="Add" class="btn btn-primary pull-right">
            Director
        </button>

        <div class="block--card main-metrics dir-ver">

            <div class="row">
                <div class="col-md-12">
                    <div class="form-group" style="margin-bottom:2px;margin-top:10px;">
                        <div class="col-lg-12">
                            <label>Tukar Status bagi</label>
                            <br />

                            <div class="form-check form-check-inline">
                                <input class="form-check-input" onclick="toggleTukarStatus();" type="checkbox" value="" id="chkNamaSyarikat">
                                <label class="form-check-label labelHover" for="chkNamaSyarikat">
                                    Nama Syarikat
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" onclick="toggleTukarStatus();" type="checkbox" value="" id="chkAlamatSyarikat">
                                <label class="form-check-label labelHover" for="chkAlamatSyarikat">
                                    Alamat Syarikat
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" onclick="toggleTukarStatus();" type="checkbox" value="" id="chkModalBerbayar">
                                <label class="form-check-label labelHover" for="chkModalBerbayar">
                                    Modal Berbayar
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" onclick="toggleTukarStatus();" type="checkbox" value="" id="chkPerubahanPemegangSaham">
                                <label class="form-check-label labelHover" for="chkPerubahanPemegangSaham">
                                    Perubahan Pemegang Saham/Peratusan Milikan Saham
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" onclick="toggleTukarStatus();" type="checkbox" value="" id="chkAhliLembagaPengarah">
                                <label class="form-check-label labelHover" for="chkAhliLembagaPengarah">
                                    Ahli Lembaga Pengarah
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />


            <div class="panel-group" id="accordion">
                <div id="NamaSyarikat" style="display:none;">
                    <div class="block--card main-metrics dir-ver">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle" data-bs-toggle="collapse" data-parent="#accordion" href="#menuOne">
                                        <span class="fas fa-plus"></span>
                                        <b>Nama Syarikat</b>
                                    </a>
                                </h4>
                            </div>

                            <div id="menuOne" class="panel-collapse collapse in">
                                <div class="panel-body">

                                    <div class="block--card main-metrics dir-ver">

                                        <div class="row">
                                            <div class="col-2">
                                                Nama Asal
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color:lightgray" id="syarikat_NamaPenuh" name="syarikat_NamaPenuh" class="form-control" value="" />
                                            </div>
                                            <div class="col-2">
                                                Nama Baru<font color="Red"> *</font>
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" id="syarikat_NamaPenuhBaru" name="syarikat_NamaPenuhBaru" class="form-control" value="" maxlength="150" />
                                            </div>
                                        </div>
                                        <br />


                                        <div class="row">
                                            <div class="col-2">
                                                Justifikasi Perubahan<font color="Red"> *</font>
                                            </div>
                                            :
                                            <div class="col-3">
                                                <textarea style="overflow: hidden; height: 70px" name="JustifikasiNama" autocomplete="off" id="JustifikasiNama" class="form-control" value=""></textarea>
                                            </div>
                                            <div class="col-2">
                                                Salinan Lesen Asal<font color="Red"> *</font>
                                            </div>
                                            :<font color="white">__</font>

                                            <div class="col-3 custom-file">

                                                <input type="file" class="custom-file-input form-control labelHover" name="file_salinanAsalLesen" id="file_salinanAsalLesen" />
                                                <label class="custom-file-label" for="customFile">Choose file</label>
                                            </div>
                                        </div>
                                        <br />
                                        <div id="salinanAsalLesenDownload">
                                            <div class="row">

                                                <div class="col-2">
                                                </div>
                                                <div class="col-3">
                                                </div>
                                                <div class="col-2">
                                                </div>
                                                <div class="col-3">
                                                    <div id="divdownloadSalinanAsal" class="custom-file">
                                                        <a href="javascript:downloadFile('SalinanAsal');"><font color="blue" style="font-weight:bold">Muat turun Salinan Asal Lesen</font></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <br />


                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="AlamatSyarikat" style="display:none;">
                    <div class="block--card main-metrics dir-ver">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle" data-bs-toggle="collapse" data-parent="#accordion" href="#menuTwo">
                                        <span class="fas fa-plus"></span>
                                        <b>Alamat Syarikat</b>
                                    </a>
                                </h4>
                            </div>
                            <div id="menuTwo" class="panel-collapse collapse">
                                <div class="panel-body">

                                @* Added by samsuri (CR#57258)  on 10 jan 2024, CR57258 -Start *@
                                <div class="block--card main-metrics dir-ver">
                                <div class="row">
                                    <div class="form-check form-check-inline">
                                    <div class="col-2"><input class="form-check-input" onclick="radCawanganType();" type="radio" value="" id="AlamatSyarikatHQ" name="AlamatSyarikat" checked="true"></div>
                                    <label class="form-check-label" for="flexCheckChecked">
                                     HQ
                                    </label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                    <input class="form-check-input" onclick="radCawanganType(); getCawanganList();"  type="radio" value="" id="AlamatSyarikatCaw" name="AlamatSyarikat">
                                    <label class="form-check-label" for="flexCheckChecked">
                                        Cawangan 
                                        @* [AppID=@ViewBag.AppID OrgID=@ViewBag.OrgID] *@
                                    </label>
                                    </div>
                                </div>
                                <br/>
                                <div class="row">
                                    <div class="col-2">Nama Cawangan</div>:
                                    <div class="col-3">
                                        <select id="CawanganList" name="CawanganList" class="form-control" enabled="true" onchange="showSelected();">
                                            <option value="">Sila Pilih</option>
                                            <option value="d849a45c-5483-4e53-960b-91abf753fdf5">WP KUALA LUMPUR</option>
                                        </select>
                                    </div>
                                </div>
                                </div>
                                @* Added by samsuri (CR#57258)  on 10 Jan 2024, CR57258 -End *@

                                    <div class="block--card main-metrics dir-ver">

                                        <div class="row">
                                            <div class="col-2">
                                                Alamat Pejabat Asal
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color:lightgray" id="syarikat_AlamatBerdaftar" name="syarikat_AlamatBerdaftar" class="form-control" value="" />
                                            </div>
                                            <div class="col-2">
                                                Alamat Pejabat Baru<font color="Red"> *</font>
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" id="syarikat_AlamatBerdaftarBaru" name="syarikat_AlamatBerdaftarBaru" class="form-control" value="" />
                                            </div>
                                        </div>
                                        <br />

                                        <div class="row">
                                            <div class="col-2">

                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color:lightgray" id="syarikat_AlamatBerdaftar1" name="syarikat_AlamatBerdaftar1" class="form-control" value="" />
                                            </div>
                                            <div class="col-2">

                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" id="syarikat_AlamatBerdaftar1Baru" name="syarikat_AlamatBerdaftar1Baru" class="form-control" value="" />
                                            </div>
                                        </div>
                                        <br />

                                        <div class="row">
                                            <div class="col-2">

                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color:lightgray" id="syarikat_AlamatBerdaftar2" name="syarikat_AlamatBerdaftar2" class="form-control" value="" />
                                            </div>
                                            <div class="col-2">

                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" id="syarikat_AlamatBerdaftar2Baru" name="syarikat_AlamatBerdaftar2Baru" class="form-control" value="" />
                                            </div>
                                        </div>
                                        <br />

                                        <div class="row">
                                            <div class="col-2">
                                                Poskod
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color:lightgray" id="syarikat_poskod" name="syarikat_poskod" class="form-control" value="" maxlength="5" />
                                            </div>
                                            <div class="col-2">
                                                Poskod
                                            </div>
                                            :
                                            <div class="col-3">
                                                @*<input type="text" id="PoskodBaru" name="PoskodBaru" class="form-control" value="" maxlength="5" />*@

                                                <input autocomplete="off" type="text" class="form-control" id="syarikat_poskod_baru" maxlength="5" onkeyup="loadTown(this, 'syarikat_bandarBaru','New');" onblur="loadTown(this, 'syarikat_bandarBaru','New');" />


                                            </div>
                                        </div>
                                        <br />

                                        <div class="row">
                                            <div class="col-2">
                                                Bandar/Daerah
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color:lightgray" id="syarikat_bandar" name="syarikat_bandar" class="form-control" value="" />
                                                <input type="text" hidden id="Daerah_idx" name="Daerah_idx" class="form-control" value="" /> @*Added by samsuri (CR#57258)  on 10 Jan 2024 *@
                                            </div>
                                            <div class="col-2">
                                                Bandar/Daerah
                                            </div>
                                            :
                                            <div class="col-3">
                                                <select id="syarikat_bandarBaru" name="syarikat_bandarBaru" class="form-control" onchange="loadState(this, 'syarikat_negeriBaru');" onblur="loadState(this, 'syarikat_negeriBaru');">
                                                    <option value="">Sila Pilih</option>
                                                </select>

                                            </div>
                                        </div>
                                        <br />

                                        <div class="row">
                                            <div class="col-2">
                                                Negeri
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color:lightgray" id="syarikat_negeri" name="syarikat_negeri" class="form-control" value="" />
                                            </div>
                                            <div class="col-2">
                                                Negeri
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color:lightgray" id="syarikat_negeriBaru" name="syarikat_negeriBaru" class="form-control" value="" />
                                                <input type="text" hidden id="Negeri_idx" name="Negeri_idx" class="form-control" value="" />
                                            </div>
                                        </div>
                                        <br />

                                        <div class="row">
                                            <div class="col-2">
                                            </div>
                                            <div class="col-3">
                                            </div>
                                            <div class="col-2">
                                                Penyediaan Persediaan Premis<font color="Red"> *</font>
                                            </div>
                                            :

                                            <div class="col-3" style="margin-bottom:2px;margin-top:10px;">
                                                <div class="col-lg-12">

                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" checked type="radio" name="chkPremisDoc" value="Yes" id="chkPremisDocTrue">
                                                        <label class="form-check-label" for="flexSwitchCheckDefault">
                                                            Ya
                                                        </label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio" name="chkPremisDoc" value="No" id="chkPremisDocFalse">
                                                        <label class="form-check-label" for="flexCheckChecked">
                                                            Tidak
                                                        </label>
                                                    </div>


                                                </div>
                                                <br />
                                            </div>


                                        </div>

                                        <div id="DivPremisDoc">
                                            <div class="row">
                                                <div class="col-2">
                                                </div>
                                                <div class="col-3">
                                                </div>
                                                <div class="col-2">
                                                    Perjanjian Sewa Beli Premis<font color="Red"> *</font>
                                                </div>
                                                :<font color="white">__</font>

                                                <div class="col-3 custom-file">

                                                    <input type="file" class="custom-file-input form-control" name="file_PerjanjianSewaBeliPermis" id="file_PerjanjianSewaBeliPermis" />
                                                    <label class="custom-file-label" for="customFile">Choose file</label>
                                                </div>

                                            </div>
                                            <div id="SewaBeliDownload">
                                                <div class="row">

                                                    <div class="col-2">
                                                    </div>
                                                    <div class="col-3">
                                                    </div>
                                                    <div class="col-2">
                                                    </div>
                                                    <div class="col-3">
                                                        <div id="divdownloadSewaBeli" class="custom-file">
                                                            <a href="javascript:downloadFile('SewaBeli');"><font color="blue" style="font-weight:bold">Muat turun Perjanjian Sewa Beli Premis</font></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <br />
                                            <div class="row">
                                                <div class="col-2">
                                                </div>
                                                <div class="col-3">
                                                </div>
                                                <div class="col-2">
                                                    Pelan Lantai Premis<font color="Red"> *</font>
                                                </div>
                                                :<font color="white">__</font>
                                                <div class="col-3 custom-file">

                                                    <input type="file" class="custom-file-input" name="file_PelanLantaiPermis" id="file_PelanLantaiPermis" />
                                                    <label class="custom-file-label" for="customFile">Choose file</label>
                                                </div>

                                            </div>


                                            <div id="PelanLantaiDownload">
                                                <div class="row">

                                                    <div class="col-2">
                                                    </div>
                                                    <div class="col-3">
                                                    </div>
                                                    <div class="col-2">
                                                    </div>
                                                    <div class="col-3">
                                                        <div id="divdownloadPelanLantai" class="custom-file">
                                                            <a href="javascript:downloadFile('PelanLantai');"><font color="blue" style="font-weight:bold">Muat turun Pelan Lantai Premis</font></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <br />
                                            <div class="row">
                                                <div class="col-2">
                                                </div>
                                                <div class="col-3">
                                                </div>
                                                <div class="col-2">
                                                    Gambar Bahagian Dalam dan Luar Pejabat (Berwarna)<font color="Red"> *</font>
                                                </div>
                                                :<font color="white">__</font>
                                                <div class="col-3 custom-file">

                                                    <input type="file" class="custom-file-input" name="file_GambarPermis" id="file_GambarPermis" />
                                                    <label class="custom-file-label" for="customFile">Choose file</label>
                                                </div>

                                            </div>


                                            <div id="GambarPermisDownload">
                                                <div class="row">

                                                    <div class="col-2">
                                                    </div>
                                                    <div class="col-3">
                                                    </div>
                                                    <div class="col-2">
                                                    </div>
                                                    <div class="col-3">
                                                        <div id="divdownloadGambarPermis" class="custom-file">
                                                            <a href="javascript:downloadFile('file_GambarPermis');"><font color="blue" style="font-weight:bold">Muat turun Gambar Bahagian Dalam dan Luar Pejabat (Berwarna)</font></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>



                                        </div>


                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="ModelBerbayar" style="display:none">
                    <div class="block--card main-metrics dir-ver">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle" data-bs-toggle="collapse" data-parent="#accordion" href="#menuThree">
                                        <span class="fas fa-plus"></span>
                                        <b>Modal Berbayar/Syer Modal</b>
                                    </a>
                                </h4>
                            </div>
                            <div id="menuThree" class="panel-collapse collapse">
                                <div class="panel-body">

                                    <div class="block--card main-metrics dir-ver">

                                        <div class="row">
                                            <div class="col-2">
                                                Berbayar Asal (RM)
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" readonly style="background-color: lightgray" id="pendaftaranSyarikat_ModalBerbayar" name="pendaftaranSyarikat_ModalBerbayar" class="form-control" value="" />
                                            </div>
                                            <div class="col-2">
                                                Berbayar (RM)
                                            </div>
                                            :
                                            <div class="col-3">
                                                <input type="text" id="pendaftaranSyarikat_ModalBerbayarBaru" name="pendaftaranSyarikat_ModalBerbayarBaru" class="form-control" value="" />
                                            </div>
                                        </div>
                                        <br />




                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="PemegangSaham" style="display:none">
                    <div class="block--card main-metrics dir-ver">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle" data-bs-toggle="collapse" data-parent="#accordion" href="#menuFour">
                                        <span class="fas fa-plus"></span>
                                        <b>Pemegang Saham</b>
                                    </a>
                                </h4>
                            </div>
                            <div id="menuFour" class="panel-collapse collapse">

                                @* <div class="block--card main-metrics dir-ver">
                                        <div class="row">

                                            <div class="col-4">
                                                Perakuan Pendaftaran Syarikat dan lesen (SSM yang lama )<font color="Red"> *</font>
                                            </div>
                                            :<font color="white">__</font>
                                            <div class="col-3 custom-file">

                                                <input type="file" class="custom-file-input" name="file_PerakuanPendaftar" id="file_PerakuanPendaftar" />
                                                <label class="custom-file-label" for="customFile">Choose file</label>
                                            </div>

                                        </div>

                                        <div id="PerakuanPendaftarDownload">
                                            <div class="row">

                                                <div class="col-4">
                                                    <div id="divdownloadPerakuanPendaftar" class="custom-file">
                                                        <a href="javascript:downloadFile('PerakuanPendaftar');"><font color="blue" style="font-weight:bold">Muat Turun Perakuan Pendaftaran Syarikat dan lesen (SSM yang lama )</font></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>*@
                                <br />

                                <div class="block--card main-metrics dir-ver">

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group" style="margin-bottom:2px;margin-top:10px;">
                                                <div class="col-lg-12">
                                                    <label>Maklumat Asal Pemegang Saham</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <div class="col-lg-12">
                                                    <label>Maklumat Baru Pemegang Saham</label>
                                                </div>
                                                <span style="float: right;">
                                                    <a href="#!" class="btn btn-primary" id="btnAddShareholderBaru" title="Add Item" onclick="AddShareholderBaru()" @*data-toggle="modal" data-target="#PemegangSahamModal"*@>
                                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                                    </a>
                                                </span>
                                            </div>

                                        </div>
                                    </div>
                                    <br />

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-body">
                                                    <h5 class="card-title"></h5>
                                                    <div class="content">
                                                        <div class="toolbar">
                                                            <h2 class="text--med mar-btm--sm"></h2>

                                                        </div>
                                                        <div>
                                                            <table id="tblPemegangSahamAsal" class="table table-hover" width="100%" style="width:100%">
                                                                <thead>
                                                                    <tr class="table-row">
                                                                        <th class="th-sm">
                                                                            Nama
                                                                        </th>
                                                                        <th class="th-sm">
                                                                            No. Kad Pengenalan/Passport/ <br />
                                                                            Daftar Syarikat
                                                                        </th>
                                                                        <th>
                                                                            Nilai Saham (RM)
                                                                        </th>
                                                                        <th>
                                                                            Peratus Saham (RM)
                                                                        </th>
                                                                        <th hidden></th>
                                                                    </tr>
                                                                </thead>
                                                                @{ int iSH = 0;
                                                                    decimal total = 0;
                                                                    decimal TotalPercent = 0;
                                                                }
                                                                <tbody>
                                                                    @foreach (var sh in ViewBag.ShareHolderAsal)
                                                                    {

                                                                        <tr id=@iSH>
                                                                            <td>
                                                                                <a href="javascript:void(0);" style="font-weight:bold" class="AddPemegangSaham"><font color="blue">@sh.shareholder_name</font></a>

                                                                            </td>
                                                                            <td>
                                                                                @sh.shareholder_identifier
                                                                            </td>
                                                                            <td>
                                                                                @String.Format("{0:0.00}", sh.number_of_shares_string)
                                                                            </td>
                                                                            <td>

                                                                                @String.Format("{0:0.00}", sh.share_percentage)
                                                                            </td>
                                                                            <td hidden>
                                                                                <input type="text" id="identifier_@iSH" value="@sh.shareholder_identifier" />
                                                                            </td>
                                                                            <td hidden>
                                                                                <input type="text" id="type_@iSH" value="@sh.type" />
                                                                            </td>
                                                                            <td hidden>
                                                                                <input type="text" id="organization_shareholder_idx_@iSH" value="@sh.organization_shareholder_idx" />
                                                                            </td>
                                                                        </tr>
                                                                        total = total + @sh.number_of_shares;
                                                                        TotalPercent = TotalPercent + @sh.share_percentage;


                                                                        iSH++;
                                                                    }
                                                                    <tr id=@iSH>
                                                                        <td>
                                                                        </td>
                                                                        <td>
                                                                        </td>
                                                                        <td>
                                                                            @String.Format("{0:0.00}", total)
                                                                            @*@String.Format("{0:#,#.}", total)*@
                                                                        </td>
                                                                        <td>
                                                                            @String.Format("{0:0.00}", TotalPercent)
                                                                            @*@String.Format("{0:#,#.}", TotalPercent)*@

                                                                        </td>
                                                                        <td hidden>
                                                                        </td>
                                                                        <td hidden>
                                                                        </td>
                                                                        <td hidden>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div><!-- end content-->
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-body">
                                                    <h5 class="card-title"></h5>
                                                    <div class="content">
                                                        <div class="toolbar">
                                                            <h2 class="text--med mar-btm--sm"></h2>

                                                        </div>
                                                        <div class="fresh-datatables">
                                                            <table id="tblPemegangSahamBaru" class="table table-hover" width="100%" style="width:100%">
                                                                <thead>
                                                                    <tr class="table-row">
                                                                        @*<th class="th-sm">
                                                                                Bil
                                                                            </th>*@
                                                                        <th class="th-sm">
                                                                            Nama
                                                                        </th>
                                                                        <th class="th-sm">
                                                                            No. Kad Pengenalan/Passport/ <br />
                                                                            Daftar Syarikat
                                                                        </th>
                                                                        <th class="th-sm">
                                                                            Nilai Saham (RM)
                                                                        </th>
                                                                        <th class="th-sm">
                                                                            Peratusan Saham (RM)
                                                                        </th>
                                                                        <th class="th-sm">
                                                                            Status
                                                                        </th>
                                                                        <th class="th-sm">
                                                                            Aktiviti
                                                                        </th>
                                                                        <th hidden class="th-sm">

                                                                        </th>
                                                                    </tr>
                                                                </thead>


                                                            </table>
                                                        </div>
                                                    </div><!-- end content-->
                                                </div>

                                            </div>
                                        </div>
                                    </div>



                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="Pengarah" style="display:none">
                    <div class="block--card main-metrics dir-ver">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle" data-bs-toggle="collapse" data-parent="#accordion" href="#menuFive">
                                        <span class="fas fa-plus"></span>
                                        <b>Ahli Lembaga Pengarah</b>
                                    </a>
                                </h4>
                            </div>
                            <div id="menuFive" class="panel-collapse collapse">
                                <div class="panel-body">

                                    <div class="block--card main-metrics dir-ver">


                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group" style="margin-bottom:2px;margin-top:10px;">
                                                    <div class="col-lg-12">
                                                        <label>Maklumat Asal Pengarah</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group" style="margin-bottom:2px;margin-top:10px;">
                                                    <div class="col-lg-12">
                                                        <label>Maklumat Baru Pengarah</label>
                                                    </div>
                                                    <span style="float: right;">
                                                        <a href="#!" class="btn btn-primary" id="AddPengarah" title="Tambah Pengarah" data-toggle="modal" data-target="#PengarahModal">
                                                            <i class="fas fa-plus" aria-hidden="true"></i>
                                                        </a>
                                                    </span>
                                                </div>

                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <h5 class="card-title"></h5>
                                                        <div class="content">
                                                            <div class="toolbar">
                                                                <h2 class="text--med mar-btm--sm"></h2>

                                                            </div>
                                                            <div class="fresh-datatables">
                                                                <table id="tblDirectorAsal" class="table table-hover" width="100%" style="width:100%">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>
                                                                                Bil
                                                                            </th>
                                                                            <th>
                                                                                Nama
                                                                            </th>
                                                                            <th>
                                                                                No. KP/Passport
                                                                            </th>

                                                                            @*<th>
                                                                                    Kewarganegaraan
                                                                                </th>*@

                                                                        </tr>
                                                                    </thead>


                                                                </table>
                                                            </div>
                                                        </div><!-- end content-->
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <h5 class="card-title"></h5>
                                                        <div class="content">
                                                            <div class="toolbar">
                                                                <h2 class="text--med mar-btm--sm"></h2>

                                                            </div>
                                                            <div class="fresh-datatables">
                                                                <table id="tblDirectorBaru" class="table table-hover" width="100%" style="width:100%">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>
                                                                                Bil
                                                                            </th>
                                                                            <th>
                                                                                Nama
                                                                            </th>
                                                                            <th>
                                                                                No. Kad Pengenalan/Passport
                                                                            </th>

                                                                            <th>
                                                                                Status
                                                                            </th>
                                                                            <th>
                                                                                Aktiviti
                                                                            </th>
                                                                        </tr>
                                                                    </thead>


                                                                </table>
                                                            </div>
                                                        </div><!-- end content-->
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <br />

        <div class="col-md-12">
            <div align="right">
                <button class="btn btn-outline btn-primary btn-sm" type="button" name="btn" value="Add" id="btnSaveOrgUpdate"> Simpan </button>
                @*<button style="padding-right:1em" data-dismiss="modal" type="submit" id="btnSaveOrgUpdate" value="Add" class="btn btn-primary pull-right">
                        Simpan
                    </button>*@

                <button class="btn btn-outline btn-primary btn-sm" name="btn" value="Dashboard" type="submit"> Kembali </button>

            </div>
        </div>
    </div>

    <div id="PemegangSahamModal" class="modal" style="width:100%" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 70%">
            <div class="modal-content">
                <div class="modal-header">
                    <b class="modal-title" id="mySmallModalLabel">Butiran Pemegang Saham</b>

                    <button style="padding-right:1em" class="close" type="button" data-dismiss="modal" id="CloseModelShareHolder" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="ml-3 mr-3">
                        <form id="FormTitle">
                            @*modified by Awie 20221005*@
                            <input hidden type="text" id="statusShareholder" />
                            @*modified by Awie 20221005*@
                            <div class="block--card main-metrics dir-ver">

                                <div class="form-group" style="margin-bottom:2px;margin-top:10px;" id="justification">
                                    @*<div class="col-lg-12">*@

                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" checked type="radio" name="chkKemaskini" value="" id="chkKemaskinitrue">
                                        <label class="form-check-label labelHover" for="chkKemaskinitrue">
                                            Kemaskini
                                        </label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="chkKemaskini" value="" id="chkKemaskinifalse">
                                        <label class="form-check-label labelHover" for="chkKemaskinifalse">
                                            Justifikasi
                                        </label>
                                    </div>


                                    @*</div>*@
                                    <br />
                                </div>
                                <br />

                                <div id="divJustifyPerson">
                                    <div class="row">
                                        <div class="col-2">
                                            Justifikasi person
                                        </div>
                                        :
                                        <div class="col-3">
                                            @Html.DropDownList("JustifikasiPemegangSahamOther_", ViewData["JustifikasiPemegangSaham_"] as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })
                                        </div>
                                        <div class="col-2" id="divOthersPerson" style="display:none">
                                            Justifikasi untuk Lain-lain
                                        </div>

                                        <div class="col-3" id="divOthersPerson1" style="display:none">
                                            <textarea style="overflow: hidden; height: 70px" name="JustifikasiPemegangSaham" autocomplete="off" id="JustifikasiPemegangSaham" class="form-control" value=""></textarea>
                                        </div>

                                    </div>
                                    <br />
                                    <div class="row">

                                        <div class="col-2">
                                            Justifikasi Dokumen
                                        </div>
                                        :<font color="white">_</font>
                                        <div class="col-3 custom-file" id="divFileJustPerson">

                                            <input type="file" class="custom-file-input labelHover" accept="application/pdf,image/png, image/jpeg" name="file_JustPerson" id="file_JustPerson" />
                                            <label class="custom-file-label" for="customFile">Choose file</label>
                                        </div>

                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-2">
                                        </div>


                                        <div id="divdownloadJustPerson" class="col-3 custom-file">

                                            <a href="javascript:downloadFile('file_JustPerson');"><font color="blue" style="font-weight:bold">Muat turun Dokumen</font></a>
                                            <br />

                                        </div>

                                    </div>
                                    <br />



                                </div>
                                <div id="divJustifyOrg">
                                    <div class="row">
                                        <div class="col-2">
                                            Justifikasi org
                                        </div>
                                        :
                                        <div class="col-3">
                                            @Html.DropDownList("JustifikasiPemegangSahamOrg_", ViewData["JustifikasiPemegangSahamOrg_"] as IEnumerable<SelectListItem>, new { @class = "form-control", style = "height: 40px;" })
                                        </div>
                                        <div class="col-2" id="divOtherOrg" style="display:none">
                                            Justifikasi untuk Lain-lain
                                        </div>

                                        <div class="col-3" id="divOtherOrg1" style="display:none">
                                            <textarea style="overflow: hidden; height: 70px" name="JustifikasiPemegangSahamOrg" autocomplete="off" id="JustifikasiPemegangSahamOrg" class="form-control" value=""></textarea>
                                        </div>

                                    </div>
                                    <br />
                                    <div class="row">

                                        <div class="col-2">
                                            Justifikasi Dokumen
                                        </div>
                                        :<font color="white">_</font>
                                        <div class="col-3 custom-file" id="divFileJustOrg">

                                            <input type="file" class="custom-file-input labelHover" accept="application/pdf,image/png, image/jpeg" name="file_JustOrg" id="file_JustOrg" />
                                            <label class="custom-file-label" for="customFile">Choose file</label>
                                        </div>

                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-2">
                                        </div>


                                        <div id="divdownloadJustOrg" class="col-3 custom-file">

                                            <a href="javascript:downloadFile('file_JustOrg');"><font color="blue" style="font-weight:bold">Muat turun Dokumen</font></a>
                                            <br />

                                        </div>

                                    </div>
                                    <br />

                                </div>
                            </div>
                            @*modified by Awie 20221005*@
                            <div class="block--card main-metrics dir-ver">
                                <div id="pemegangsaham_person">
                                    <div class="row">
                                        <div class="col-2">
                                            Status Pemegang Saham<font color="Red"> *</font>
                                        </div>
                                        :
                                        <div class="col-8">
                                            @Html.DropDownList("StatusPemegangSahamPerson_", ViewData["StatusPemegangSahamPerson_"] as IEnumerable<SelectListItem>, new
                                            {
                                                @class = "form-control"@*, style = "height: 40px;width:600px;"*@})
                                        </div>
                                    </div>
                                </div>

                                <div id="pemegangsaham_organization">
                                    <div class="row">
                                        <div class="col-2">
                                            Status Pemegang Saham
                                        </div>
                                        :
                                        <div class="col-8">
                                            @Html.DropDownList("StatusPemegangSahamOrganization_", ViewData["StatusPemegangSahamOrganization_"] as IEnumerable<SelectListItem>, new
                                            {
                                                @class = "form-control"@*, style = "height: 40px;width:600px;"*@})
                                        </div>
                                    </div>
                                </div>

                                <div id="pemegangsaham_all">
                                    <div class="row">
                                        <div class="col-2">
                                            Status Pemegang Saham
                                        </div>
                                        :
                                        <div class="col-8">
                                            @Html.DropDownList("StatusPemegangSahamAll_", ViewData["StatusPemegangSahamAll_"] as IEnumerable<SelectListItem>, new
                                            {
                                                @class = "form-control"@*, style = "height: 40px;width:600px;"*@})
                                        </div>
                                    </div>

                                </div>

                                <input hidden type="text" id="orgID" name="orgID" />
                                <input hidden type="text" id="personID" name="personID" />

                                <input hidden type="text" id="locationFile" />
                                <input hidden type="text" id="fileName" />

                                <input hidden type="text" id="locationFileJust" />
                                <input hidden type="text" id="fileNameJust" />

                                <input hidden type="text" id="locationFileJustOrg" />
                                <input hidden type="text" id="fileNameJustOrg" />


                            </div>

                            <div id="BukanSyarikat">

                                <div class="row">
                                    <div class="col-2">
                                        Nama<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSNama" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                        No.Telefon (HP)<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSHpNo" maxlength="12" onkeypress="return AllowNumbersOnly(event)" />
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-2">
                                        No Kad Pengenalan/Passport<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSNoKP" maxlength="14" onchange="autoPopulate('IDPSNoKP','IDPSTarikhLahir','IDPSUmur','genderlist_','MalaysialistSH_')" />
                                    </div>
                                    <div class="col-2">
                                        Tarikh Lahir<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input @*readonly*@ autocomplete="off" type="date" class="form-control" id="IDPSTarikhLahir" onblur="changeAge(this,'shareholder');" maxlength="10" onchange="getAge('IDPSTarikhLahir', 'IDPSUmur');" />

                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-2">
                                        Alamat<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control uppercase" id="IDPSAlamat" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                        Umur<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input readonly autocomplete="off" type="text" class="form-control" id="IDPSUmur" maxlength="2" />

                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-2">

                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control uppercase" id="IDPSAlamat1" maxlength="150" onkeypress="return InputToUpper(this)" />
                                    </div>
                                    <div class="col-2">
                                        Jantina<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        @Html.DropDownList("genderlist_", ViewData["genderlist"] as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })


                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">

                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control uppercase" id="IDPSAlamat2" maxlength="150" onkeypress="return InputToUpper(this)" />
                                    </div>
                                    <div class="col-2">
                                        Agama<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        @Html.DropDownList("religionlist_", ViewData["religionlist"] as IEnumerable<SelectListItem>, new { @class = "form-control", style = "height: 40px;" })


                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Poskod<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSPoskod" onkeypress="return AllowNumbersOnly(event)" maxlength="5" onkeyup="loadTown(this, 'IDPSBandar');" onblur="loadTown(this,'IDPSBandar');" />
                                    </div>
                                    <div class="col-2">
                                        Warganegara<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <!--<div id="divWarganegara">-->
                                        @*<input autocomplete="off" type="text" class="form-control" id="IDPSWarganegara" maxlength="150" value="Malaysia" />*@
                                        @*@Html.DropDownList("Malaysialist_", ViewData["Malaysialist_"] as IEnumerable<SelectListItem>, "--Sila Pilih --", new { @class = "form-control", style = "height: 40px;", @disabled = "disabled" })*@

                                        <!--@Html.DropDownList("MalaysialistSH_", ViewData["Malaysialist_"] as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })
                                        </div>-->
                                        <div id="divAllCountries">
                                            <select class="form-control" id="allCountries">
                                                <option>
                                                    --Sila Pilih Status Pemegang Saham--
                                                </option>
                                            </select>
                                        </div>
                                        <div id="divWarganegara" hidden>
                                            @Html.DropDownList("MalaysialistSH_", ViewData["Malaysialist_"] as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })
                                        </div>
                                        <div id="divBukanWarganegara" hidden>
                                            @Html.DropDownList("AllcountrylistSH_", ViewBag.Country as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })
                                        </div>
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Bandar/Daerah
                                    </div>
                                    :

                                    <div class="col-3">
                                        <select disabled id="IDPSBandar" name="IDPSBandar" class="form-control" onchange="loadState(this, 'IDPSNegeri', 'person');" onblur="loadState(this, 'IDPSNegeri', 'person');">
                                            <option value="">Sila Pilih</option>
                                        </select>
                                    </div>

                                    <div class="col-2">
                                        Nilai Saham<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSSaham" maxlength="7" onkeypress="return AllowNumbersOnly(event)" />
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Negeri
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" disabled type="text" class="form-control" id="IDPSNegeri" maxlength="150" />
                                        <input type="text" hidden id="IDPSNegeri_idx" name="IDPSNegeri_idx" class="form-control" value="" />
                                    </div>

                                    <div class="col-2">
                                        Salinan My Kad<font color="Red"> *</font>
                                    </div>
                                    :<font color="white">_</font>
                                    <div class="col-3 custom-file" id="divMykad">

                                        <input type="file" class="custom-file-input labelHover" accept="application/pdf,image/png, image/jpeg" name="file_MyKadSH" id="file_MyKadSH" />
                                        <label class="custom-file-label" for="customFile">Choose file</label>
                                    </div>

                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-2">
                                    </div>
                                    <div class="col-3">

                                    </div>
                                    <div class="col-2">

                                    </div>


                                    <div id="divdownload" class="col-3 custom-file">

                                        <a href="javascript:downloadFile('MyKad_ShareHolder');"><font color="blue" style="font-weight:bold">Muat turun My Kad</font></a>
                                        <br />

                                    </div>

                                </div>
                                <br />


                                <div class="footer">
                                    <div align="right" style="padding-right:1em">

                                        <button style="padding-right:1em" data-dismiss="modal" type="submit" id="btnSavePerson" value="Add" class="btn btn-primary pull-right">
                                            Simpan
                                        </button>
                                        <button style="padding-right:1em" data-dismiss="modal" type="submit" id="btnAddPerson" value="Add" class="btn btn-primary pull-right">
                                            Tambah
                                        </button>

                                    </div>
                                </div>
                            </div>


                            <div id="Syarikat" style="display:none">



                                <div class="row">
                                    <div class="col-2">
                                        Nama Syarikat<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSNamaSyarikat" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                        No.Telefon (HP)<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" onkeypress="return AllowNumbersOnly(event)" id="IDPSHpNoSyarikat" maxlength="12" />
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        No Daftar Syarikat<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSNoDaftarSyarikat" maxlength="50" />
                                    </div>
                                    <div class="col-2">
                                        Tahun Syarikat Didaftarkan<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDTahunDaftarSyarikat" maxlength="4" onkeypress="return AllowNumbersOnly(event)" />
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Alamat<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control uppercase" id="IDPSAlamatSyarikat1" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                        Negara<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">

                                        <div id="divAllCountriesSyarikat">
                                            <select class="form-control" id="allCountriesSyarikat">
                                                <option>
                                                    --Sila Pilih Status Pemegang Saham--
                                                </option>
                                            </select>
                                        </div>
                                        <div id="divTempatan" hidden>
                                            @Html.DropDownList("malaysialist_", ViewData["Malaysialist_"] as IEnumerable<SelectListItem>, "--Sila Pilih -- ", new { @class = "form-control", style = "height: 40px;" })

                                        </div>
                                        <div id="divAsean" hidden>
                                            @Html.DropDownList("AseanList_", ViewData["Aseanlist"] as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })

                                        </div>
                                        <div id="divBukanAsean" hidden>
                                            @Html.DropDownList("NonAseanlist_", ViewData["NonAseanlist_"] as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })

                                        </div>

                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">

                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSAlamatSyarikat2" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                        Nilai Saham (RM)<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDNilaiSaham" maxlength="10" />
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">

                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSAlamatSyarikat3" maxlength="150" onkeypress="return InputToUpper(event)" />
                                    </div>

                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Poskod<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        @*<input autocomplete="off" type="text" class="form-control" id="IDPSPoskodSyarikat" maxlength="5" />*@
                                        <input autocomplete="off" type="text" class="form-control" id="IDPSPoskodSyarikat" maxlength="5" onkeypress="return AllowNumbersOnly(event)" onkeyup="loadTown(this, 'IDPSBandarSyarikat', 'company');" onblur="loadTown(this,'IDPSBandarSyarikat', 'company');" />
                                    </div>

                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Bandar/Daerah
                                    </div>
                                    :
                                    @*<div class="col-3">
                                            <input autocomplete="off" readonly type="text" class="form-control" id="IDPSBandarSyarikat" maxlength="150" style="background-color: lightgray" />
                                        </div>*@

                                    <div class="col-3">
                                        <select disabled id="IDPSBandarSyarikat" name="IDPSBandarSyarikat" class="form-control" onchange="loadState(this, 'IDPSNegeriSyarikat');" onblur="loadState(this, 'IDPSNegeriSyarikat');">
                                            <option value="">Sila Pilih</option>
                                        </select>
                                    </div>



                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Negeri
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input disabled autocomplete="off" readonly type="text" class="form-control" id="IDPSNegeriSyarikat" maxlength="150" />
                                        <input hidden type="text" id="IDPSNegeriSyarikat_idx" name="IDPSNegeriSyarikat_idx" class="form-control" value="" />
                                    </div>

                                </div>
                                <br />

                                <div class="footer">
                                    <div align="right" style="padding-right:1em">

                                        <button style="padding-right:1em" data-dismiss="modal" type="submit" id="btnSaveOrganization" value="Add" class="btn btn-primary pull-right">
                                            Simpan
                                        </button>

                                        <button style="padding-right:1em" data-dismiss="modal" type="submit" id="btnAddOrganization" value="Add" class="btn btn-primary pull-right">
                                            Tambah
                                        </button>


                                    </div>
                                </div>

                            </div>
                            <br />

                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div id="PengarahModal" class="modal" style="width:100%" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 70%;">
            <div class="modal-content">
                @*<div>

                    </div>*@
                <div class="modal-header">
                    <b class="modal-title" id="mySmallModalLabel">Butiran Pengarah</b>

                    <button style="padding-right:1em" class="close" type="button" data-dismiss="modal" id="CloseModelDirector" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="ml-5 mr-3">
                        <form id="FormTitle">
                            <input hidden type="text" id="directorID" name="directorID" />
                            <input hidden type="text" id="locationFileDirector" />
                            <input hidden type="text" id="fileNameDirector" />
                            <input hidden type="text" id="locationFilePasDirector" />
                            <input hidden type="text" id="fileNamePasDirector" />
                            <input hidden type="text" id="shareholderID_add" />
                            <input hidden type="text" id="fileNameJustDirector" />
                            <input hidden type="text" id="locationFileJustDirector" />

                            <div class="block--card main-metrics dir-ver">

                                <div class="form-group" style="margin-bottom:2px;margin-top:10px;" id="divJustificationDirector">
                                    @* <div class="col-lg-12">*@

                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" checked type="radio" name="chkKemaskiniDirector" value="" id="chkKemaskinitrueDirector">
                                        <label class="form-check-label labelHover" for="chkKemaskinitrueDirector">
                                            Kemaskini
                                        </label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="chkKemaskiniDirector" value="" id="chkKemaskinifalseDirector">
                                        <label class="form-check-label labelHover" for="chkKemaskinifalseDirector">
                                            Justifikasi
                                        </label>
                                    </div>


                                    @*</div>*@
                                    <br />
                                </div>

                                <div id="divJustifyDirector">
                                    <br />
                                    <div class="row">
                                        <div class="col-2">
                                            Justifikasi
                                        </div>
                                        :
                                        <div class="col-3">
                                            @Html.DropDownList("JustifikasiDirector_", ViewData["JustifikasiPemegangSaham_"] as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })
                                        </div>
                                        <div class="col-2" id="divJustOtherDirector" style="display:none">
                                            Justifikasi untuk Lain-lain
                                        </div>

                                        <div class="col-3" id="divJustOtherDirector1" style="display:none">
                                            <textarea style="overflow: hidden; height: 70px" name="JustificationDirector" autocomplete="off" id="JustificationDirector" class="form-control" value=""></textarea>
                                        </div>

                                    </div>
                                    <br />
                                    <div class="row">

                                        <div class="col-2">
                                            Justifikasi Dokumen
                                        </div>
                                        :<font color="white">_</font>
                                        <div class="col-3 custom-file" id="divFileJustDirector">

                                            <input type="file" class="custom-file-input labelHover" accept="application/pdf,image/png, image/jpeg" name="file_JustDirector" id="file_JustDirector" />
                                            <label class="custom-file-label" for="customFile">Choose file</label>
                                        </div>

                                        <br />
                                    </div>
                                    <div class="row">
                                        <div class="col-2">
                                        </div>


                                        <div id="divdownloadJustDirector" class="col-3 custom-file">

                                            <a href="javascript:downloadFile('file_JustDirector');"><font color="blue" style="font-weight:bold">Muat turun Dokumen</font></a>
                                            <br />

                                        </div>

                                        <br />
                                    </div>
                                </div>
                            </div>
                            <div id="pemegangSahamAdd" class="row" style="display:blick;">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="col-form-label">Nama Sama Seperti Pemegangan Saham?</label>
                                        <br />
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" id="rbNamaPemeganganSaham1" @*checked*@ type="radio" value="Ya" name="ChkNamaPemeganganSaham">
                                            <label class="form-check-label labelHover" for="rbNamaPemeganganSaham1">Ya</label>


                                        </div>
                                        <div class="form-check form-check-inline">

                                            <input class="form-check-input" id="rbNamaPemeganganSaham2" type="radio" value="Tidak" name="ChkNamaPemeganganSaham">
                                            <label class="form-check-label labelHover" for="rbNamaPemeganganSaham2">Tidak</label>

                                        </div>
                                    </div>

                                </div>

                            </div>
                            <br />
                            <div id="PengarahDiv" hidden>
                                <div class="row">
                                    <div class="col-2">
                                        Nama<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <div id="bknNamaPemegangShare" style="display:none;">
                                            <input autocomplete="off" type="text" class="form-control" id="IDNamaPengarah" maxlength="150" />
                                        </div>
                                        <div id="NamaPemegangShare" style="display:block;">
                                            @Html.DropDownList("PemegangSaham_", ViewData["PemegangSaham_"] as IEnumerable<SelectListItem>, "--Sila Pilih--", new { @class = "form-control", style = "height: 40px;" })
                                        </div>
                                    </div>

                                    <div class="col-2">
                                        Jantina<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        @Html.DropDownList("genderlistDirector_", ViewData["genderlist"] as IEnumerable<SelectListItem>, "--Sila Pilih-- ", new { @class = "form-control", style = "height: 40px;" })
                                    </div>
                                </div>
                                <br />


                                <div class="row">
                                    <div class="col-2">
                                        No Kad Pengenalan/Passport<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input readonly autocomplete="off" type="text" class="form-control" id="IDNoKPPengarah" onblur="checkDirectorID(this);" maxlength="14" onchange="autoPopulate('IDNoKPPengarah','IDTarikhLahirPengarah','IDUmurPengarah','genderlistDirector_','CountryList_')" />
                                    </div>
                                    <div class="col-2">
                                        Tarikh Lahir<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input @*readonly*@ autocomplete="off" type="date" class="form-control" onblur="changeAge(this,'director');" id="IDTarikhLahirPengarah" maxlength="10" onchange="getAge('IDTarikhLahirPengarah', 'IDUmurPengarah');" />
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Alamat<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input @*readonly*@ autocomplete="off" type="text" class="form-control" id="IDPSAlamatPengarah" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                        Umur<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" disabled type="text" class="form-control" id="IDUmurPengarah" maxlength="2" />
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">

                                    </div>
                                    :
                                    <div class="col-3">
                                        <input @*readonly*@ autocomplete="off" type="text" class="form-control" id="IDPSAlamat1Pengarah" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                        Warganegara<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">

                                        <select id="CountryList_" name="Country_" class="form-control">

                                            <option value="">--Sila Pilih--</option>

                                            @foreach (var data in ViewBag.Country)
                                            {
                                                <option value="@data.Value">@data.Text</option>

                                            }
                                        </select>

                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">

                                    </div>
                                    :
                                    <div class="col-3">
                                        <input @*readonly*@ autocomplete="off" type="text" class="form-control" id="IDAlamat2Pengarah" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                        No. Telefon (HP)<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDHPPengarah" maxlength="12" onkeypress="return AllowNumbersOnly(event)" />
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Poskod<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input @*readonly*@ autocomplete="off" type="text" class="form-control" id="IDPoskodPengarah" maxlength="5" onkeypress="return AllowNumbersOnly(event)" onkeyup="loadTown(this, 'IDBandarPengarah', 'director');" onblur="loadTown(this,'IDBandarPengarah', 'director');" />
                                    </div>
                                    <div class="col-2">
                                        No. Telefon (P)<font color="Red"> *</font>
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" type="text" class="form-control" id="IDPhonePengarah" maxlength="12" onkeypress="return AllowNumbersOnly(event)" />
                                    </div>
                                </div>
                                <br />


                                <div class="row">
                                    <div class="col-2">
                                        Bandar/Daerah
                                    </div>
                                    :
                                    <div class="col-3">
                                        <select disabled id="IDBandarPengarah" name="IDBandarPengarah" class="form-control" onchange="loadState(this, 'IDNegeriPengarah');" onblur="loadState(this, 'IDNegeriPengarah');">
                                            <option value="">Sila Pilih</option>
                                        </select>
                                    </div>

                                    <div class="col-2">
                                        Salinan MyKad/Passport (berwarna)<font color="Red"> *</font>
                                    </div>
                                    :<font color="white">_</font>
                                    <div class="col-3 custom-file" id="downloadDirectorMykad">
                                        <a href="javascript:downloadFile();">Muat turun</a>
                                        <input type="file" class="custom-file-input labelHover" accept="application/pdf,image/png, image/jpeg" name="file_MyKadDirector" id="file_MyKadDirector" />
                                        <label class="custom-file-label" for="customFile">Choose file</label>
                                    </div>

                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-2">
                                        Negeri
                                    </div>
                                    :
                                    <div class="col-3">
                                        <input autocomplete="off" disabled type="text" class="form-control" id="IDNegeriPengarah" maxlength="150" />
                                    </div>
                                    <div class="col-2">
                                    </div>
                                    <div id="divdownloadDirector" class="col-3 custom-file">
                                        <a href="javascript:downloadFile('MyKad_Director');"><font color="blue" style="font-weight:bold">Muat turun My Kad/Pasport</font></a>

                                    </div>
                                </div>
                                <br />
                                <div id="passpengajianDirector">
                                    <div class="row">
                                        <div class="col-2">
                                        </div>
                                        <div class="col-3">
                                        </div>
                                        <div class="col-2">
                                            Pas Penggajian <font color="Red"> *</font>
                                        </div>
                                        :<font color="white">_</font>
                                        <div class="col-3 custom-file" id="downloadDirectorPas">
                                            <a href="javascript:downloadFile();">Download</a>
                                            <input type="file" class="custom-file-input labelHover" accept="application/pdf,image/png, image/jpeg" name="file_MyPengajianDirector" id="file_MyPengajianDirector" />
                                            <label class="custom-file-label" for="customFile">Choose file</label>
                                        </div>

                                    </div>
                                </div>
                                <br />
                                <div id="passpengajiandownload">
                                    <div class="row">

                                        <div class="col-2">
                                        </div>
                                        <div class="col-3">
                                        </div>
                                        <div class="col-2">
                                        </div>
                                        <div class="col-3">
                                            <div id="divdownloadPengajian" class="custom-file">
                                                <a href="javascript:downloadFile('Pas_Penggajian');"><font color="blue" style="font-weight:bold">Muat turun Pas Penggajian</font></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="footer" id="btnPengarahSave" hidden>
                                <div align="right">
                                    <button style="padding-right:1em" data-dismiss="modal" type="button" id="btnSaveDirector" value="Add" class="btn btn-primary pull-right">
                                        Simpan
                                    </button>

                                    <button style="padding-right:1em" data-dismiss="modal" type="button" id="btnAddPengarah" value="Add" class="btn btn-primary pull-right">
                                        Tambah
                                    </button>
                                </div>
                            </div>

                            <br />
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

}
@section Scripts {
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Content/bootstrap4/js/bootstrap.min.js"></script>
    <script src="~/Scripts/DataTables/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/zangdar.min.js"></script>

    @Html.Partial("_shared_script")
    @*Syarikat*@
    <script>

        $(document).ready(function () {

            var url = "/Tobtab/ajaxOrganizationUpdate";

            var AppID = $("#AppID").val();

            $.ajax({
                type: 'POST',
                url: url, // Url.Action()
                data: {
                    AppID: AppID,
                    module: "tobtab",
                },
                "success": function (data) {
                    //console.log(data);
                    if (data != null) {
                        for (var x = 0; x < data.length; x++) {
                            //OLD
                            $("#syarikat_NamaPenuh").val(data[x].old_organization_name);

                            $("#syarikat_AlamatBerdaftar").val(data[x].old_addr_1);
                            $("#syarikat_AlamatBerdaftar1").val(data[x].old_addr_2);
                            $("#syarikat_AlamatBerdaftar2").val(data[x].old_addr_3);

                            $("#syarikat_poskod").val(data[x].old_postcode);
                            $("#syarikat_bandar").val(data[x].old_city);
                            $("#Daerah_idx").val(data[x].old_city_idx); //added by samsuri (CR#57259)  on 10 Jan 2024
                            $("#syarikat_negeri").val(data[x].old_state);
                            $("#pendaftaranSyarikat_ModalBerbayar").val(data[x].old_paid_capital.toLocaleString("en-US"));
                            //NEW
                            $("#syarikat_NamaPenuhBaru").val(data[x].new_organization_name);
                            $("#JustifikasiNama").val(data[x].new_justification_name);
                            $("#syarikat_AlamatBerdaftarBaru").val(data[x].new_addr_1);

                            $("#syarikat_AlamatBerdaftar1Baru").val(data[x].new_addr_2);
                            $("#syarikat_AlamatBerdaftar2Baru").val(data[x].new_addr_3);

                            $("#syarikat_poskod_baru").val(data[x].new_postcode);
                            $("#syarikat_bandarBaru").val(data[x].new_city);
                            $("#syarikat_negeriBaru").val(data[x].new_state);
                            $("#pendaftaranSyarikat_ModalBerbayarBaru").val(data[x].new_paid_capital.toLocaleString("en-US"));

                            var uploadname = data[x].fileNamesalinanAsalLesen;
                            $("#fileLocsalinanAsalLesen").val(data[x].fileLocsalinanAsalLesen);
                            $("#fileNamesalinanAsalLesen").val(data[x].fileNamesalinanAsalLesen);
                            if (uploadname != null && uploadname != "") {
                                document.getElementById('divdownloadSalinanAsal').style.display = 'block';
                            }
                            else {
                                document.getElementById('divdownloadSalinanAsal').style.display = 'none';
                            }

                            var uploadnameSB = data[x].fileNameSewaBeliPremis;

                            $("#fileLocSewaBeliPremis").val(data[x].fileLocSewaBeliPremis);
                            $("#fileNameSewaBeliPremis").val(data[x].fileNameSewaBeliPremis);
                            if (uploadnameSB != null && uploadnameSB != "") {
                                document.getElementById('divdownloadSewaBeli').style.display = 'block';
                            }
                            else {
                                document.getElementById('divdownloadSewaBeli').style.display = 'none';
                            }
                            var uploadnamePL = data[x].fileNamepelanLantai;
                            $("#fileLocpelanLantai").val(data[x].fileLocpelanLantai);
                            $("#fileNamepelanLantai").val(data[x].fileNamepelanLantai);
                            if (uploadnamePL != null && uploadnamePL != "") {
                                document.getElementById('divdownloadPelanLantai').style.display = 'block';
                            }
                            else {
                                document.getElementById('divdownloadPelanLantai').style.display = 'none';
                            }

                            var uploadnameSSM = data[x].fileSSM;
                            $("#fileLocSSM").val(data[x].fileLocSSM);
                            $("#fileNameSSM").val(data[x].fileSSM);

                            if (uploadnameSSM != null && uploadnameSSM != "") {
                                //document.getElementById('PerakuanPendaftarDownload').style.display = 'block';
                            }
                            else {
                                //document.getElementById('PerakuanPendaftarDownload').style.display = 'none';
                            }


                            var uploadnamePic = data[x].fileNameGambarPermis;
                            $("#FilelocGambarPermis").val(data[x].FilelocGambarPermis);
                            $("#fileNameGambarPermis").val(data[x].fileNameGambarPermis);
                            if (uploadnamePic != null && uploadnamePic != "") {
                                document.getElementById('divdownloadGambarPermis').style.display = 'block';
                            }
                            else {
                                document.getElementById('divdownloadGambarPermis').style.display = 'none';
                            }



                            var postcode1 = data[x].old_postcode;

                            if (postcode1 != null) {
                                loadTown(postcode1, 'syarikat_bandar', 'company');

                            }

                            var state1 = data[x].old_city;

                            if (state1 != null) {
                                state1 = data[x].old_city.toString(16);
                                loadState(state1, 'syarikat_negeri');
                            }

                            var postcode2 = data[x].new_postcode;

                            if (postcode2 != null) {
                                loadTown(postcode2, 'syarikat_bandarBaru', 'New');

                            }

                            var state2 = data[x].new_city;

                            if (state2 != null) {
                                state2 = data[x].new_city.toString(16);
                                loadState(state2, 'syarikat_negeriBaru');
                            }

                            if (data[x].is_change_name == 1) {
                                chkNamaSyarikat.checked = true;
                            }
                            else {
                                chkNamaSyarikat.checked = false;
                            }
                            if (data[x].is_change_address == 1) {
                                chkAlamatSyarikat.checked = true;
                            }
                            else {
                                chkAlamatSyarikat.checked = false;
                            }
                            if (data[x].is_change_capital == 1) {
                                chkModalBerbayar.checked = true;
                            }
                            else {
                                chkModalBerbayar.checked = false;
                            }

                            if (data[x].is_shareholder == 1) {
                                chkPerubahanPemegangSaham.checked = true;
                            }
                            else {
                                chkPerubahanPemegangSaham.checked = false;
                            }

                            if (data[x].is_directors == 1) {
                                chkAhliLembagaPengarah.checked = true;
                            }
                            else {
                                chkAhliLembagaPengarah.checked = false;
                            }

                            toggleTukarStatus();

                            //added by samsuri (CR#57258)  on 10 jan 2024
                            var new_addr_1_chk = data[x].new_addr_1;
                            //$("#is_premise_ready").val(data[x].is_premise_ready);

                            //modified by samsuri (CR#57258)  on 10 jan 2024
                            if (data[x].is_premise_ready == 1 && new_addr_1_chk != null && $("#AlamatSyarikatHQ").is(':checked')) {
                                chkPremisDocTrue.checked = true;
                                chkPremisDocFalse.checked = false;
                                document.getElementById('DivPremisDoc').style.display = 'block';
                            }
                            else {
                                chkPremisDocTrue.checked = false;
                                chkPremisDocFalse.checked = true;
                                document.getElementById('DivPremisDoc').style.display = 'none';
                            }
                            //JustifikasiNama

                            
                        }

                    }
                }

            });

            $("#btnSaveOrgUpdate").click(function (e) {
                var url = "";
                var url = "/TobTab/ajaxChangeStatusUpdate";

                //added by samsuri (CR#57258)  on 5 jan 2024
                if ($("#AlamatSyarikatCaw").is(':checked')){
                    url = "/TobTab/ajaxChangeStatusBranchUpdate"; //TOBTABController
                }

                if ($("#chkNamaSyarikat").is(':checked')) {

                    var chkNamaSyarikat = 1;
                }
                else {
                    var chkNamaSyarikat = 0;
                }
                if ($("#chkAlamatSyarikat").is(':checked')) {
                    var chkAlamatSyarikat = 1;
                }
                else {
                    var chkAlamatSyarikat = 0;
                }
                if ($("#chkModalBerbayar").is(':checked')) {
                    var chkModalBerbayar = 1;
                }
                else {
                    var chkModalBerbayar = 0;
                }
                if ($("#chkPerubahanPemegangSaham").is(':checked')) {
                    var chkPerubahanPemegangSaham = 1;
                }
                else {
                    var chkPerubahanPemegangSaham = 0;
                }
                if ($("#chkAhliLembagaPengarah").is(':checked')) {
                    var chkAhliLembagaPengarah = 1;
                }
                else {
                    var chkAhliLembagaPengarah = 0;
                }

                //added by samsuri (CR#57259)  on 2 jan 2024
                var cawlst = $('#CawanganList :selected').text();
                if ($("#AlamatSyarikatCaw").is(':checked') && cawlst == "Sila Pilih") {
                    errorPopup("Sila buat pilihan cawangan");
                    return;
                }

                var itemIDX = document.getElementById("itemID").value;
                var new_organization_name = document.getElementById("syarikat_NamaPenuhBaru").value;
                var new_justification_name = document.getElementById("JustifikasiNama").value;
                var new_addr_1 = document.getElementById("syarikat_AlamatBerdaftarBaru").value;
                var new_addr_2 = document.getElementById("syarikat_AlamatBerdaftar1Baru").value;
                var new_addr_3 = document.getElementById("syarikat_AlamatBerdaftar2Baru").value;
                var new_postcode = document.getElementById("syarikat_poskod_baru").value;
                var new_city = document.getElementById("syarikat_bandarBaru").value;
                var new_state = document.getElementById("Negeri_idx").value;
                var new_paid_capital = document.getElementById("pendaftaranSyarikat_ModalBerbayarBaru").value;
                var stub_ref = document.getElementById("AppID").value;

                //added by samsuri (CR#57259)  on 3 jan 2024
                if ($("#AlamatSyarikatCaw").is(':checked') && (new_addr_1.length < 1 || new_postcode.length < 5)) {
                    errorPopup("Sila masukkan Alamat Pejabat Baru");
                    return;
                }

                //added by samsuri (CR#57259)  on 28 Dec 2023 - start
                if ($("#AlamatSyarikatCaw").is(':checked')) {
                    var branches_idx = document.getElementById("branch_idx").value;
                    var old_addr_1 = document.getElementById("syarikat_AlamatBerdaftar").value;
                    var old_addr_2 = document.getElementById("syarikat_AlamatBerdaftar1").value;
                    var old_addr_3 = document.getElementById("syarikat_AlamatBerdaftar2").value;
                    var old_postcode = document.getElementById("syarikat_poskod").value;                    
                    var old_city = document.getElementById("Daerah_idx").value; //IDPSBandarSyarikat syarikat_bandar OK
                    //msgPopup("old_city:"+old_city);  
                    
                    //return;                  
                    var old_state = document.getElementById("IDPSNegeriSyarikat_idx").value;
                    //var OrgID = document.getElementById("OrgID").value;
                    var branch_stub_ref = document.getElementById("Branch_Lic_Stub_idx").value; 
                    //msgPopup("branch_stub_ref:"+branch_stub_ref);
                }
                //added by samsuri (CR#57259)  on 28 Dec 2023 - end

                //msgPopup("premise ready:"+document.getElementById("chkPremisDocTrue").checked);
                var formData = new FormData();
                if (document.getElementById("chkPremisDocTrue").checked == true)
                    formData.append('is_premise_ready', 1);
                else {
                    formData.append('is_premise_ready', 0);
                }


                formData.append("file_PerjanjianSewaBeliPermis", document.getElementById("file_PerjanjianSewaBeliPermis").files[0]);
                formData.append("file_PelanLantaiPermis", document.getElementById("file_PelanLantaiPermis").files[0]);
                formData.append("file_salinanAsalLesen", document.getElementById("file_salinanAsalLesen").files[0]);
                formData.append("file_GambarPermis", document.getElementById("file_GambarPermis").files[0]);


                formData.append('new_organization_name', new_organization_name);
                formData.append('new_justification_name', new_justification_name);
                formData.append('new_addr_1', new_addr_1);
                formData.append('new_addr_2', new_addr_2);
                formData.append('new_addr_3', new_addr_3);
                formData.append('new_postcode', new_postcode);
                formData.append('new_city', new_city);
                formData.append('stub_ref', stub_ref);
                formData.append('new_state', new_state);
                formData.append('new_paid_capital', new_paid_capital);
                formData.append('is_change_name', chkNamaSyarikat);
                formData.append('is_change_address', chkAlamatSyarikat);
                formData.append('is_change_capital', chkModalBerbayar);
                formData.append('is_shareholder', chkPerubahanPemegangSaham);
                formData.append('is_directors', chkAhliLembagaPengarah);
                formData.append('itemID', itemIDX);

                //added by samsuri (CR#57259)  on 28 Dec 2023 - start
                if ($("#AlamatSyarikatCaw").is(':checked')) {
                    formData.append('tobtab_add_branches_upd_idx', branches_idx);
                    //formData.append('Is_change_address', 1);
                    //formData.append('organization_ref', OrgID);
                    
                    formData.append('new_branch_addr_1', new_addr_1);
                    formData.append('new_branch_addr_2', new_addr_2);
                    formData.append('new_branch_addr_3', new_addr_3);
                    formData.append('new_branch_postcode', new_postcode);
                    formData.append('new_branch_city', new_city);
                    formData.append('new_branch_state', new_state);

                    formData.append('old_branch_addr_1', old_addr_1);
                    formData.append('old_branch_addr_2', old_addr_2);
                    formData.append('old_branch_addr_3', old_addr_3);
                    formData.append('old_branch_postcode', old_postcode);
                    formData.append('old_branch_city', old_city);
                    formData.append('old_branch_state', old_state);
                    formData.append('branch_stub_ref', branch_stub_ref);
                }
                //added by samsuri (CR#57259)  on 28 Dec 2023 - end

                $.ajax({
                    type: 'POST',
                    url: url, // Url.Action()
                    data: formData,
                    processData: false,
                    contentType: false,
                    "success": function (data) {
                        msgPopup("Berjaya!");
                        // $('#PemegangSahamModal').modal('hide');
                        //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);

                    }

                });

                //modified by samsuri (CR#57259)  on 5 jan 2024
                if ($("#AlamatSyarikatHQ").is(':checked')) {
                    location.reload();
                }


            });

        });
    </script>


    @*Director*@
    <script>

        $(document).ready(function () {

            DirectorAsal();
            DirectorBaru();

            $('#AddPengarah').click(function () {

                //$("#rbGender1").prop('disabled', true);
                //$("#rbGender2").prop('disabled', true);
                //$('#IDNamaPengarah').prop('readonly', true);
                //$('#IDNoKPPengarah').prop('readonly', true);
                //$('#IDTarikhLahirPengarah').prop('readonly', true);
                //$('#IDPSAlamatPengarah').prop('readonly', true);
                //$("#IDBandarPengarah").prop('disabled', true);
                //$("#IDPSAlamat1Pengarah").prop('readonly', true);
                //$("#CountryList_").prop('disabled', true);
                //$("#IDAlamat2Pengarah").prop('readonly', true);
                //$("#IDHPPengarah").prop('readonly', true);
                //$("#IDPhonePengarah").prop('readonly', true);
                //$("#IDTelPengarah").prop('readonly', true);
                //$("#IDPoskodPengarah").prop('readonly', true);
                //$("#genderlistDirector_").prop('disabled', true);
                $("#btnPengarahSave").prop('hidden', true);
                $("#rbNamaPemeganganSaham1").prop("checked", false);
                $("#rbNamaPemeganganSaham2").prop("checked", false);
                $("#PengarahDiv").prop("hidden", true);
                $("#PemegangSaham_").val('');
                $('#IDNamaPengarah').val("");
                $('#IDNoKPPengarah').val("");
                $('#IDTarikhLahirPengarah').val("");
                $('#IDPSAlamatPengarah').val("");
                $("#IDUmurPengarah").val("");
                $("#IDPSAlamat1Pengarah").val("");

                $("#IDAlamat2Pengarah").val("");
                $("#IDHPPengarah").val("");
                $("#IDPhonePengarah").val("");
                //$("#IDTelPengarah").val("");

                $("#genderlistDirector_").val("");
                $("#IDPoskodPengarah").val("");
                $("#IDBandarPengarah").val("");
                $("#IDNegeriPengarah").val("");

                document.getElementById('bknNamaPemegangShare').style.display = 'none';
                document.getElementById('NamaPemegangShare').style.display = 'block';
                document.getElementById('pemegangSahamAdd').style.display = 'block';
                document.getElementById('btnSaveDirector').style.display = 'none';
                document.getElementById('divJustificationDirector').style.display = 'none';
                document.getElementById('divJustifyDirector').style.display = 'none';
                //  document.getElementById('divOthersDirector').style.display = 'none';
                document.getElementById('btnAddPengarah').style.display = 'block';
                //   document.getElementById('justificationDirector').style.display = 'none';
                document.getElementById('IDNamaPengarah').style.backgroundColor = "";
                document.getElementById('IDNoKPPengarah').style.backgroundColor = "";
                document.getElementById('IDTarikhLahirPengarah').style.backgroundColor = "";
                document.getElementById('IDPSAlamatPengarah').style.backgroundColor = "";
                document.getElementById('IDPSAlamat1Pengarah').style.backgroundColor = "";
                document.getElementById('IDAlamat2Pengarah').style.backgroundColor = "";
                document.getElementById('CountryList_').style.backgroundColor = "";
                document.getElementById('IDPoskodPengarah').style.backgroundColor = "";
                document.getElementById('IDHPPengarah').style.backgroundColor = "";
                document.getElementById('IDPhonePengarah').style.backgroundColor = "";
                document.getElementById('IDHPPengarah').style.backgroundColor = "";
                document.getElementById('genderlistDirector_').style.backgroundColor = "";

                var Malaysia_ = $("#Malaysia").val();
                $("#CountryList_").val(Malaysia_);
                $("#CountryList_").change();
            });

            $("#tblDirectorBaru").on('click', '.AddPengarah', function () {
                document.getElementById('divJustifyDirector').style.display = 'none';
                document.getElementById('divJustificationDirector').style.display = 'block';
                //$("#PengarahDiv").prop("hidden", true);
                //$("#btnPengarahSave").prop("hidden", true);
                //$("#chkKemaskinitrueDirector").prop("checked", false);
                //$("#chkKemaskinifalseDirector").prop("checked", false);
                showLoader();

                var id = $(this).parent().parent().attr('id');

                var directorID = $("#personDirectorIDX_" + id).val();

                var status = $("#status_director_" + id).val();

                url = "/MM2H/ajaxChangeStatusDirectorDetail";
                /* IDX = $("#directorID_" + id).val();*/

                $("#directorID").val(directorID);

                $('#IDNamaPengarah').val("");
                $('#IDNoKPPengarah').val("");
                $('#IDTarikhLahirPengarah').val("");
                $('#IDPSAlamatPengarah').val("");
                $("#IDUmurPengarah").val("");
                $("#IDPSAlamat1Pengarah").val("");
                $("#CountryList_").val("");
                $("#CountryList_").change();
                $("#IDAlamat2Pengarah").val("");
                $("#IDHPPengarah").val("");
                $("#IDPhonePengarah").val("");
                $("#IDTelPengarah").val("");

                $("#IDBandarPengarah").val("");
                $("#IDNegeriPengarah").val("");
                enabledDirector();
                document.getElementById('btnSaveDirector').style.display = 'block';
                document.getElementById('btnAddPengarah').style.display = 'none';

                document.getElementById('pemegangSahamAdd').style.display = 'none';
                document.getElementById('bknNamaPemegangShare').style.display = 'block';
                document.getElementById('NamaPemegangShare').style.display = 'none';
                $.ajax({
                    url: url,
                    type: "POST",
                    data: {
                        IDX: directorID,

                    },
                    success: function (data) {
                        console.log(data)
                        for (var i = 0; i < data.length; i++) {
                            $("#IDNamaPengarah").val(data[i].old_person_name);
                            if (data[i].new_person_name == null) {
                                $("#IDNamaPengarah").val(data[i].old_person_name);
                                document.getElementById('IDNamaPengarah').style.backgroundColor = "transparent";
                            }
                            else {
                                $("#IDNamaPengarah").val(data[i].new_person_name);
                                if (status != "BAHARU") {
                                    document.getElementById('IDNamaPengarah').style.backgroundColor = "lightblue";
                                }

                            }
                            if (data[i].new_person_identifier == null) {
                                $("#IDNoKPPengarah").val(data[i].old_person_identifier);
                                document.getElementById('IDNoKPPengarah').style.backgroundColor = "transparent";
                            }
                            else {
                                $("#IDNoKPPengarah").val(data[i].new_person_identifier);
                                if (status != "BAHARU") {
                                    document.getElementById('IDNoKPPengarah').style.backgroundColor = "lightblue";
                                }
                            }
                            if (data[i].new_contact_mobile_no == null) {
                                $("#IDHPPengarah").val(data[i].old_contact_mobile_no);
                                document.getElementById('IDHPPengarah').style.backgroundColor = "transparent";
                            }
                            else {
                                $("#IDHPPengarah").val(data[i].new_contact_mobile_no);
                                if (status != "BAHARU") {
                                    document.getElementById('IDHPPengarah').style.backgroundColor = "lightblue";
                                }
                            }
                            if (data[i].new_contact_phone_no == null) {
                                $("#IDPhonePengarah").val(data[i].old_contact_phone_no);
                                document.getElementById('IDPhonePengarah').style.backgroundColor = "transparent";
                            }
                            else {
                                $("#IDPhonePengarah").val(data[i].new_contact_phone_no);
                                if (status != "BAHARU") {
                                    document.getElementById('IDPhonePengarah').style.backgroundColor = "lightblue";
                                }
                            }

                            if (data[i].sNew_person_birthday == "") {

                                $("#IDTarikhLahirPengarah").val(data[i].sOld_person_birthday);
                                document.getElementById('IDTarikhLahirPengarah').style.backgroundColor = "transparent";
                            }
                            else {
                                $("#IDTarikhLahirPengarah").val(data[i].sNew_person_birthday);
                                if (status != "BAHARU") {
                                    document.getElementById('IDTarikhLahirPengarah').style.backgroundColor = "lightblue";
                                }
                            }

                            if (data[i].sNew_person_age == "") {
                                $("#IDUmurPengarah").val(data[i].sOld_person_age);

                            }
                            else {
                                $("#IDUmurPengarah").val(data[i].sNew_person_age);

                            }

                            if (data[i].new_contact_addr_1 == null) {
                                $("#IDPSAlamatPengarah").val(data[i].old_contact_addr_1);
                                document.getElementById('IDPSAlamatPengarah').style.backgroundColor = "transparent";
                            }
                            else {
                                $("#IDPSAlamatPengarah").val(data[i].new_contact_addr_1);
                                if (status != "BAHARU") {
                                    document.getElementById('IDPSAlamatPengarah').style.backgroundColor = "lightblue";
                                }
                            }
                            if (data[i].new_contact_addr_2 == null) {
                                $("#IDPSAlamat1Pengarah").val(data[i].old_contact_addr_2);
                                document.getElementById('IDPSAlamat1Pengarah').style.backgroundColor = "transparent";
                            }
                            else {
                                $("#IDPSAlamat1Pengarah").val(data[i].new_contact_addr_2);
                                if (status != "BAHARU") {
                                    document.getElementById('IDPSAlamat1Pengarah').style.backgroundColor = "lightblue";
                                }
                            }
                            if (data[i].new_contact_addr_3 == null) {
                                $("#IDAlamat2Pengarah").val(data[i].old_contact_addr_3);
                                document.getElementById('IDAlamat2Pengarah').style.backgroundColor = "transparent";
                            }
                            else {
                                $("#IDAlamat2Pengarah").val(data[i].new_contact_addr_3);
                                if (status != "BAHARU") {
                                    document.getElementById('IDAlamat2Pengarah').style.backgroundColor = "lightblue";
                                }
                            }

                            if (data[i].new_contact_postcode == null) {
                                $("#IDPoskodPengarah").val(data[i].old_contact_postcode);
                                document.getElementById('IDPoskodPengarah').style.backgroundColor = "transparent";
                                var postcode = data[i].old_contact_postcode;
                                if (postcode != null) {
                                    loadTown(postcode, 'IDBandarPengarah', 'director');
                                }
                                var state = data[i].old_contact_city;

                                if (state != null) {
                                    state = data[i].old_contact_city.toString(16);
                                    loadState(state, 'IDNegeriPengarah');
                                }
                            }
                            else {
                                $("#IDPoskodPengarah").val(data[i].new_contact_postcode);
                                if (status != "BAHARU") {
                                    document.getElementById('IDPoskodPengarah').style.backgroundColor = "lightblue";
                                }
                                var postcode = data[i].new_contact_postcode;

                                if (postcode != null) {
                                    loadTown(postcode, 'IDBandarPengarah', 'director');
                                }
                                var state = data[i].new_contact_city;

                                if (state != null) {
                                    state = data[i].new_contact_city.toString(16);
                                    loadState(state, 'IDNegeriPengarah');
                                }

                            }

                            if (data[i].new_person_gender == '00000000-0000-0000-0000-000000000000') {
                                $("#genderlistDirector_").val(data[i].old_person_gender);
                                document.getElementById('genderlistDirector_').style.backgroundColor = "transparent";

                            }
                            else {
                                $("#genderlistDirector_").val(data[i].new_person_gender);
                                if (status != "BAHARU") {
                                    document.getElementById('genderlistDirector_').style.backgroundColor = "lightblue";
                                }

                            }

                            //$("#CountryList_").val('');
                            if (data[i].new_person_nationality == '00000000-0000-0000-0000-000000000000') {
                                if (data[i].old_person_nationality != '00000000-0000-0000-0000-000000000000') {
                                    $("#CountryList_").val(data[i].old_person_nationality);
                                    //alert($("#CountryList_").val());
                                    $("#CountryList_").change();
                                    document.getElementById('CountryList_').style.backgroundColor = "transparent";
                                }
                            }
                            else {
                                $("#CountryList_").val(data[i].new_person_nationality);
                                //alert($("#CountryList_").val());
                                $("#CountryList_").change();
                                if (status != "BAHARU") {
                                    document.getElementById('CountryList_').style.backgroundColor = "lightblue";
                                }
                            }


                            //$("#JustifikasiDirector").val(data[i].new_justification_name);
                            //$("#JustifikasiDirector_").val(data[i].new_justification_id);

                            //var f = document.getElementById("JustifikasiDirector_");

                            //if (f.value != "") {
                            //    var justificationText_ = f.options[f.selectedIndex].text;

                            //    if (justificationText_ == "LAIN-LAIN") {
                            //        document.getElementById('divJustOtherDirector').style.display = 'block';
                            //        $("#JustifikasiDirector").val(data[i].new_justification_name);
                            //    }
                            //    else {
                            //        document.getElementById('divJustOtherDirector').style.display = 'none';
                            //    }
                            //}


                            $("#locationFileJustDirector").val(data[i].locationFileDirector);
                            $("#fileNameJustDirector").val(data[i].fileNameDirector);

                            var uploadnameDirector = data[i].fileNameDirector;

                            if (uploadnameDirector != null && uploadnameDirector != "") {
                                document.getElementById('divdownloadDirector').style.display = 'block';

                            }
                            else {
                                document.getElementById('divdownloadDirector').style.display = 'none';
                            }


                            $("#locationFileDirector").val(data[i].locationFile);
                            $("#fileNameDirector").val(data[i].fileName);

                            var uploadname = data[i].fileName;

                            if (uploadname != null && uploadname != "") {
                                document.getElementById('divdownloadDirector').style.display = 'block';

                            }
                            else {
                                document.getElementById('divdownloadDirector').style.display = 'none';
                            }

                            $("#locationFilePasDirector").val(data[i].locationFilePas);
                            $("#fileNamePasDirector").val(data[i].fileNamePas);

                            var uploadnamePas = data[i].fileNamePas;

                            if (uploadnamePas != null && uploadnamePas != "") {
                                document.getElementById('passpengajiandownload').style.display = 'block';
                                document.getElementById('passpengajianDirector').style.display = 'block';
                            }
                            else {
                                document.getElementById('passpengajiandownload').style.display = 'none';
                                document.getElementById('passpengajianDirector').style.display = 'none';
                            }
                            //modified by Awie
                            if (status != "BAHARU") {

                                if (data[i].new_justification_id == '00000000-0000-0000-0000-000000000000') {
                                    document.getElementById("chkKemaskinitrueDirector").checked = true;
                                    document.getElementById("chkKemaskinifalseDirector").checked = false;
                                    document.getElementById('divJustifyDirector').style.display = 'none';
                                    document.getElementById('divJustificationDirector').style.display = 'block';
                                    document.getElementById("chkKemaskinitrueDirector").click();

                                }
                                else {
                                    document.getElementById("chkKemaskinitrueDirector").checked = false;
                                    document.getElementById("chkKemaskinifalseDirector").checked = true;
                                    document.getElementById('divJustificationDirector').style.display = 'block';
                                    document.getElementById('divJustifyDirector').style.display = 'block';
                                    document.getElementById("chkKemaskinifalseDirector").click();
                                }


                                if (data[i].new_justification_id == '00000000-0000-0000-0000-000000000000') {
                                    document.getElementById('divJustOtherDirector').style.display = 'none';
                                    document.getElementById('divJustOtherDirector1').style.display = 'none';
                                }
                                else {
                                    $("#JustifikasiDirector_").val(data[i].new_justification_id);
                                    var f = document.getElementById("JustifikasiDirector_");
                                    var justificationText_ = f.options[f.selectedIndex].text;

                                    if (justificationText_ == "LAIN-LAIN") {
                                        document.getElementById('divJustOtherDirector').style.display = 'block';
                                        document.getElementById('divJustOtherDirector1').style.display = 'block';
                                        $("#JustificationDirector").val(data[i].new_justification_name);

                                    }
                                    else {
                                        document.getElementById('divJustOtherDirector').style.display = 'none';
                                        document.getElementById('divJustOtherDirector1').style.display = 'none';

                                    }
                                }

                            }
                            //modified by Awie
                            ////modified by awie
                            //$("#locationFileJustOrg").val(data[i].locationFileJust);
                            //$("#fileNameJustOrg").val(data[i].fileNameJust);

                            //var uploadnameJust = data[i].fileNameJust;

                            //if (uploadnameJust != null && uploadnameJust != "") {

                            //    document.getElementById('divdownloadJustDirector').style.display = 'block';
                            //}
                            //else {
                            //    document.getElementById('divdownloadJustDirector').style.display = 'none';
                            //}
                            //document.getElementById('divdownloadJustDirector').style.display = 'block';
                            //modified by awie

                            document.getElementById('downloadDirectorMykad').style.display = 'block';
                            document.getElementById('downloadDirectorPas').style.display = 'block';



                        }
                        hideLoader();
                    }
                });

                $('#PengarahModal').modal('show');
            });

            $("#tblDirectorBaru").on('click', '.remove', function () {

                var id = $(this).parent().parent().attr('id');


                var personIDX = $("#personDirectorIDX_" + id).val();


                var idx = "";
                idx = personIDX;

                id = idx + "," + id;

                msgPopupOption("Adakah Anda Pasti?", confirmHapusDirector, cancelHapus, id);


            });

            $("#tblDirectorAsal").on('click', '.AddPengarah', function () {
                $("#btnPengarahSave").prop("hidden", true);
                showLoader();
                disabledDirector();
                $("#PengarahDiv").prop("hidden", false);

                var url = "/MM2H/ajaxDirectorDetail";
                var id = $(this).parent().parent().attr('id');

                var identifier = $("#pengarah_identifier_" + id).val();

                document.getElementById('pemegangSahamAdd').style.display = 'none';
                document.getElementById('bknNamaPemegangShare').style.display = 'block';
                document.getElementById('NamaPemegangShare').style.display = 'none';
                document.getElementById('NamaPemegangShare').style.display = 'none';
                document.getElementById('btnSaveDirector').style.display = 'none';
                document.getElementById('btnAddPengarah').style.display = 'none';
                document.getElementById('divJustifyDirector').style.display = 'none';
                document.getElementById('divJustificationDirector').style.display = 'none';
                //$("#IDNamaPemegangSaham").val("");
                //$("#IDNoKPPengarah").val("");
                //$("#IDPSAlamatPengarah").val("");
                //$("#IDPSAlamat1Pengarah").val("");
                //$("#IDPSAlamat2Pengarah").val("");
                //$("#IDPoskodPengarah").val("");
                //$("#IDPSAlamat2Pengarah").val("");
                //$("#IDPSAlamat2Pengarah").val("");

                $.ajax({
                    url: url,
                    type: "POST",
                    data: { identifier: identifier, },
                    success: function (data) {
                        console.log(data);
                        for (var i = 0; i < data.length; i++) {
                            $("#IDNamaPengarah").val(data[i].person_name);
                            //$("#IDNamaPemegangSaham").val(data[i].person_name);
                            $("#IDNoKPPengarah").val(data[i].person_identifier);
                            $("#IDPSAlamatPengarah").val(data[i].contact_addr_1);
                            $("#IDPSAlamat1Pengarah").val(data[i].contact_addr_2);
                            $("#IDPSAlamat2Pengarah").val(data[i].contact_addr_3);
                            $("#IDPoskodPengarah").val(data[i].contact_postcode);

                            $("#IDNamaPengarah").val(data[i].person_name);
                            $("#IDNoKPPengarah").val(data[i].person_identifier);
                            $("#IDHPPengarah").val(data[i].contact_mobile_no);
                            // alert("data[i].contact_mobile_no ::" + data[i].contact_mobile_no);
                            if (data[i].contact_mobile_no == null) {
                                $("#IDHPPengarah").val(data[i].mobile_no);
                            }
                            $("#IDPhonePengarah").val(data[i].contact_phone_no);
                            if (data[i].contact_phone_no == null) {
                                $("#IDPhonePengarah").val(data[i].phone_no);
                            }
                            $("#IDTarikhLahirPengarah").val(data[i].sperson_birthday);
                            $("#IDUmurPengarah").val(data[i].sperson_age);
                            $("#IDPSAlamatPengarah").val(data[i].contact_addr_1);
                            $("#IDPSAlamat1Pengarah").val(data[i].contact_addr_2);
                            $("#IDAlamat2Pengarah").val(data[i].contact_addr_3);
                            $("#IDPoskodPengarah").val(data[i].contact_postcode);
                            $("#IDNegeriPengarah").val(data[i].state_name);
                            //loadState(state, 'IDNegeriPengarah');
                            loadTown(data[i].contact_postcode, 'IDBandarPengarah', 'director');

                            $("#genderlistDirector_").val(data[i].person_gender);
                            $("#CountryList_").val(data[i].person_nationality);
                            $("#CountryList_").change();

                            $("#locationFileDirector").val(data[i].locationFile);
                            $("#fileNameDirector").val(data[i].fileName);

                            var uploadname = data[i].fileName;


                            if (uploadname != null && uploadname != "") {
                                document.getElementById('divdownloadDirector').style.display = 'block';

                            }
                            else {
                                document.getElementById('divdownloadDirector').style.display = 'none';

                            }

                            $("#locationFileDirector").val(data[i].locationFilePas);
                            $("#fileNameDirector").val(data[i].fileNamePas);

                            var uploadnamePas = data[i].fileNamePas;

                            document.getElementById('downloadDirectorMykad').style.display = 'none';
                            document.getElementById('downloadDirectorPas').style.display = 'none';

                            if (uploadnamePas != null && uploadnamePas != "") {
                                document.getElementById('passpengajianDirector').style.display = 'block';

                            }
                            else {
                                document.getElementById('passpengajianDirector').style.display = 'none';

                            }


                        }
                        hideLoader();
                    }
                });


                $('#PengarahModal').modal('show');
            });

            $("#btnAddDirector").click(function (e) {
                var url1 = "/MM2H/ajaxChangeStatusDirector";
                showLoader();
                var AppID = $("#AppID").val();
                var OrgID = $("#OrgID").val();

                $.ajax({
                    type: 'POST',
                    url: url1, // Url.Action()
                    data: {
                        AppID: AppID,
                        OrgID: OrgID
                    },
                    "success": function (data) {

                        hideLoader()
                        location.reload();

                    }
                });


            });

            $("#btnSaveDirector").click(function (e) {
                showLoader();
                if (validateDirector() == false) {
                    hideLoader();
                    return;
                }

                var url = "";
                var urlPerson = "/MM2H/ajaxChangeStatusDirectorUpdate";
                var person_name = document.getElementById("IDNamaPengarah").value;
                var person_identifier = document.getElementById("IDNoKPPengarah").value;
                var contact_mobile_no = document.getElementById("IDHPPengarah").value;
                var contact_phone_no = document.getElementById("IDPhonePengarah").value;
                var contact_addr_1 = document.getElementById("IDPSAlamatPengarah").value;
                var contact_addr_2 = document.getElementById("IDPSAlamat1Pengarah").value;
                var contact_addr_3 = document.getElementById("IDAlamat2Pengarah").value;
                var contact_postcode = document.getElementById("IDPoskodPengarah").value;
                var contact_city = document.getElementById("IDBandarPengarah").value;
                var contact_state = document.getElementById("IDNegeriPengarah").value;
                var person_birthday = document.getElementById("IDTarikhLahirPengarah").value;

                var person_gender = document.getElementById("genderlistDirector_").value;
                var person_nationality = document.getElementById("CountryList_").value;
                var JustificationDirector = document.getElementById("JustificationDirector").value;


                var e = document.getElementById("CountryList_");
                var nationality_ = e.options[e.selectedIndex].text;

                //var JustifikasiPemegangSaham = document.getElementById("JustifikasiPemegangSahamDirector").value;

                //var JustifikasiPemegangSahamID = document.getElementById("JustifikasiPemegangSahamDirector_").value;

                //modified by Awie 20221005
                if (document.getElementById("chkKemaskinitrueDirector").checked == true)
                    var Justifikasi = "";
                else {
                    var Justifikasi = document.getElementById("JustifikasiDirector_").value;
                }
                //

                // var person_religion = document.getElementById("religionlist_").value;
                //  var status_shareholder = document.getElementById("StatusPemegangSahamPerson_").value;
                //var organization_idx = document.getElementById("orgID").value;

                var person_idx = document.getElementById("directorID").value;
                var AppID = $("#AppID").val();

                var typeFile = "MYKAD";

                var formData = new FormData();

                if (nationality_ == "Malaysia") {
                    typeFile = "MYKAD";
                }
                else {
                    typeFile = "PASSPORT";
                    formData.append("file_MyPengajian", document.getElementById("file_MyPengajianDirector").files[0]);
                }
                //modified by Awie 20221005

                formData.append("file_JustDirector", document.getElementById("file_JustDirector").files[0]);
                formData.append('justificationID', Justifikasi);
                formData.append('justification', JustificationDirector);
                //

                formData.append("file_MyKad", document.getElementById("file_MyKadDirector").files[0]);

                formData.append("typeFile", typeFile);
                formData.append('person_idx', person_idx);
                formData.append('person_name', person_name);
                formData.append('person_identifier', person_identifier);
                formData.append('contact_addr_1', contact_addr_1);
                formData.append('contact_addr_2', contact_addr_2);
                formData.append('contact_addr_3', contact_addr_3);
                formData.append('contact_postcode', contact_postcode);
                formData.append('contact_city', contact_city);
                formData.append('contact_state', contact_state);
                formData.append('contact_mobile_no', contact_mobile_no);
                formData.append('contact_phone_no', contact_phone_no);
                formData.append('person_birthday', person_birthday);
                formData.append('person_gender', person_gender);
                formData.append('person_idx', person_idx);
                formData.append('person_nationality', person_nationality);


                //formData.append('justification', JustifikasiPemegangSaham);
                //formData.append('justificationID', JustifikasiPemegangSahamID);


                formData.append('AppID', AppID);



                $.ajax({
                    type: 'POST',
                    url: urlPerson, // Url.Action()
                    data: formData,
                    processData: false,
                    contentType: false,
                    "success": function (data) {
                        msgPopup("Berjaya!");
                        $('#okBtn').unbind("click");
                        $("#okBtn").click(function () {
                            closePopup();
                            window.location.reload();
                        });
                        $('#PengarahModal').modal('hide');

                        //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);

                    }

                });


            });

            $("#btnAddPengarah").click(function (e) {

                //if (validatePerson() == false) {
                //    return;
                //}
                $("#btnPengarahSave").prop('hidden', true);

                var url = "";
                var urlPerson = "/MM2H/ajaxChangeStatusPersonAdd";

                var person_name = "";

                if (document.getElementById('rbNamaPemeganganSaham1').checked == true) {

                    //  person_name = document.getElementById("PemegangSaham_").value;
                    var e = document.getElementById("PemegangSaham_");
                    person_name = e.options[e.selectedIndex].text;

                }
                else {

                    person_name = document.getElementById("IDNamaPengarah").value;

                }


                //                var person_name = document.getElementById("IDNamaPengarah").value;
                var person_identifier = document.getElementById("IDNoKPPengarah").value;
                var contact_mobile_no = document.getElementById("IDHPPengarah").value;
                var contact_phone_no = document.getElementById("IDPhonePengarah").value;
                var contact_addr_1 = document.getElementById("IDPSAlamatPengarah").value;
                var contact_addr_2 = document.getElementById("IDPSAlamat1Pengarah").value;
                var contact_addr_3 = document.getElementById("IDAlamat2Pengarah").value;
                var contact_postcode = document.getElementById("IDPoskodPengarah").value;
                var contact_city = document.getElementById("IDBandarPengarah").value;
                var contact_state = document.getElementById("IDNegeriPengarah").value;
                var person_birthday = document.getElementById("IDTarikhLahirPengarah").value;

                var person_gender = document.getElementById("genderlistDirector_").value;
                var person_nationality = document.getElementById("CountryList_").value;

                var organization_idx = document.getElementById("orgID").value;

                var shareholderID_add = document.getElementById("shareholderID_add").value;

                var AppID = document.getElementById("AppID").value;
                var OrgID = document.getElementById("OrgID").value;

                var filename = document.getElementById("fileNameDirector").value;
                var fileNamePas = document.getElementById("fileNamePasDirector").value;

                // var file_MyKad = document.getElementById("file_MyKad").value;
                var e = document.getElementById("CountryList_");
                var nationality_ = e.options[e.selectedIndex].text;

                if (nationality_ == "Malaysia") {
                    typeFile = "MYKAD";
                }
                else {
                    typeFile = "PASSPORT";

                }

                url = urlPerson;


                var formData = new FormData();
                formData.append("file_MyKad", document.getElementById("file_MyKadDirector").files[0]);
                formData.append("file_PassPengajian", document.getElementById("file_MyPengajianDirector").files[0]);

                formData.append('person_name', person_name);
                formData.append('typeFile', typeFile);
                formData.append('filename', filename);
                formData.append('fileNamePas', fileNamePas);
                formData.append('shareholderID_add', shareholderID_add)

                formData.append('AppID', AppID);
                formData.append('OrgID', OrgID);
                formData.append('person_identifier', person_identifier);

                formData.append('contact_addr_1', contact_addr_1);
                formData.append('contact_addr_2', contact_addr_2);
                formData.append('contact_addr_3', contact_addr_3);
                formData.append('contact_postcode', contact_postcode);
                formData.append('contact_city', contact_city);
                formData.append('contact_state', contact_state);
                formData.append('contact_mobile_no', contact_mobile_no);
                formData.append('contact_phone_no', contact_phone_no);

                formData.append('person_birthday', person_birthday);
                formData.append('person_gender', person_gender);

                //formData.append('person_idx', person_idx);
                formData.append('person_nationality', person_nationality);

                formData.append('status_shareholder', "");
                formData.append('number_of_shares', 0);

                formData.append('type', "director");

                $.ajax({
                    type: 'POST',
                    url: url, // Url.Action()
                    data: formData,
                    processData: false,
                    contentType: false,
                    "success": function (data) {
                        msgPopup("Berjaya!");
                        $('#okBtn').unbind("click");
                        $("#okBtn").click(function () {
                            closePopup();
                            window.location.reload();
                        });
                        $('#PemegangSahamModal').modal('hide');

                        //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);

                    }

                });


            });

        });
    </script>

    @*Shareholder*@
    <script>
        function AddShareholderBaru() {
            enabledShareholderPerson();
            document.getElementById('Syarikat').style.display = 'none';
            document.getElementById('BukanSyarikat').style.display = 'none';
            $('#PemegangSahamModal').modal('show');
            document.getElementById('pemegangsaham_person').style.display = 'none';
            document.getElementById('pemegangsaham_organization').style.display = 'none';
            document.getElementById('pemegangsaham_all').style.display = 'block';
            document.getElementById('divJustifyPerson').style.display = 'none';
            document.getElementById('divdownloadJustPerson').style.display = 'none';

            document.getElementById('divOthersPerson').style.display = 'none';
            //modified by Awie 20221005
            document.getElementById('divOthersPerson1').style.display = 'none';
            document.getElementById('divJustifyOrg').style.display = 'none';
            //modified by Awie 20221005
            document.getElementById('divdownload').style.display = 'none';

            document.getElementById('btnSavePerson').style.display = 'none';
            document.getElementById('btnAddPerson').style.display = 'block';

            document.getElementById('btnSaveOrganization').style.display = 'none';
            document.getElementById('btnAddOrganization').style.display = 'block';
            document.getElementById('justification').style.display = 'none';

            $("#statusShareholder").val("BAHARU");
            $("#IDPSNama").val("");
            $("#IDPSNoKP").val("");
            $("#IDPSHpNo").val("");

            $("#IDPSAlamat").val("");
            $("#IDPSAlamat1").val("");
            $("#IDPSAlamat2").val("");
            $("#IDPSPoskod").val("");
            $("#IDPSBandar").val("");
            $("#IDPSHpNo").val("");
            $("#IDPSNegeri_idx").val("");
            document.getElementById('IDPSNama').style.backgroundColor = "transparent";
            document.getElementById('IDPSNoKP').style.backgroundColor = "transparent";
            document.getElementById('IDPSHpNo').style.backgroundColor = "transparent";
            document.getElementById('IDPSAlamat').style.backgroundColor = "transparent";
            document.getElementById('IDPSAlamat1').style.backgroundColor = "transparent";
            document.getElementById('IDPSAlamat2').style.backgroundColor = "transparent";
            document.getElementById('IDPSPoskod').style.backgroundColor = "transparent";
            //document.getElementById('IDPSBandar').style.backgroundColor = "transparent";
            document.getElementById('IDPSHpNo').style.backgroundColor = "transparent";
            document.getElementById('IDPSNegeri_idx').style.backgroundColor = "transparent";


            $("#StatusPemegangSahamAll_").val("");
            $("#IDPSTarikhLahir").val("");
            $("#genderlist_").val("");
            $("#religionlist_").val("");
            $("#StatusPemegangSahamPerson_").val("");
            $("#IDPSSaham").val("");
            $("#IDPSUmur").val("");
            $("#IDPSNegeri").val("");
            $("#IDPSNamaSyarikat").val("");
            $("#IDPSNoDaftarSyarikat").val("");
            $("#IDPSHpNoSyarikat").val("");
            $("#IDTahunDaftarSyarikat").val("");
            $("#IDPSNegeriSyarikat_idx").val("");
            $("#StatusPemegangSahamOrganization_").val("");
            $("#IDPSAlamatSyarikat1").val("");
            $("#IDPSAlamatSyarikat2").val("");
            $("#IDPSAlamatSyarikat3").val("");
            $("#IDPSPoskodSyarikat").val("");
            $("#IDPSBandarSyarikat").val("");
            $("#IDPSNegeriSyarikat_idx").val("");
            $("#IDPSNegeriSyarikat").val("");
            $("#IDPSNamaSyarikat").val("");
            $("#malaysialist_").val("");
            $("#AseanList_").val("");
            $("#NonAseanlist_").val("");
            $("#IDNilaiSaham").val("");

            document.getElementById('IDPSTarikhLahir').style.backgroundColor = "transparent";
            document.getElementById('genderlist_').style.backgroundColor = "transparent";
            document.getElementById('religionlist_').style.backgroundColor = "transparent";
            document.getElementById('StatusPemegangSahamPerson_').style.backgroundColor = "transparent";
            document.getElementById('IDPSSaham').style.backgroundColor = "transparent";
            document.getElementById('IDNilaiSaham').style.backgroundColor = "transparent";


            document.getElementById('IDPSNamaSyarikat').style.backgroundColor = "transparent";
            document.getElementById('IDPSNoDaftarSyarikat').style.backgroundColor = "transparent";
            document.getElementById('IDPSHpNoSyarikat').style.backgroundColor = "transparent";
            //document.getElementById('IDPSNegeriSyarikat').style.backgroundColor = "transparent";

            document.getElementById('IDTahunDaftarSyarikat').style.backgroundColor = "transparent";
            document.getElementById('IDPSNegeriSyarikat_idx').style.backgroundColor = "transparent";
            document.getElementById('StatusPemegangSahamOrganization_').style.backgroundColor = "transparent";
            document.getElementById('IDPSAlamatSyarikat1').style.backgroundColor = "transparent";
            document.getElementById('IDPSAlamatSyarikat2').style.backgroundColor = "transparent";
            document.getElementById('IDPSAlamatSyarikat3').style.backgroundColor = "transparent";
            document.getElementById('IDPSPoskodSyarikat').style.backgroundColor = "transparent";
            //document.getElementById('IDPSBandarSyarikat').style.backgroundColor = "transparent";
            //document.getElementById('IDPSNegeriSyarikat').style.backgroundColor = "transparent";

            document.getElementById('IDPSNamaSyarikat').style.backgroundColor = "transparent";

            document.getElementById('malaysialist_').style.backgroundColor = "transparent";
            document.getElementById('AseanList_').style.backgroundColor = "transparent";
            document.getElementById('NonAseanlist_').style.backgroundColor = "transparent";
        }

        if ($('#rbNamaPemeganganSaham1').val() == "Ya") {

            $("#rbGender1").prop('disabled', false);
            $("#rbGender2").prop('disabled', false);
            $('#IDNamaPengarah').prop('readonly', false);
            $('#IDNoKPPengarah').prop('readonly', false);
            $('#IDTarikhLahirPengarah').prop('readonly', false);
            $('#IDPSAlamatPengarah').prop('readonly', false);
            $("#IDPSAlamat1Pengarah").prop('readonly', false);
            $("#IDAlamat2Pengarah").prop('readonly', false);
            $("#IDHPPengarah").prop('readonly', false);
            $("#IDPhonePengarah").prop('readonly', false);
            $("#IDTelPengarah").prop('readonly', false);

            //$("#IDBandarPengarah").prop('disabled', false);
            $("#genderlistDirector_").prop('disabled', false);
            $("#CountryList_").prop('disabled', false);

            $("#file_MyKadPengarah").prop('disabled', false);
            $("#file_PassportPengarah").prop('disabled', false);
            $("#IDPoskodPengarah").prop('readonly', false);
            document.getElementById('divdownloadDirector').style.display = 'none';
            document.getElementById('passpengajianDirector').style.display = 'none';
            document.getElementById('passpengajiandownload').style.display = 'none';
            var Malaysia_ = $("#Malaysia").val();
            $("#CountryList_").val(Malaysia_);
            $("#CountryList_").change();
        }
        else {

            //$("#rbGender1").prop('disabled', true);
            //$("#rbGender2").prop('disabled', true);
            //$('#IDNamaPengarah').prop('readonly', true);
            //$('#IDNoKPPengarah').prop('readonly', true);
            //$('#IDTarikhLahirPengarah').prop('readonly', true);
            //$('#IDPSAlamatPengarah').prop('readonly', true);
            ///* $("#IDUmurPengarah").prop('readonly', true);*/
            //$("#IDPSAlamat1Pengarah").prop('readonly', true);
            //$("#WorldPengarah_").prop('disabled', true);
            //$("#IDAlamat2Pengarah").prop('readonly', true);
            //$("#IDHPPengarah").prop('readonly', true);
            //$("#IDPhonePengarah").prop('readonly', true);
            //$("#IDTelPengarah").prop('readonly', true);
            //$("#IDBandarPengarah").prop('disabled', true);
            //$("#genderlistDirector_").prop('disabled', true);
            //$("#CountryList_").prop('disabled', true);
            var Malaysia_ = $("#Malaysia").val();
            $("#CountryList_").val(Malaysia_);
            $("#CountryList_").change();

            //$("#IDBandarPengarah").prop('readonly', true);
            //$("#file_MyKadPengarah").prop('disabled', true);
            //$("#file_PassportPengarah").prop('disabled', true);
            //$("#IDPoskodPengarah").prop('readonly', true);
        }

        $(document).ready(function () {
            ShareHolderStatusBaru();


            $("#btnAddShareholder").click(function (e) {
                var url1 = "/MM2H/ajaxChangeStatusShareholder";
                showLoader();
                var AppID = $("#AppID").val();
                var OrgID = $("#OrgID").val();

                $.ajax({
                    type: 'POST',
                    url: url1, // Url.Action()
                    data: {
                        AppID: AppID,
                        OrgID: OrgID
                    },
                    "success": function (data) {

                        hideLoader()
                        location.reload();

                    }
                });


            });



            //modified by Awie 20221005
            $("#chkKemaskinitrue").click(function (e) {
                // if (document.getElementById('Syarikat').style.display == "block") {
                document.getElementById('divJustifyPerson').style.display = 'none';
                document.getElementById('divdownloadJustPerson').style.display = 'none';
                document.getElementById('divJustifyOrg').style.display = 'none';
                //}
                //else {
                //    document.getElementById('divJustifyPerson').style.display = 'none';
                //    document.getElementById('divJustifyOrg').style.display = 'none';
                //}

            });
            $("#chkKemaskinifalse").click(function (e) {
                if (document.getElementById('Syarikat').style.display == "block") {
                    //alert("syarikat");
                    document.getElementById('divJustifyPerson').style.display = 'none';
                    document.getElementById('divdownloadJustPerson').style.display = 'none';
                    document.getElementById('divJustifyOrg').style.display = 'block';
                    document.getElementById('divdownloadJustOrg').style.display = 'none';
                }
                else {
                    //alert("person");
                    document.getElementById('divJustifyPerson').style.display = 'block';
                    document.getElementById('divdownloadJustPerson').style.display = 'none';
                    document.getElementById('divdownloadJustOrg').style.display = 'none';
                    document.getElementById('divJustifyOrg').style.display = 'none';
                }

            });

            $("#chkKemaskinitrueDirector").click(function (e) {
                enableEditPengarah();
                $("#divPengarah").prop('hidden', false);
                document.getElementById('divJustifyDirector').style.display = 'none';
                document.getElementById('divdownloadJustDirector').style.display = 'none';
            });
            $("#chkKemaskinifalseDirector").click(function (e) {
                enableEditPengarah();
                $("#divPengarah").prop('hidden', false);
                document.getElementById('divJustifyDirector').style.display = 'block';
                document.getElementById('divdownloadJustDirector').style.display = 'none';
            });

            $("#chkPremisDocTrue").click(function (e) {
                document.getElementById('DivPremisDoc').style.display = 'block';

            });
            $("#chkPremisDocFalse").click(function (e) {
                document.getElementById('DivPremisDoc').style.display = 'none';

            });

            //
            $("#btnSavePerson").click(function (e) {
                showLoader();
                if (validatePerson() == false) {
                    hideLoader();
                    return;
                }

                var url = "";
                var url = "/MM2H/ajaxChangeStatusShareholderPersonUpdate";

                var person_name = document.getElementById("IDPSNama").value;
                var person_identifier = document.getElementById("IDPSNoKP").value;
                var contact_mobile_no = document.getElementById("IDPSHpNo").value;
                var contact_addr_1 = document.getElementById("IDPSAlamat").value;
                var contact_addr_2 = document.getElementById("IDPSAlamat1").value;
                var contact_addr_3 = document.getElementById("IDPSAlamat2").value;
                var contact_postcode = document.getElementById("IDPSPoskod").value;
                var contact_city = document.getElementById("IDPSBandar").value;
                var contact_state = document.getElementById("IDPSNegeri_idx").value;
                var person_birthday = document.getElementById("IDPSTarikhLahir").value;
                var person_gender = document.getElementById("genderlist_").value;
                var person_religion = document.getElementById("religionlist_").value;
                var status_shareholder = document.getElementById("StatusPemegangSahamPerson_").value;
                var organization_idx = document.getElementById("orgID").value;
                var person_idx = document.getElementById("personID").value;
                var number_of_shares = document.getElementById("IDPSSaham").value;
                //modified by Awie 20221005
                if (document.getElementById("chkKemaskinitrue").checked == true)
                    var JustifikasiPemegangSaham = "";
                else {
                    var JustifikasiPemegangSaham = document.getElementById("JustifikasiPemegangSaham").value;
                }
                //


                var JustifikasiPemegangSahamOtherOrg = document.getElementById("JustifikasiPemegangSahamOther_").value;
                var AppID = $("#AppID").val();
                var formData = new FormData();

                formData.append("file_MyKad", document.getElementById("file_MyKadSH").files[0]);
                formData.append("typeFile", "MYKAD");
                //modified by Awie 20221005
                formData.append("file_JustPerson", document.getElementById("file_JustPerson").files[0]);
                formData.append("typeFileJust", "JUSTIFICATION");
                //
                formData.append('person_name', person_name);
                formData.append('person_identifier', person_identifier);

                formData.append('contact_addr_1', contact_addr_1);
                formData.append('contact_addr_2', contact_addr_2);
                formData.append('contact_addr_3', contact_addr_3);
                formData.append('contact_postcode', contact_postcode);
                formData.append('contact_city', contact_city);
                formData.append('contact_state', contact_state);


                formData.append('contact_mobile_no', contact_mobile_no);
                formData.append('person_birthday', person_birthday);
                formData.append('person_gender', person_gender);
                formData.append('person_religion', person_religion);

                formData.append('person_idx', person_idx);

                formData.append('AppID', AppID);

                formData.append('number_of_shares', number_of_shares);

                formData.append('status_shareholder', status_shareholder);

                if (status_shareholder == 'b93febab-a316-4d1e-9e05-ec0015e820d9')
                    formData.append('person_nationality', $('#MalaysialistSH_').val());

                else if (status_shareholder == '1b3b3c90-38bc-4cbb-b52b-aee6af08c5e8')
                    formData.append('person_nationality', $('#AllcountrylistSH_').val());

                formData.append('justification', JustifikasiPemegangSaham);

                formData.append('justificationID', JustifikasiPemegangSahamOtherOrg);

                //    formData.append('OrganizationID', OrganizationID);
                //     formData.append('itemIDx', itemIDX);


                $.ajax({
                    type: 'POST',
                    url: url, // Url.Action()
                    data: formData,
                    processData: false,
                    contentType: false,
                    "success": function (data) {

                        if (data == true) {
                            msgPopup("Berjaya!");
                            $('#okBtn').unbind("click");
                            $("#okBtn").click(function () {
                                closePopup();
                                window.location.reload();
                            });
                        }
                        else {
                            msgPopup("Tidak Berjaya!");
                            $('#okBtn').unbind("click");
                            $("#okBtn").click(function () {
                                closePopup();
                                window.location.reload();
                            });
                        }


                        $('#PemegangSahamModal').modal('hide');

                        //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);

                    }

                });

            }
            );
            $("#btnAddPerson").click(function (e) {

                if (validatePerson() == false) {
                    return;
                }

                var url = "";
                var urlPerson = "/MM2H/ajaxChangeStatusShareholderAdd";
                var person_name = document.getElementById("IDPSNama").value;
                var person_identifier = document.getElementById("IDPSNoKP").value;
                var contact_mobile_no = document.getElementById("IDPSHpNo").value;
                var contact_addr_1 = document.getElementById("IDPSAlamat").value;
                var contact_addr_2 = document.getElementById("IDPSAlamat1").value;
                var contact_addr_3 = document.getElementById("IDPSAlamat2").value;
                var contact_postcode = document.getElementById("IDPSPoskod").value;
                var contact_city = document.getElementById("IDPSBandar").value;
                var contact_state = document.getElementById("IDPSNegeri_idx").value;
                var person_birthday = document.getElementById("IDPSTarikhLahir").value;
                var person_gender = document.getElementById("genderlist_").value;
                var person_religion = document.getElementById("religionlist_").value;
                var person_nationality = document.getElementById("MalaysialistSH_").value;
                var status_shareholder = document.getElementById("StatusPemegangSahamAll_").value;
                var organization_idx = document.getElementById("orgID").value;
                var person_idx = document.getElementById("personID").value;
                var number_of_shares = document.getElementById("IDPSSaham").value;
                var AppID = document.getElementById("AppID").value;
                var OrgID = document.getElementById("OrgID").value;

                // var shareholderID = document.getElementById("shareholderID").value;

                //var itemIDX = document.getElementById("itemID").value;
                //   var OrganizationID = document.getElementById("OrganizationID").value;
                // var file_MyKad = document.getElementById("file_MyKad").value;
                var typeFile = "MYKAD";
                //if (organization_idx != "") {
                //    url = urlOrganization;
                //}
                //else {
                url = urlPerson;
                //}

                var formData = new FormData();
                formData.append("file_MyKad", document.getElementById("file_MyKadSH").files[0]);
                formData.append("typeFile", typeFile);
                formData.append('person_name', person_name);
                formData.append('person_identifier', person_identifier);

                formData.append('contact_addr_1', contact_addr_1);
                formData.append('contact_addr_2', contact_addr_2);
                formData.append('contact_addr_3', contact_addr_3);
                formData.append('contact_postcode', contact_postcode);
                formData.append('contact_city', contact_city);
                formData.append('contact_state', contact_state);
                formData.append('contact_mobile_no', contact_mobile_no);
                formData.append('person_birthday', person_birthday);
                formData.append('person_gender', person_gender);
                formData.append('person_religion', person_religion);
                formData.append('person_idx', person_idx);
                formData.append('person_nationality', person_nationality);
                formData.append('number_of_shares', number_of_shares);
                formData.append('status_shareholder', status_shareholder);
                formData.append('AppID', AppID);
                formData.append('OrgID', OrgID);
                formData.append('type', "shareholder");


                $.ajax({
                    type: 'POST',
                    url: url, // Url.Action()
                    data: formData,
                    processData: false,
                    contentType: false,
                    "success": function (data) {
                        msgPopup("Berjaya!");
                        $('#okBtn').unbind("click");
                        $("#okBtn").click(function () {
                            closePopup();
                            window.location.reload();
                        });
                        $('#PemegangSahamModal').modal('hide');

                        //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);

                    }

                });


            });

            $("#btnSaveOrganization").click(function (e) {
                showLoader();
                if (validateOrganization() == false) {
                    hideLoader();
                    return;
                }

                var url = "";
                var urlOrg = "/MM2H/ajaxChangeStatusShareholderOrgUpdate";

                var nama_syarikat = document.getElementById("IDPSNamaSyarikat").value;
                var no_daftar = document.getElementById("IDPSNoDaftarSyarikat").value;
                var hp_no = document.getElementById("IDPSHpNoSyarikat").value;

                var registered_year = document.getElementById("IDTahunDaftarSyarikat").value;
                var negeri_idx = document.getElementById("IDPSNegeriSyarikat_idx").value;
                var status_pemegang_saham = document.getElementById("StatusPemegangSahamOrganization_").value;

                var alamat1 = document.getElementById("IDPSAlamatSyarikat1").value;
                var alamat2 = document.getElementById("IDPSAlamatSyarikat2").value;
                var alamat3 = document.getElementById("IDPSAlamatSyarikat3").value;
                var poskod = document.getElementById("IDPSPoskodSyarikat").value;
                var bandar_id = document.getElementById("IDPSBandarSyarikat").value;
                var negeri_id = document.getElementById("IDPSNegeriSyarikat_idx").value;

                var OrgID = document.getElementById("orgID").value;
                var number_of_shares = document.getElementById("IDNilaiSaham").value;
                var e = document.getElementById("StatusPemegangSahamOrganization_");
                var PemegangSahamText_ = e.options[e.selectedIndex].text;
                var Malaysia_ = $("#Malaysia").val();

                //var country_ref = "";
                //if (PemegangSahamText_ == "SYARIKAT TEMPATAN") {
                //    country_ref = $("#malaysialist_").val();

                //} else if (PemegangSahamText_ == "SYARIKAT ASING(ASEAN)") {
                //    country_ref = $("#AseanList_").val();
                //} else {
                //    country_ref = $("#NonAseanlist_").val();

                //}

                //modified by Awie 20221005
                if (document.getElementById("chkKemaskinitrue").checked == true)
                    var JustifikasiPemegangSaham = "";
                else {
                    var JustifikasiPemegangSaham = document.getElementById("JustifikasiPemegangSahamOrg_").value;
                }
                //


                var JustifikasiPemegangSahamOtherOrg = document.getElementById("JustifikasiPemegangSahamOrg").value;
                var AppID = $("#AppID").val();


                var formData = new FormData();

                //var JustifikasiPemegangSaham = document.getElementById("JustifikasiPemegangSahamOrg").value;
                //var JustifikasiPemegangSahamOtherOrg = document.getElementById("JustifikasiPemegangSahamOtherOrg").value;

                formData.append("file_Just", document.getElementById("file_JustOrg").files[0]);
                formData.append("typeFileJust", "JUSTIFICATION");
                formData.append('AppID', AppID);
                formData.append('organization_idx', OrgID);
                formData.append('organization_name', nama_syarikat);
                formData.append('organization_identifier', no_daftar);
                formData.append('office_mobile_no', hp_no);
                formData.append('office_postcode', poskod);
                formData.append('office_addr_1', alamat1);
                formData.append('office_addr_2', alamat2);
                formData.append('office_addr_3', alamat3);
                formData.append('office_city', bandar_id);
                formData.append('office_state', negeri_id);

                formData.append('status_shareholder', status_pemegang_saham);
                formData.append('number_of_shares', number_of_shares);
                formData.append('registered_year', registered_year);
                //formData.append('country_ref', country_ref);

                if (status_pemegang_saham == 'c2494649-12df-4c91-8e45-9c291648c2ae')
                    syarikat.append('country_ref', $('#AseanList_').val());

                else if (status_pemegang_saham == 'a800d9b0-1463-49b0-a339-ae95c7a91d6d')
                    syarikat.append('country_ref', $('#NonAseanList_').val());

                else if (status_pemegang_saham == 'f7efb844-8896-4f3a-8b4b-a7710be52284')
                    syarikat.append('country_ref', $('#malaysialist_').val());

                formData.append('justification', JustifikasiPemegangSahamOtherOrg);
                formData.append('justificationID', JustifikasiPemegangSaham);

                $.ajax({
                    type: 'POST',
                    url: urlOrg, // Url.Action()
                    data: formData,
                    processData: false,
                    contentType: false,
                    "success": function (data) {
                        msgPopup("Berjaya!");
                        $('#okBtn').unbind("click");
                        $("#okBtn").click(function () {
                            closePopup();
                            window.location.reload();
                        });
                        $('#PemegangSahamModal').modal('hide');

                        //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);

                    }

                });


            });

            $("#btnAddOrganization").click(function (e) {

                //if (validatePerson() == false) {
                //    return;
                //}

                var url = "";
                var urlOrg = "/MM2H/ajaxChangeStatusShareholderOrgAdd";
                var AppID = document.getElementById("AppID").value;
                var OrgID = document.getElementById("OrgID").value;
                var nama_syarikat = document.getElementById("IDPSNamaSyarikat").value;
                var no_daftar = document.getElementById("IDPSNoDaftarSyarikat").value;
                var hp_no = document.getElementById("IDPSHpNoSyarikat").value;

                var registered_year = document.getElementById("IDTahunDaftarSyarikat").value;
                var status_pemegang_saham = document.getElementById("StatusPemegangSahamAll_").value;

                var alamat1 = document.getElementById("IDPSAlamatSyarikat1").value;
                var alamat2 = document.getElementById("IDPSAlamatSyarikat2").value;
                var alamat3 = document.getElementById("IDPSAlamatSyarikat3").value;
                var poskod = document.getElementById("IDPSPoskodSyarikat").value;
                var bandar_id = document.getElementById("IDPSBandarSyarikat").value;
                var negeri_id = document.getElementById("IDPSNegeriSyarikat_idx").value;

                // var orgID = document.getElementById("orgID").value;
                var number_of_shares = document.getElementById("IDNilaiSaham").value;
                var e = document.getElementById("StatusPemegangSahamAll_");
                var PemegangSahamText_ = e.options[e.selectedIndex].text;
                var Malaysia_ = $("#Malaysia").val();

                var country_ref = "";
                if (PemegangSahamText_ == "SYARIKAT TEMPATAN") {
                    country_ref = $("#malaysialist_").val();

                } else if (PemegangSahamText_ == "SYARIKAT ASING(ASEAN)") {
                    country_ref = $("#AseanList_").val();
                } else {
                    country_ref = $("#NonAseanlist_").val();

                }

                var formData = new FormData();
                formData.append('AppID', AppID);
                formData.append('organization_name', nama_syarikat);
                formData.append('organization_identifier', no_daftar);
                formData.append('organization_idx', OrgID);
                formData.append('office_mobile_no', hp_no);
                formData.append('office_postcode', poskod);
                formData.append('office_addr_1', alamat1);
                formData.append('office_addr_2', alamat2);
                formData.append('office_addr_3', alamat3);
                formData.append('office_city', bandar_id);
                formData.append('office_state', negeri_id);
                formData.append('status_shareholder', status_pemegang_saham);
                formData.append('number_of_shares', number_of_shares);
                formData.append('registered_year', registered_year);
                formData.append('country_ref', country_ref);



                $.ajax({
                    type: 'POST',
                    url: urlOrg, // Url.Action()
                    data: formData,
                    processData: false,
                    contentType: false,
                    "success": function (data) {
                        msgPopup("Berjaya!");
                        $('#okBtn').unbind("click");
                        $("#okBtn").click(function () {
                            closePopup();
                            window.location.reload();
                        });
                        $('#PemegangSahamModal').modal('hide');

                        //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);

                    }

                });


            });

            $("#tblPemegangSahamAsal").on('click', '.AddPemegangSaham', function () {
                showLoader();
                var url = "/MM2H/ajaxShareHolderDetail";
                var id = $(this).parent().parent().attr('id');

                var identifier = $("#organization_shareholder_idx_" + id).val();
                var type_ = $("#type_" + id).val();

                $("#IDPSNama").val("");
                $("#IDPSNoKP").val("");

                $("#IDPSNamaSyarikat").val("");
                $("#IDPSNoDaftarSyarikat").val("");

                $("#IDPSHpNo").val("");
                $("#IDPSNoDaftarSyarikat").val("");
                document.getElementById('btnSavePerson').style.display = 'none';
                document.getElementById('btnAddPerson').style.display = 'none';
                disabledShareholderPerson(type_);

                $.ajax({
                    url: url,
                    type: "POST",
                    data: { identifier: identifier, },
                    success: function (data) {
                        console.log(data);
                        for (var i = 0; i < data.length; i++) {

                            $("#IDPSNama").val(data[i].person_name);
                            $("#IDPSNoKP").val(data[i].person_identifier);

                            $("#IDPSNamaSyarikat").val(data[i].organization_name);
                            $("#IDPSNoDaftarSyarikat").val(data[i].organization_identifier);

                            $("#IDPSHpNo").val(data[i].contact_mobile_no);
                            $("#IDPSAlamat").val(data[i].contact_addr_1);
                            $("#IDPSAlamat1").val(data[i].contact_addr_2);
                            $("#IDPSAlamat2").val(data[i].contact_addr_3);
                            $("#IDPSPoskod").val(data[i].contact_postcode);
                            $("#IDPSBandar").val(data[i].contact_city);
                            $("#IDPSSaham").val(data[i].number_of_shares);
                            $("#IDPSTarikhLahir").val(data[i].sperson_birthday);
                            $("#genderlist_").val(data[i].person_gender);
                            $("#religionlist_").val(data[i].person_religion);
                            $("#IDPSUmur").val(data[i].sperson_age);
                            $("#IDPSNegeri_idx").val(data[i].contact_state);
                            $("#IDPSNegeri").val(data[i].state_name);

                            $("#IDPSAlamatSyarikat1").val(data[i].office_addr_1);
                            $("#IDPSAlamatSyarikat2").val(data[i].office_addr_2);
                            $("#IDPSAlamatSyarikat3").val(data[i].office_addr_3);
                            $("#IDPSPoskodSyarikat").val(data[i].office_postcode);
                            $("#IDPSBandarSyarikat").val(data[i].office_city);
                            $("#IDPSNamaSyarikat").val(data[i].organization_name);
                            $("#IDPSHpNoSyarikat").val(data[i].office_mobile_no);
                            $("#IDTahunDaftarSyarikat").val(data[i].registered_year);
                            $("#IDNilaiSaham").val(data[i].number_of_shares);
                            $("#IDPSNegeriSyarikat_idx").val(data[i].office_state);
                            $("#IDPSNegeriSyarikat").val(data[i].state_name_company);
                            $("#orgID").val(data[i].organization_idx);
                            $("#personID").val(data[i].person_idx);
                            $("#shareholderID").val(data[i].organization_shareholder_idx);

                            document.getElementById('justification').style.display = 'none';
                            document.getElementById('divJustifyPerson').style.display = 'none';
                            document.getElementById('divJustifyOrg').style.display = 'none';


                            if (type_ != "Person") {

                                document.getElementById('Syarikat').style.display = 'block';
                                document.getElementById('BukanSyarikat').style.display = 'none';
                                document.getElementById('pemegangsaham_person').style.display = 'none';
                                document.getElementById('pemegangsaham_organization').style.display = 'block';

                                //if (data[i].new_status_shareholder == '00000000-0000-0000-0000-000000000000') {
                                //    if (data[i].old_status_shareholder != '00000000-0000-0000-0000-000000000000') {
                                //        $("#StatusPemegangSahamPerson_").val(data[i].old_status_shareholder);
                                //    }
                                //    document.getElementById('StatusPemegangSahamPerson_').style.backgroundColor = "transparent";
                                //}
                                //else {
                                //    $("#StatusPemegangSahamPerson_").val(data[i].new_status_shareholder);
                                //    if (status != "BAHARU") {
                                //        document.getElementById('StatusPemegangSahamPerson_').style.backgroundColor = "lightblue";
                                //    }
                                //}

                                //var nationality;

                                //if (data[i].new_person_nationality == '00000000-0000-0000-0000-000000000000') {
                                //    if (data[i].old_person_nationality != '00000000-0000-0000-0000-000000000000') {
                                //        nationality = data[i].old_person_nationality;
                                //    }
                                //}
                                //else
                                //    nationality = data[i].new_person_nationality;

                                //if ($("#StatusPemegangSahamPerson_").val() == '') {
                                //    $("#allCountries").val('--Sila Pilih Status Pemegang Saham--');
                                //    $("#divAllCountries").prop("hidden", false);
                                //    $("#divWarganegara").prop("hidden", true);
                                //    $("#divBukanWarganegara").prop("hidden", true);
                                //    //document.getElementById('MalaysialistSH_').style.backgroundColor = "transparent";
                                //}
                                ////bumiputera
                                //else if ($("#StatusPemegangSahamPerson_").val() == 'b93febab-a316-4d1e-9e05-ec0015e820d9') {
                                //    $("#MalaysialistSH_").val(nationality);
                                //    $("#divAllCountries").prop("hidden", true);
                                //    $("#divWarganegara").prop("hidden", false);
                                //    $("#divBukanWarganegara").prop("hidden", true);
                                //    //if (status != "BAHARU") {
                                //    //    document.getElementById('MalaysialistSH_').style.backgroundColor = "lightblue";
                                //    //}
                                //}
                                ////bukan bumiputera
                                //else if ($("#StatusPemegangSahamPerson_").val() == '1b3b3c90-38bc-4cbb-b52b-aee6af08c5e8') {
                                //    $("#AllcountrylistSH_").val(nationality);
                                //    $("#divAllCountries").prop("hidden", true);
                                //    $("#divWarganegara").prop("hidden", true);
                                //    $("#divBukanWarganegara").prop("hidden", false);
                                //}

                                var postcode1 = data[i].office_postcode;

                                if (postcode1 != null) {
                                    loadTown(postcode1, 'IDPSBandarSyarikat', 'company');

                                }

                                var state1 = data[i].office_city;

                                if (state1 != null) {
                                    state1 = data[i].office_city.toString(16);
                                    loadState(state1, 'IDPSNegeriSyarikat');
                                }


                            }

                            else {

                                document.getElementById('Syarikat').style.display = 'none';
                                document.getElementById('BukanSyarikat').style.display = 'block';
                                document.getElementById('pemegangsaham_person').style.display = 'block';
                                document.getElementById('pemegangsaham_organization').style.display = 'none';

                                $("#StatusPemegangSahamPerson_").val(data[i].status_shareholder);


                                if ($("#StatusPemegangSahamPerson_").val() == '') {
                                    $("#allCountries").val('--Sila Pilih Status Pemegang Saham--');
                                    $("#divAllCountries").prop("hidden", false);
                                    $("#divWarganegara").prop("hidden", true);
                                    $("#divBukanWarganegara").prop("hidden", true);
                                    document.getElementById('MalaysialistSH_').style.backgroundColor = "transparent";
                                    document.getElementById('AllcountrylistSH_').style.backgroundColor = "transparent";
                                }
                                //bumiputera
                                else if ($("#StatusPemegangSahamPerson_").val() == 'b93febab-a316-4d1e-9e05-ec0015e820d9') {
                                    $("#MalaysialistSH_").val(data[i].person_nationality);
                                    $("#divAllCountries").prop("hidden", true);
                                    $("#divWarganegara").prop("hidden", false);
                                    $("#divBukanWarganegara").prop("hidden", true);
                                    if (status != "BAHARU") {
                                        document.getElementById('MalaysialistSH_').style.backgroundColor = "lightblue";
                                    }
                                }
                                //bukan bumiputera
                                else if ($("#StatusPemegangSahamPerson_").val() == '1b3b3c90-38bc-4cbb-b52b-aee6af08c5e8') {
                                    $("#AllcountrylistSH_").val(data[i].person_nationality);
                                    $("#divAllCountries").prop("hidden", true);
                                    $("#divWarganegara").prop("hidden", true);
                                    $("#divBukanWarganegara").prop("hidden", false);
                                    if (status != "BAHARU") {
                                        document.getElementById('AllcountrylistSH_').style.backgroundColor = "lightblue";
                                    }
                                }

                                //$("#MalaysialistSH_").val(data[i].person_nationality);

                                var uploadname = data[i].upload_name;
                                if (uploadname != null && uploadname != "") {
                                    document.getElementById('divdownload').style.display = 'block';
                                }
                                else {
                                    document.getElementById('divdownload').style.display = 'none';
                                }
                                var postcode = data[i].contact_postcode;
                                if (postcode != null) {
                                    loadTown(postcode, 'IDPSBandar', 'person');
                                }
                                var state = data[i].contact_city;

                                if (state != null) {
                                    state = data[i].contact_city.toString(16);
                                    loadState(state, 'IDPSNegeri');
                                }


                            }


                        }
                        hideLoader();
                    }
                });

                $('#PemegangSahamModal').modal('show');
            });

            $("#tblPemegangSahamBaru").on('click', '.UpdatePemegangSaham', function () {
                showLoader();
                document.getElementById('divJustifyPerson').style.display = 'none';
                document.getElementById('divdownloadJustPerson').style.display = 'none';
                document.getElementById('divJustifyOrg').style.display = 'none';
                $("#MalaysialistSH_").val('')
                $("#divAllCountries").prop('hidden', false);
                $('#divWarganegara').prop('hidden', true);
                $('#divBukanWarganegara').prop('hidden', true);
                var id = $(this).parent().parent().attr('id');

                var type_ = $("#typeShareholder_" + id).val();

                var status = $("#status_" + id).val();
                $("#statusShareholder").val(status);
                //Modified by awie
                //document.getElementById('justification').style.display = 'block';
                //document.getElementById('divJustifyPerson').style.display = 'none';
                //document.getElementById('divJustifyOrg').style.display = 'none';
                //Modified by awie
                var url = "";
                var IDX = "";
                if (type_ == "Person") {
                    url = "/MM2H/ajaxChangeStatusPersonDetail";
                    IDX = $("#personIDX_" + id).val();
                    $("#personID").val(IDX);
                    document.getElementById('btnSavePerson').style.display = 'block';
                    document.getElementById('btnAddPerson').style.display = 'none';

                }
                else {
                    url = "/MM2H/ajaxShareHolderChangeStatusOrgDetail";
                    IDX = $("#orgIDX_" + id).val();


                    document.getElementById('btnSaveOrganization').style.display = 'block';
                    document.getElementById('btnAddOrganization').style.display = 'none';
                }

                //document.getElementById('divJustifyPerson').style.display = 'block';
                //document.getElementById('divOthersPerson').style.display = 'none';
                //document.getElementById('divJustifyOrg').style.display = 'block';
                //document.getElementById('divOtherOrg').style.display = 'none';
                //document.getElementById('btnSavePerson').style.display = 'block';
                //document.getElementById('btnAddPerson').style.display = 'none';
                enabledShareholderPerson();

                $("#IDPSNama").val("");
                $("#IDPSNoKP").val("");

                $("#IDPSNamaSyarikat").val("");
                $("#IDPSNoDaftarSyarikat").val("");

                $("#IDPSHpNo").val("");
                $("#IDPSNoDaftarSyarikat").val("");

                $.ajax({
                    url: url,
                    type: "POST",
                    data: {
                        IDX: IDX,

                    },
                    success: function (data) {
                        console.log(data)
                        for (var i = 0; i < data.length; i++) {
                            $("#orgID").val(IDX);
                            if (type_ == "Person") {
                                //alert("person");
                                //alert(type_);
                                //if (status == "BAHARU") {
                                //    document.getElementById('divJustifyPerson').style.display = 'none';
                                //    document.getElementById('divJustifyOrg').style.display = 'none';
                                //}
                                //else {
                                //    document.getElementById('divJustifyPerson').style.display = 'block';
                                //    document.getElementById('divJustifyOrg').style.display = 'none';
                                //}
                                document.getElementById('pemegangsaham_person').style.display = 'block';
                                document.getElementById('pemegangsaham_organization').style.display = 'none';
                                document.getElementById('pemegangsaham_all').style.display = 'none';
                                document.getElementById('Syarikat').style.display = 'none';
                                document.getElementById('BukanSyarikat').style.display = 'block';
                                /* if (status != "BAHARU") {*/
                                if (data[i].new_person_name == null) {
                                    $("#IDPSNama").val(data[i].old_person_name);
                                    document.getElementById('IDPSNama').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSNama").val(data[i].new_person_name);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSNama').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_person_identifier == null) {
                                    $("#IDPSNoKP").val(data[i].old_person_identifier);
                                    document.getElementById('IDPSNoKP').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSNoKP").val(data[i].new_person_identifier);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSNoKP').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_contact_mobile_no == null) {
                                    $("#IDPSHpNo").val(data[i].old_contact_mobile_no);
                                    document.getElementById('IDPSHpNo').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSHpNo").val(data[i].new_contact_mobile_no);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSHpNo').style.backgroundColor = "lightblue";
                                    }
                                }
                                var birthday = "";

                                if (data[i].sNew_person_birthday == "") {

                                    $("#IDPSTarikhLahir").val(data[i].sOld_person_birthday);
                                    birthday = data[i].old_person_birthday;
                                    document.getElementById('IDPSTarikhLahir').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSTarikhLahir").val(data[i].sNew_person_birthday);

                                    birthday = data[i].new_person_birthday;
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSTarikhLahir').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].sNew_person_age == "") {
                                    $("#IDPSUmur").val(data[i].sOld_person_age);

                                }
                                else {
                                    $("#IDPSUmur").val(data[i].sNew_person_age);

                                }


                                if (data[i].new_contact_addr_1 == null) {
                                    $("#IDPSAlamat").val(data[i].old_contact_addr_1);
                                    document.getElementById('IDPSAlamat').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSAlamat").val(data[i].new_contact_addr_1);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSAlamat').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_contact_addr_2 == null) {
                                    $("#IDPSAlamat1").val(data[i].old_contact_addr_2);
                                    document.getElementById('IDPSAlamat1').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSAlamat1").val(data[i].new_contact_addr_2);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSAlamat1').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_contact_addr_3 == null) {
                                    $("#IDPSAlamat2").val(data[i].old_contact_addr_3);
                                    document.getElementById('IDPSAlamat2').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSAlamat2").val(data[i].new_contact_addr_3);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSAlamat2').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_contact_postcode == null) {
                                    $("#IDPSPoskod").val(data[i].old_contact_postcode);
                                    document.getElementById('IDPSPoskod').style.backgroundColor = "transparent";
                                    var postcode = data[i].old_contact_postcode;
                                    if (postcode != null) {
                                        loadTown(postcode, 'IDPSBandar', 'person');
                                    }
                                    var state = data[i].old_contact_city;

                                    if (state != null) {
                                        state = data[i].old_contact_city.toString(16);
                                        loadState(state, 'IDPSNegeri');
                                    }

                                }
                                else {
                                    $("#IDPSPoskod").val(data[i].new_contact_postcode);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSPoskod').style.backgroundColor = "lightblue";
                                    }

                                    var postcode = data[i].new_contact_postcode;

                                    if (postcode != null) {
                                        loadTown(postcode, 'IDPSBandar', 'person');
                                    }
                                    var state = data[i].new_contact_city;

                                    if (state != null) {
                                        state = data[i].new_contact_city.toString(16);
                                        loadState(state, 'IDPSNegeri');
                                    }

                                }

                                if (data[i].new_contact_city == '00000000-0000-0000-0000-000000000000') {
                                    if (data[i].old_contact_city != '00000000-0000-0000-0000-000000000000') {
                                        $("#IDPSBandar").val(data[i].old_contact_city);
                                    }
                                    //document.getElementById('IDPSBandar').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSBandar").val(data[i].new_contact_city);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSBandar').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_contact_state == '00000000-0000-0000-0000-000000000000') {
                                    if (data[i].old_contact_state != '00000000-0000-0000-0000-000000000000') {
                                        $("#IDPSNegeri_idx").val(data[i].old_contact_state);
                                    }
                                    document.getElementById('IDPSNegeri_idx').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSNegeri_idx").val(data[i].new_contact_state);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSNegeri_idx').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_person_gender == '00000000-0000-0000-0000-000000000000') {
                                    $("#genderlist_").val(data[i].old_person_gender);
                                    document.getElementById('genderlist_').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#genderlist_").val(data[i].new_person_gender);
                                    if (status != "BAHARU") {
                                        document.getElementById('genderlist_').style.backgroundColor = "lightblue";
                                    }
                                }

                                $("#religionlist_").val('');
                                if (data[i].new_person_religion == '00000000-0000-0000-0000-000000000000') {
                                    if (data[i].old_person_religion != '00000000-0000-0000-0000-000000000000') {
                                        $("#religionlist_").val(data[i].old_person_religion);
                                    }
                                    document.getElementById('religionlist_').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#religionlist_").val(data[i].new_person_religion);
                                    if (status != "BAHARU") {
                                        document.getElementById('religionlist_').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_number_of_shares == "") {
                                    $("#IDPSSaham").val(data[i].old_number_of_shares);
                                    document.getElementById('IDPSSaham').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSSaham").val(data[i].new_number_of_shares);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSSaham').style.backgroundColor = "lightblue";
                                    }
                                }

                                $("#StatusPemegangSahamPerson_").val('');
                                if (data[i].new_status_shareholder == '00000000-0000-0000-0000-000000000000') {
                                    if (data[i].old_status_shareholder != '00000000-0000-0000-0000-000000000000') {
                                        $("#StatusPemegangSahamPerson_").val(data[i].old_status_shareholder);
                                    }
                                    document.getElementById('StatusPemegangSahamPerson_').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#StatusPemegangSahamPerson_").val(data[i].new_status_shareholder);
                                    if (status != "BAHARU") {
                                        document.getElementById('StatusPemegangSahamPerson_').style.backgroundColor = "lightblue";
                                    }
                                }

                                var nationality;

                                if (data[i].new_person_nationality == '00000000-0000-0000-0000-000000000000') {
                                    if (data[i].old_person_nationality != '00000000-0000-0000-0000-000000000000') {
                                        nationality = data[i].old_person_nationality;
                                    }
                                }
                                else
                                    nationality = data[i].new_person_nationality;

                                if ($("#StatusPemegangSahamPerson_").val() == '') {
                                    $("#allCountries").val('--Sila Pilih Status Pemegang Saham--');
                                    $("#MalaysialistSH_").val('');
                                    $("#divAllCountries").prop("hidden", false);
                                    $("#divWarganegara").prop("hidden", true);
                                    $("#divBukanWarganegara").prop("hidden", true);
                                    document.getElementById('MalaysialistSH_').style.backgroundColor = "transparent";
                                    document.getElementById('AllcountrylistSH_').style.backgroundColor = "transparent";
                                }
                                //bumiputera
                                else if ($("#StatusPemegangSahamPerson_").val() == 'b93febab-a316-4d1e-9e05-ec0015e820d9') {
                                    $("#MalaysialistSH_").val(nationality);
                                    $("#divAllCountries").prop("hidden", true);
                                    $("#divWarganegara").prop("hidden", false);
                                    $("#divBukanWarganegara").prop("hidden", true);
                                    if (status != "BAHARU") {
                                        document.getElementById('MalaysialistSH_').style.backgroundColor = "lightblue";
                                    }
                                }
                                //bukan bumiputera
                                else if ($("#StatusPemegangSahamPerson_").val() == '1b3b3c90-38bc-4cbb-b52b-aee6af08c5e8') {
                                    $("#AllcountrylistSH_").val(nationality);
                                    $("#divAllCountries").prop("hidden", true);
                                    $("#divWarganegara").prop("hidden", true);
                                    $("#divBukanWarganegara").prop("hidden", false);
                                    if (status != "BAHARU") {
                                        document.getElementById('AllcountrylistSH_').style.backgroundColor = "lightblue";
                                    }
                                }

                                $("#locationFile").val(data[i].locationFile);
                                $("#fileName").val(data[i].fileName);

                                var uploadname = data[i].fileName;

                                if (uploadname != null && uploadname != "") {
                                    document.getElementById('divdownload').style.display = 'block';
                                }
                                else {
                                    document.getElementById('divdownload').style.display = 'none';
                                }

                                $("#locationFileJust").val(data[i].locationFileJust);
                                $("#fileNameJust").val(data[i].fileNameJust);

                                var uploadnameJust = data[i].fileNameJust;

                                if (uploadnameJust != null && uploadnameJust != "") {

                                    document.getElementById('divdownloadJustPerson').style.display = 'block';
                                }
                                else {
                                    document.getElementById('divdownloadJustPerson').style.display = 'none';
                                }


                                //modified by Awie
                                if (status != "BAHARU") {

                                    if (data[i].new_justification_id == '00000000-0000-0000-0000-000000000000') {
                                        document.getElementById("chkKemaskinitrue").checked = true;
                                        document.getElementById("chkKemaskinifalse").checked = false;
                                        document.getElementById('divJustifyPerson').style.display = 'none';
                                        document.getElementById('divJustifyOrg').style.display = 'none';
                                        document.getElementById('justification').style.display = 'block';
                                        //      document.getElementById('divdownloadJustPerson').style.display = 'none';

                                    }
                                    else {
                                        document.getElementById("chkKemaskinitrue").checked = false;
                                        document.getElementById("chkKemaskinifalse").checked = true;
                                        document.getElementById('justification').style.display = 'block';
                                        document.getElementById('divJustifyPerson').style.display = 'block';
                                        document.getElementById('divJustifyOrg').style.display = 'none';
                                        //    document.getElementById('divdownloadJustPerson').style.display = 'none';
                                    }


                                    if (data[i].new_justification_id != '00000000-0000-0000-0000-000000000000') {
                                        $("#JustifikasiPemegangSahamOther_").val(data[i].new_justification_id);
                                    }

                                    if (data[i].new_justification_id == '00000000-0000-0000-0000-000000000000') {
                                        document.getElementById('divOthersPerson').style.display = 'none';
                                        document.getElementById('divOthersPerson1').style.display = 'none';
                                    }
                                    else {
                                        var f = document.getElementById("JustifikasiPemegangSahamOther_");
                                        var justificationText_ = f.options[f.selectedIndex].text;

                                        if (justificationText_ == "LAIN-LAIN") {
                                            document.getElementById('divOthersPerson').style.display = 'block';
                                            document.getElementById('divOthersPerson1').style.display = 'block';
                                            $("#JustifikasiPemegangSaham").val(data[i].new_justification_name);

                                        }
                                        else {
                                            document.getElementById('divOthersPerson').style.display = 'none';
                                            document.getElementById('divOthersPerson1').style.display = 'none';

                                        }
                                    }

                                }
                                //modified by Awie

                            }
                            else {
                                //alert("organization");
                                //alert(type_);
                                //if (status == "BAHARU") {
                                //    document.getElementById('divJustifyOrg').style.display = 'none';
                                //    document.getElementById('divJustifyPerson').style.display = 'none';
                                //    document.getElementById('justification').style.display = 'none';
                                //}
                                //else {

                                //    document.getElementById('divJustifyOrg').style.display = 'block';
                                //    document.getElementById('divJustifyPerson').style.display = 'none';
                                //    document.getElementById('justification').style.display = 'block';
                                //}
                                document.getElementById('pemegangsaham_person').style.display = 'none';
                                document.getElementById('pemegangsaham_organization').style.display = 'block';
                                document.getElementById('pemegangsaham_all').style.display = 'none';
                                document.getElementById('Syarikat').style.display = 'block';
                                document.getElementById('BukanSyarikat').style.display = 'none';
                                /*  if (status != "BAHARU") {*/
                                if (data[i].new_organization_name == null) {
                                    $("#IDPSNamaSyarikat").val(data[i].old_organization_name);
                                    document.getElementById('IDPSNamaSyarikat').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSNamaSyarikat").val(data[i].new_organization_name);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSNamaSyarikat').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_organization_identifier == null) {
                                    $("#IDPSNoDaftarSyarikat").val(data[i].old_organization_identifier);
                                    document.getElementById('IDPSNoDaftarSyarikat').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSNoDaftarSyarikat").val(data[i].new_organization_identifier);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSNoDaftarSyarikat').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_addr_1 == null) {
                                    $("#IDPSAlamatSyarikat1").val(data[i].old_addr_1);
                                    document.getElementById('IDPSAlamatSyarikat1').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSAlamatSyarikat1").val(data[i].new_addr_1);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSAlamatSyarikat1').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_addr_2 == null) {
                                    $("#IDPSAlamatSyarikat2").val(data[i].old_addr_2);
                                    document.getElementById('IDPSAlamatSyarikat1').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSAlamatSyarikat2").val(data[i].new_addr_2);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSAlamatSyarikat2').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_addr_3 == null) {
                                    $("#IDPSAlamatSyarikat3").val(data[i].old_addr_3);
                                    document.getElementById('IDPSAlamatSyarikat3').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSAlamatSyarikat3").val(data[i].new_addr_3);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSAlamatSyarikat3').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_postcode == null) {
                                    $("#IDPSPoskodSyarikat").val(data[i].old_postcode);
                                    document.getElementById('IDPSPoskodSyarikat').style.backgroundColor = "transparent";
                                    var postcode1 = data[i].old_postcode;

                                    if (postcode1 != null) {
                                        loadTown(postcode1, 'IDPSBandarSyarikat', 'company');

                                    }
                                }
                                else {
                                    $("#IDPSPoskodSyarikat").val(data[i].new_postcode);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSPoskodSyarikat').style.backgroundColor = "lightblue";
                                    }
                                    var postcode1 = data[i].new_postcode;

                                    if (postcode1 != null) {
                                        loadTown(postcode1, 'IDPSBandarSyarikat', 'company');

                                    }
                                }

                                if (data[i].new_city == null) {
                                    $("#IDPSBandarSyarikat").val(data[i].old_city);
                                    document.getElementById('IDPSBandarSyarikat').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSBandarSyarikat").val(data[i].new_city);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSBandarSyarikat').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_mobile_no == null) {
                                    $("#IDPSHpNoSyarikat").val(data[i].old_mobile_no);
                                    document.getElementById('IDPSHpNoSyarikat').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSHpNoSyarikat").val(data[i].new_mobile_no);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSHpNoSyarikat').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_number_of_shares == null) {
                                    $("#IDNilaiSaham").val(data[i].old_number_of_shares);
                                    document.getElementById('IDNilaiSaham').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDNilaiSaham").val(data[i].new_number_of_shares);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDNilaiSaham').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_registered_year == null) {
                                    $("#IDTahunDaftarSyarikat").val(data[i].old_registered_year);
                                    document.getElementById('IDTahunDaftarSyarikat').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDTahunDaftarSyarikat").val(data[i].new_registered_year);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDTahunDaftarSyarikat').style.backgroundColor = "lightblue";
                                    }
                                }
                                if (data[i].new_state == null) {
                                    $("#IDPSNegeriSyarikat_idx").val(data[i].old_state);
                                    document.getElementById('IDPSNegeriSyarikat_idx').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#IDPSNegeriSyarikat_idx").val(data[i].new_state);
                                    if (status != "BAHARU") {
                                        document.getElementById('IDPSNegeriSyarikat_idx').style.backgroundColor = "lightblue";
                                    }
                                }

                                if (data[i].new_status_shareholder == '00000000-0000-0000-0000-000000000000') {
                                    if (data[i].old_status_shareholder != '00000000-0000-0000-0000-000000000000') {
                                        $("#StatusPemegangSahamOrganization_").val(data[i].old_status_shareholder);
                                    }
                                    document.getElementById('StatusPemegangSahamOrganization_').style.backgroundColor = "transparent";
                                }
                                else {
                                    $("#StatusPemegangSahamOrganization_").val(data[i].new_status_shareholder);
                                    if (status != "BAHARU") {
                                        document.getElementById('StatusPemegangSahamOrganization_').style.backgroundColor = "lightblue";
                                    }
                                }

                                var nationality;

                                if (data[i].new_country_ref == '00000000-0000-0000-0000-000000000000') {
                                    if (data[i].old_country_ref != '00000000-0000-0000-0000-000000000000') {
                                        nationality = data[i].old_country_ref;
                                    }
                                }
                                else
                                    nationality = data[i].new_country_ref;

                                if ($("#StatusPemegangSahamOrganization_").val() == '') {
                                    $("#allCountriesSyarikat").val('--Sila Pilih Status Pemegang Saham--');
                                    $("#divAllCountriesSyarikat").prop("hidden", false);
                                    $("#divTempatan").prop("hidden", true);
                                    $("#divAsean").prop("hidden", true);
                                    $("#divBukanAsean").prop("hidden", true);
                                    document.getElementById('malaysialist_').style.backgroundColor = "transparent";
                                    document.getElementById('AseanList_').style.backgroundColor = "transparent";
                                    document.getElementById('NonAseanList_').style.backgroundColor = "transparent";
                                }
                                //tempatan
                                else if ($("#StatusPemegangSahamOrganization_").val() == 'f7efb844-8896-4f3a-8b4b-a7710be52284') {
                                    $("#malaysialist_").val(nationality);
                                    $("#divAllCountriesSyarikat").prop("hidden", true);
                                    $("#divTempatan").prop("hidden", false);
                                    $("#divAsean").prop("hidden", true);
                                    $("#divBukanAsean").prop("hidden", true);
                                    if (status != "BAHARU") {
                                        document.getElementById('malaysialist_').style.backgroundColor = "lightblue";
                                    }
                                }
                                //asean
                                else if ($("#StatusPemegangSahamOrganization_").val() == 'c2494649-12df-4c91-8e45-9c291648c2ae') {
                                    $("#AseanList_").val(nationality);
                                    $("#divAllCountriesSyarikat").prop("hidden", true);
                                    $("#divTempatan").prop("hidden", true);
                                    $("#divAsean").prop("hidden", false);
                                    $("#divBukanAsean").prop("hidden", true);
                                    if (status != "BAHARU") {
                                        document.getElementById('AseanList_').style.backgroundColor = "lightblue";
                                    }
                                }
                                //bukan asean
                                else if ($("#StatusPemegangSahamOrganization_").val() == 'a800d9b0-1463-49b0-a339-ae95c7a91d6d') {
                                    $("#NonAseanList_").val(nationality);
                                    $("#divAllCountriesSyarikat").prop("hidden", true);
                                    $("#divTempatan").prop("hidden", true);
                                    $("#divAsean").prop("hidden", true);
                                    $("#divBukanAsean").prop("hidden", false);
                                    if (status != "BAHARU") {
                                        document.getElementById('NonAseanList_').style.backgroundColor = "lightblue";
                                    }
                                }

                                /*  $("#IDPSNegeriSyarikat").val(data[i].state_name_company);*/

                                /*   $("#personID").val(data[i].person_idx);*/
                                //$("#shareholderID").val(data[i].org_shareholder_upd_ref);
                                //var organization_location = "";

                                //var e = document.getElementById("StatusPemegangSahamOrganization_");
                                //var PemegangSahamText_ = e.options[e.selectedIndex].text;

                                //var Malaysia_ = $("#Malaysia").val();

                                //if (PemegangSahamText_ == "SYARIKAT TEMPATAN") {
                                //    document.getElementById('divWarganegaraSyarikat').style.display = 'block';
                                //    document.getElementById('divAsean').style.display = 'none';
                                //    document.getElementById('divBukanAsean').style.display = 'none';
                                //    /* if (status != "BAHARU") {*/
                                //    if (data[i].new_country_ref == null) {
                                //        $("#malaysialist_").val(data[i].old_country_ref);
                                //        document.getElementById('malaysialist_').style.backgroundColor = "transparent";

                                //    }
                                //    else {
                                //        $("#malaysialist_").val(data[i].new_country_ref);
                                //        if (status != "BAHARU") {
                                //            document.getElementById('malaysialist_').style.backgroundColor = "lightblue";
                                //        }
                                //    }
                                //    /* }*/

                                //} else if (PemegangSahamText_ == "SYARIKAT ASING(ASEAN)") {
                                //    document.getElementById('divWarganegaraSyarikat').style.display = 'none';
                                //    document.getElementById('divAsean').style.display = 'block';
                                //    document.getElementById('divBukanAsean').style.display = 'none';
                                //    /* if (status != "BAHARU") {*/
                                //    if (data[i].new_country_ref == null) {
                                //        $("#AseanList_").val(data[i].old_country_ref);
                                //        document.getElementById('AseanList_').style.backgroundColor = "transparent";

                                //    }
                                //    else {
                                //        $("#AseanList_").val(data[i].new_country_ref);
                                //        if (status != "BAHARU") {
                                //            document.getElementById('AseanList_').style.backgroundColor = "lightblue";
                                //        }
                                //    }
                                //    /* }*/
                                //} else {
                                //    document.getElementById('divWarganegaraSyarikat').style.display = 'none';
                                //    document.getElementById('divAsean').style.display = 'none';
                                //    document.getElementById('divBukanAsean').style.display = 'block';
                                //    /*if (status != "BAHARU") {*/
                                //    if (data[i].new_country_ref == null) {
                                //        $("#NonAseanlist_").val(data[i].old_country_ref);
                                //        document.getElementById('NonAseanlist_').style.backgroundColor = "transparent";
                                //    }
                                //    else {
                                //        $("#NonAseanlist_").val(data[i].new_country_ref);
                                //        if (status != "BAHARU") {
                                //            document.getElementById('NonAseanlist_').style.backgroundColor = "lightblue";
                                //        }
                                //    }
                                //    /*  }*/
                                //}

                                $("#locationFileJustOrg").val(data[i].locationFileJust);
                                $("#fileNameJustOrg").val(data[i].fileNameJust);

                                var uploadnameJustOrg = data[i].fileNameJust;

                                if (uploadnameJustOrg != null && uploadnameJustOrg != "") {

                                    document.getElementById('divdownloadJustOrg').style.display = 'block';
                                }
                                else {
                                    document.getElementById('divdownloadJustOrg').style.display = 'none';
                                }


                                //modified by Awie
                                if (status != "BAHARU") {

                                    if (data[i].new_justification_id == '00000000-0000-0000-0000-000000000000' || data[i].new_justification_id == null) {
                                        document.getElementById("chkKemaskinitrue").checked = true;
                                        document.getElementById("chkKemaskinifalse").checked = false;
                                        document.getElementById('divJustifyPerson').style.display = 'none';
                                        document.getElementById('divJustifyOrg').style.display = 'none';
                                        document.getElementById('justification').style.display = 'block';


                                    }
                                    else {
                                        document.getElementById("chkKemaskinitrue").checked = false;
                                        document.getElementById("chkKemaskinifalse").checked = true;
                                        document.getElementById('justification').style.display = 'block';
                                        document.getElementById('divJustifyPerson').style.display = 'none';
                                        document.getElementById('divJustifyOrg').style.display = 'block';
                                    }

                                    $("#JustifikasiPemegangSahamOrg_").val(data[i].new_justification_id);
                                    var f = document.getElementById("JustifikasiPemegangSahamOrg_");
                                    //var justificationText_ = f.options[f.selectedIndex].text;

                                    //if (justificationText_ == "LAIN-LAIN") {
                                    //    document.getElementById('divOtherOrg').style.display = 'block';
                                    //    document.getElementById('divOtherOrg1').style.display = 'block';
                                    //    $("#JustifikasiPemegangSahamOrg").val(data[i].new_justification_name);

                                    //}
                                    //else {
                                    //    document.getElementById('divOtherOrg').style.display = 'none';
                                    //    document.getElementById('divOtherOrg1').style.display = 'none';

                                    //}
                                }
                                //modified by Awie




                                //if (status != "BAHARU") {
                                //    $("#JustifikasiPemegangSahamOrg_").val(data[i].new_justification_id);
                                //    var f = document.getElementById("JustifikasiPemegangSahamOrg_");
                                //    var justificationText_ = f.options[f.selectedIndex].text;


                                //    if (justificationText_ == "LAIN-LAIN") {
                                //        document.getElementById('divOtherOrg').style.display = 'block';
                                //        $("#JustifikasiPemegangSahamOtherOrg").val(data[i].new_justification_name);
                                //    }
                                //    else {
                                //        document.getElementById('divOtherOrg').style.display = 'none';
                                //    }
                                //}


                                //var state1 = data[i].office_city;

                                //if (state1 != null) {
                                //    state1 = data[i].office_city.toString(16);
                                //    loadState(state1, 'IDPSNegeriSyarikat');
                                //}


                            }
                        }
                        hideLoader();
                    }
                });

                $('#PemegangSahamModal').modal('show');
            });

            $("#tblPemegangSahamBaru").on('click', '.remove', function () {

                var id = $(this).parent().parent().attr('id');

                var personIDX = $("#personIDX_" + id).val();
                var orgIDX = $("#orgIDX_" + id).val();

                var idx = "";
                if (personIDX != "null") {
                    idx = personIDX;
                } else {
                    idx = orgIDX;
                }

                id = idx + "," + id;

                msgPopupOption("Adakah Anda Pasti?", confirmHapusShareholder, cancelHapus, id);


            });

        });


    </script>

    @*Function*@

    <script>

        //added by samsuri (CR#57258)  on 10 Jan 2024
        function radCawanganType()
        {
            if ($("#AlamatSyarikatCaw").is(':checked')){
                document.getElementById('CawanganList').disabled = false;
            }
            
            if ($("#AlamatSyarikatHQ").is(':checked')) {
                document.getElementById('CawanganList').disabled = true;
                $("#CawanganList").empty();
               
                loadHQ();
                
            }
        }

        //added by samsuri (CR#57258)  on 10 Jan 2024
        function getCawanganList()
        {
            var OrgID = document.getElementById("OrgID").value;
            //msgPopup("OrgID:"+OrgID);            
            var url = null;
            url = "@Url.Action("TOBTABBranchesActive", "TOBTAB")";

            $.ajax({
            url: url,
            type: 'GET',
            data: ({"Org_ref":OrgID}),
            success: function (result) {
                datas = result[0].branches;
                //console.log(datas);
             $("#CawanganList").empty();
             $("#CawanganList").append($("<option></option>").val("").html("Sila Pilih"));
              //show on drop down list
              $(datas).each(function() {
                    if(this.active_status != null) {
                        $("#CawanganList").append($("<option></option>").val(this.tobtab_add_branches_idx).html(this.branch_name +" - "+document.getElementById("syarikat_NamaPenuh").value ));
                    }
                    
                });
            },
            error: function (ex) {
                var r = jQuery.parseJSON(response.responseText);
                errorPopup("Message: " + r.Message);
                errorPopup("StackTrace: " + r.StackTrace);
                errorPopup("ExceptionType: " + r.ExceptionType);
            }
            });


        }

        //added by samsuri (CR#57258)  on 10 Jan 2024
        function showSelected(){     
            var cawlst_idx = $('#CawanganList').val();       
            var cawlst = $('#CawanganList :selected').text();
            //errorPopup(cawlst);
            //msgPopup("Branch idx:"+cawlst_idx);
                        
            var url = "@Url.Action("TOBTABBranchesbyBranchIdx", "TOBTAB")";
            
            $.ajax({
            url: url,
            type: 'GET',
            data: ({"branches_idx":cawlst_idx}),
            success: function (result) {
                datas = result[0].branches;
                //console.log(datas);
                //msgPopup(datas);        
                     
                $("#branch_idx").val(cawlst_idx);       
              $(datas).each(function() {
                    //msgPopup(this.branch_addr_1);
                    $("#syarikat_AlamatBerdaftar").val(this.branch_addr_1);
                    $("#syarikat_AlamatBerdaftar1").val(this.branch_addr_2);
                    $("#syarikat_AlamatBerdaftar2").val(this.branch_addr_3);
                    $("#Branch_Lic_Stub_idx").val(this.application_stub_ref);
                    //msgPopup("ilp lic:"+this.ilp_license_idx);
                    $("#syarikat_poskod").val(this.branch_postcode);
                    loadTownOld(this.branch_postcode,"syarikat_bandar","old");
                    //$("#syarikat_bandar").val(this.branch_city);                    
                    loadStateOld(this.branch_city, "syarikat_negeri");
                    //$("#syarikat_negeri").val(this.branch_state);
                    
                    //NEW
                    //$("#syarikat_NamaPenuhBaru").val(data[x].new_organization_name);
                    //$("#JustifikasiNama").val(data[x].new_justification_name);
                                        
                    $("#syarikat_AlamatBerdaftarBaru").val("");
                    $("#syarikat_AlamatBerdaftar1Baru").val("");   
                    $("#syarikat_AlamatBerdaftar2Baru").val("");    
                    $("#syarikat_poskod_baru").val("");
                    $("#syarikat_bandarBaru").empty();
                    $("#syarikat_negeriBaru").val("");
                    
                    //sewa beli
                    //msgPopup("this.fileLocSewaBeliPremis:"+this.fileLocSewaBeliPremis);
                    $("#is_premise_ready").val(0);
                    var uploadnameSB = this.fileNameSewaBeliPremis;
                    $("#fileLocSewaBeliPremis").val(this.fileLocSewaBeliPremis);
                    $("#fileNameSewaBeliPremis").val(this.fileNameSewaBeliPremis);
                    if (uploadnameSB != null && uploadnameSB != "") {
                        document.getElementById('divdownloadSewaBeli').style.display = 'block';
                        $("#is_premise_ready").val(1);
                    }
                    else {
                        document.getElementById('divdownloadSewaBeli').style.display = 'none';
                    }
                    //pelan lantai
                    var uploadnamePL = this.fileNamepelanLantai;
                    $("#fileLocpelanLantai").val(this.fileLocpelanLantai);
                    $("#fileNamepelanLantai").val(this.fileNamepelanLantai);
                    if (uploadnamePL != null && uploadnamePL != "") {
                        document.getElementById('divdownloadPelanLantai').style.display = 'block';
                        $("#is_premise_ready").val(1);
                    }
                    else {
                        document.getElementById('divdownloadPelanLantai').style.display = 'none';
                    }
                    //gambar premis
                    //msgPopup("this.fileLocGambarPermis:"+this.fileLocGambarPermis);
                    var uploadnamePic = this.fileNameGambarPermis;
                    $("#FilelocGambarPermis").val(this.fileLocGambarPermis);
                    $("#fileNameGambarPermis").val(this.fileNameGambarPermis);
                    
                    if (uploadnamePic != null && uploadnamePic != "") {
                        document.getElementById('divdownloadGambarPermis').style.display = 'block';
                        $("#is_premise_ready").val(1);
                    }
                    else {
                        document.getElementById('divdownloadGambarPermis').style.display = 'none';
                    }


                    //$(datas.branch_updated).each(function() {   
                    $.each(this.branch_updated, function (key, value) {              
                            $("#syarikat_AlamatBerdaftarBaru").val(value.new_branch_addr_1);
                            $("#syarikat_AlamatBerdaftar1Baru").val(value.new_branch_addr_2);
                            $("#syarikat_AlamatBerdaftar2Baru").val(value.new_branch_addr_3);
                            $("#syarikat_poskod_baru").val(value.new_branch_postcode);
                            loadTown(value.new_branch_postcode,"syarikat_bandarBaru","New");  

                            });

                    //msgPopup("premise:"+document.getElementById("is_premise_ready").value + " add:"+document.getElementById("syarikat_AlamatBerdaftarBaru").value);                    
                    if (document.getElementById("is_premise_ready").value == 1 
                        && document.getElementById("syarikat_AlamatBerdaftarBaru").value.length > 0
                        && $("#AlamatSyarikatCaw").is(':checked')) {
                        
                        chkPremisDocTrue.checked = true;
                        chkPremisDocFalse.checked = false;
                        document.getElementById('DivPremisDoc').style.display = 'block';
                    }
                    else {
                        chkPremisDocTrue.checked = false;
                        chkPremisDocFalse.checked = true;
                        document.getElementById('DivPremisDoc').style.display = 'none';
                    }
                    

                });

                
            },
            error: function (ex) {
                var r = jQuery.parseJSON(response.responseText);
                errorPopup("Message: " + r.Message);
                errorPopup("StackTrace: " + r.StackTrace);
                errorPopup("ExceptionType: " + r.ExceptionType);
            }
            });

        }

        //added by samsuri (CR#57258)  on 10 Jan 2024
        function loadHQ(){
            
            var url = "/Tobtab/ajaxOrganizationUpdate";

            var AppID = $("#AppID").val();

            $.ajax({
                type: 'POST',
                url: url, // Url.Action()
                data: {
                    AppID: AppID,
                    module: "tobtab",
                },
                "success": function (data) {

                    if (data != null) {
                        for (var x = 0; x < data.length; x++) {
                            //OLD
                            
                            $("#syarikat_AlamatBerdaftar").val(data[x].old_addr_1);
                            $("#syarikat_AlamatBerdaftar1").val(data[x].old_addr_2);
                            $("#syarikat_AlamatBerdaftar2").val(data[x].old_addr_3);

                            $("#syarikat_poskod").val(data[x].old_postcode);
                            $("#syarikat_bandar").val(data[x].old_city);
                            $("#Daerah_idx").val(data[x].old_city_idx); //added by samsuri (CR#57259)  on 2 Jan 2024
                            $("#syarikat_negeri").val(data[x].old_state);
                            
                            //NEW
                            $("#syarikat_AlamatBerdaftarBaru").val(data[x].new_addr_1);
                            $("#syarikat_AlamatBerdaftar1Baru").val(data[x].new_addr_2);
                            $("#syarikat_AlamatBerdaftar2Baru").val(data[x].new_addr_3);

                            $("#syarikat_poskod_baru").val(data[x].new_postcode);
                            $("#syarikat_bandarBaru").val(data[x].new_city);
                            $("#syarikat_negeriBaru").val(data[x].new_state);

                            var postcode2 = data[x].new_postcode;
                            if (postcode2 != null) {
                                loadTown(postcode2, 'syarikat_bandarBaru', 'New');
                            }
                            else{
                                $("#syarikat_bandarBaru").empty();
                            }

                            $("#is_premise_ready").val(0);

                            var uploadnameSB = data[x].fileNameSewaBeliPremis;
                            $("#fileLocSewaBeliPremis").val(data[x].fileLocSewaBeliPremis);
                            $("#fileNameSewaBeliPremis").val(data[x].fileNameSewaBeliPremis);
                            if (uploadnameSB != null && uploadnameSB != "") {
                                document.getElementById('divdownloadSewaBeli').style.display = 'block';
                                $("#is_premise_ready").val(1);
                            }
                            else {
                                document.getElementById('divdownloadSewaBeli').style.display = 'none';
                            }

                            var uploadnamePL = data[x].fileNamepelanLantai;
                            $("#fileLocpelanLantai").val(data[x].fileLocpelanLantai);
                            $("#fileNamepelanLantai").val(data[x].fileNamepelanLantai);
                            if (uploadnamePL != null && uploadnamePL != "") {
                                document.getElementById('divdownloadPelanLantai').style.display = 'block';
                                $("#is_premise_ready").val(1);
                            }
                            else {
                                document.getElementById('divdownloadPelanLantai').style.display = 'none';
                            }

                            var uploadnamePic = data[x].fileNameGambarPermis;
                            $("#FilelocGambarPermis").val(data[x].FilelocGambarPermis);
                            $("#fileNameGambarPermis").val(data[x].fileNameGambarPermis);                            
                            if (uploadnamePic != null && uploadnamePic != "") {
                                document.getElementById('divdownloadGambarPermis').style.display = 'block';
                                $("#is_premise_ready").val(1);
                            }
                            else {
                                document.getElementById('divdownloadGambarPermis').style.display = 'none';
                            }

                            //msgPopup("HQ:"+document.getElementById("syarikat_AlamatBerdaftarBaru").value);
                            if (document.getElementById("is_premise_ready").value == 1 
                                && document.getElementById("syarikat_AlamatBerdaftarBaru").value.length > 0
                                && $("#AlamatSyarikatHQ").is(':checked')) {
                                //msgPopup("true");
                                chkPremisDocTrue.checked = true;
                                chkPremisDocFalse.checked = false;
                                document.getElementById('DivPremisDoc').style.display = 'block';
                            }
                            else {
                                chkPremisDocTrue.checked = false;
                                chkPremisDocFalse.checked = true;
                                document.getElementById('DivPremisDoc').style.display = 'none';
                            }

                        }
                    }
                }

            });

            chkAlamatSyarikat.checked = true;
            toggleTukarStatus();

        }

        //added by samsuri (CR#57258)  on 10 jan 2024
        function loadTownOld(postcodeval, cityid,status) {

            var postcode = postcodeval.value;
            if (typeof postcode != "undefined") {
                postcodeval = postcodeval.value;
             //   msgPopup(postcode);
            }

        $.ajax({
            url: '@Url.Action("LoadDDLTownByPostcode", "Administration")',
            dataType: "json",
            type: "POST",
            contentType: 'application/json; charset=utf-8',
            data: '{"searchString":"' + postcodeval + '"}',
            success: function (data) {
                //var items = '';
                          
                $.each(data, function (i, item) {
                    var totalData = data.length;

                    if (totalData == 1) {
                        $('#' + cityid).val(item.town_name);                        
                        townID = item.town_code;                        
                    }                    

                });

                if (status == "old") {
                    loadStateOld(townID, "syarikat_negeri");
                } 
            },
            error: function (ex) {
                var r = jQuery.parseJSON(response.responseText);
                errorPopup("Message: " + r.Message);
                errorPopup("StackTrace: " + r.StackTrace);
                errorPopup("ExceptionType: " + r.ExceptionType);
            }
        });
    }

        //added by samsuri (CR#57258)  on 10 jan 2024
        function loadStateOld(townID, stateid) {        

            //errorPopup(townID);
        $.ajax({
            url: '@Url.Action("LoadDDLStateByTown", "Administration")',
            dataType: "json",
            type: "POST",
            contentType: 'application/json; charset=utf-8',
            data: '{"searchString":"' + townID + '"}',
            success: function (data) {

                $.each(data, function (i, item) {

                    $('#' + stateid).val(item.state_name);                   

                });
            },
            error: function (ex) {
                var r = jQuery.parseJSON(response.responseText);
                errorPopup("Message: " + r.Message);
                errorPopup("StackTrace: " + r.StackTrace);
                errorPopup("ExceptionType: " + r.ExceptionType);
            }
        });

        }

        function ShareHolderStatusBaru() {
            showLoader();
            var url = "/MM2H/ajaxChangeStatusShareHolderBaru"; // reuse mm2h

            var table3 = $('#tblPemegangSahamBaru').DataTable();
            table3.destroy();
            var AppID = $("#AppID").val();

            $("#tblPemegangSahamBaru tbody tr").remove();

            $.ajax({

                url: url,
                /*  dataType: "json",*/
                type: "POST",
                /*    contentType: 'application/json; charset=utf-8',*/
                data: { AppID: AppID, },
                success: function (data) {

                    var tr;
                    var rowCount = 1;

                    var totalShare = 0;
                    var totalPercentage = 0;
                    var totalAll = 0;
                    for (var j = 0; j < data.length; j++) {
                        totalAll = totalAll + data[j].shareholder_number_of_shares;
                    }

                    for (var i = 0; i < data.length; i++) {

                        var type_ = data[i].shareholder_type;
                        var percentage = ((data[i].shareholder_number_of_shares / totalAll) * 100).toFixed(2);

                        tr = tr + "<tr id=" + i + ">";
                        tr = tr + "<td>" + '<a href="javascript:void(0);" style="font-weight:bold" class="UpdatePemegangSaham"><font color="blue">' + data[i].shareholder_name + '</font></a>' + "</td>";
                        /* tr = tr + "<td>" + '<a href="javascript:void(0);" class="DetailPemegangSahamModal"  style="font-weight:bold"><font  color="blue">' + data[i].shareholder_name + '</font></a>' + "</td>";*/
                        tr = tr + "<td>" + data[i].shareholder_identifier + "</td>";
                        tr = tr + "<td>" + data[i].shareholder_number_of_shares.toLocaleString("en-US") + "</td>";
                        tr = tr + "<td>" + percentage + "</td>";
                        tr = tr + "<td>" + data[i].shareholder_status + "</td>";
                        if (data[i].shareholder_status == "ASAL") {
                            tr = tr + "<td>" + '<a href="javascript:void(0);" ></a>' + "</td>";
                        }
                        else {
                            tr = tr + "<td>" + '<a href="javascript:void(0);" class="remove"><i class="fa fa-trash" style="width:10%"></i></a>' + "</td>";
                        }
                        tr = tr + "<td hidden><input hidden name=identifier type=text id=identifier_" + i + " value=" + data[i].shareholder_identifier + " /></td>";
                        tr = tr + "<td hidden><input  name=type type=text id=typeShareholder_" + i + " value=" + type_ + "></td>";
                        tr = tr + "<td hidden><input  name=status type=text id=status_" + i + " value=" + data[i].shareholder_status+ "></td>";
                        tr = tr + "<td hidden><input  name=person type=text id=personIDX_" + i + " value=" + data[i].person_upd_idx + "></td>";
                        tr = tr + "<td hidden><input  name=org type=text id=orgIDX_" + i + " value=" + data[i].organization_upd_idx + "></td>";
                        tr = tr + "<td hidden><input  name=shareholder type=text id=shareholderIDX_" + i + " value=" + data[i].org_shareholder_upd_idx + "></td>";
                        tr = tr + "</tr>";
                        totalShare = totalShare + data[i].shareholder_number_of_shares;

                        totalPercentage = parseFloat(totalPercentage) + parseFloat(percentage);

                        /*   rowCount++;*/
                    }
                       tr = tr + "<tr>";
                       tr = tr + "<td>Jumlah</td>";
                       tr = tr + "<td></td>";

                    tr = tr + "<td>" + totalShare.toLocaleString("en-US") + "</td>";
                    tr = tr + "<td>" + parseFloat(totalPercentage).toFixed(2) + "</td>";
                    tr = tr + "<td></td>";
                    tr = tr + "<td></td>";
                       tr = tr + "</tr>";



                    var $table = $('#tblPemegangSahamBaru').append(tr);
                    hideLoader();
                },
                error: function (xhr) {

                }
            });
        }

        function toggleTukarStatus() {
            if ($("#chkNamaSyarikat").is(':checked')) {

                document.getElementById('NamaSyarikat').style.display = 'block';
            }
            else {
                document.getElementById('NamaSyarikat').style.display = 'none';
            }
            if ($("#chkAlamatSyarikat").is(':checked')) {
                document.getElementById('AlamatSyarikat').style.display = 'block';

                //added by samsuri (CR#57259)  on 27 Dec 2023
                if ($("#AlamatSyarikatHQ").is(':checked')) {
                    document.getElementById('CawanganList').disabled = true;                                    
                }

            }
            else {
                document.getElementById('AlamatSyarikat').style.display = 'none';
            }
            if ($("#chkModalBerbayar").is(':checked')) {
                document.getElementById('ModelBerbayar').style.display = 'block';
            }
            else {
                document.getElementById('ModelBerbayar').style.display = 'none';
            }
            if ($("#chkPerubahanPemegangSaham").is(':checked')) {
                document.getElementById('PemegangSaham').style.display = 'block';
            }
            else {
                document.getElementById('PemegangSaham').style.display = 'none';
            }
            if ($("#chkAhliLembagaPengarah").is(':checked')) {
                document.getElementById('Pengarah').style.display = 'block';
            }
            else {
                document.getElementById('Pengarah').style.display = 'none';
            }
        }

        function DirectorAsal() {

            var url = "/Tobtab/ajaxDirector";

            var table1 = $('#tblDirectorAsal').DataTable();
            table1.destroy();

            var OrgID = $("#OrgID").val();

            $("#tblDirectorAsal tbody tr").remove();

            $.ajax({

                url: url,
                /*  dataType: "json",*/
                type: "POST",
                /*    contentType: 'application/json; charset=utf-8',*/
                data: { OrganizationID: OrgID, },
                success: function (data) {

                    var tr;
                    var rowCount = 1;
                    console.log(data);

                    for (var i = 0; i < data.length; i++) {
                        tr = tr + "<tr id=" + i + ">";
                        tr = tr + "<td>" + rowCount + "</td>";
                        tr = tr + "<td>" + '<a href="javascript:void(0);" class="AddPengarah" style="font-weight:bold"><font  color="blue">' + data[i].person_name + '</font></a>' + "</td>";
                        tr = tr + "<td>" + data[i].person_identifier + "</td>";

                        tr = tr + "<td hidden><input id=pengarah_identifier_" + i + " value=" + data[i].organization_director_idx + " /></td>";
                        tr = tr + "</tr>";
                        rowCount++;


                    }

                    var $table = $('#tblDirectorAsal').append(tr);

                },
                error: function (xhr) {

                }
            });
        }

        function DirectorBaru() {

            var url = "/MM2H/ajaxChangeStatusDirectorBaru"; // reuse mm2h

            var AppID = $("#AppID").val();

            var table1 = $('#tblDirectorBaru').DataTable();

            table1.destroy();

            $("#tblDirectorBaru tbody tr").remove();
            $.ajax({

                url: url,
                /*  dataType: "json",*/
                type: "POST",
                /*    contentType: 'application/json; charset=utf-8',*/
                data: { AppID: AppID, },
                success: function (data) {

                    var tr;
                    var rowCount = 1;
                    console.log(data);

                    for (var i = 0; i < data.length; i++) {
                        tr = tr + "<tr id=" + i + ">";
                        tr = tr + "<td>" + rowCount + "</td>";
                        tr = tr + "<td>" + '<a href="javascript:void(0);" class="AddPengarah" style="font-weight:bold"><font  color="blue">' + data[i].director_name + '</font></a>' + "</td>";
                        tr = tr + "<td>" + data[i].director_identifier + "</td>";
                        tr = tr + "<td>" + data[i].person_status_rec + "</td>";
                        if (data[i].person_status_rec != "ASAL") {
                            tr = tr + "<td>" + '<a href="javascript:void(0);" class="remove"><i class="fa fa-trash"></i></a>' + "</td>";
                        }
                        else {
                            tr = tr + "<td>" + '<a href="javascript:void(0);"></a>' + "</td>";
                        }

                        tr = tr + "<td hidden><input id=personDirectorIDX_" + i + " value=" + data[i].person_upd_idx + " /></td>";
                        tr = tr + "<td hidden><input id=directorIDX_" + i + " value=" + data[i].org_director_upd_idx + " /></td>";
                        tr = tr + "<td hidden><input id=status_director_" + i + " value=" + data[i].person_status_rec + " /></td>";
                        tr = tr + "</tr>";
                        rowCount++;
                    }

                    var $table = $('#tblDirectorBaru').append(tr);

                },
                error: function (xhr) {

                }
            });
        }

        function loadTown(postcodeval, cityid,status) {

            var postcode = postcodeval.value;
            if (typeof postcode != "undefined") {
                postcodeval = postcodeval.value;
             //   msgPopup(postcode);
            }

        $.ajax({
            url: '@Url.Action("LoadDDLTownByPostcode", "Administration")',
            dataType: "json",
            type: "POST",
            contentType: 'application/json; charset=utf-8',
            data: '{"searchString":"' + postcodeval + '"}',
            success: function (data) {
                //var items = '';
                $('#' + cityid).empty();
                var rows = "<option value=''>Sila Pilih</option>";
                $('#' + cityid).append(rows);
                var townID ="" ;
                $.each(data, function (i, item) {
                    var totalData = data.length;

                    if (totalData == 1) {
                        var rows = "<option selected value = '" + item.town_idx + "' >" + item.town_name + " - " + item.district_name + "</option>";
                        townID = item.town_code;

                    } else {
                        var rows = "<option value = '" + item.town_idx + "' >" + item.town_name + " - " + item.district_name + "</option>";
                    }

                    $('#' + cityid).append(rows);

                });

                if (status == "company") {
                    loadState(townID, "IDPSNegeriSyarikat");

                } else if (status == "director") {
                    loadState(townID, "IDNegeriPengarah");
                } else if (status == "New") {
                    loadState(townID, "syarikat_negeriBaru");
                }
                else {
                    loadState(townID, "IDPSNegeri");
                }
            },
            error: function (ex) {
                var r = jQuery.parseJSON(response.responseText);
                msgPopup("Message: " + r.Message);
                msgPopup("StackTrace: " + r.StackTrace);
                msgPopup("ExceptionType: " + r.ExceptionType);
            }
        });
    }

        function loadState(townID, stateid) {


        $.ajax({
            url: '@Url.Action("LoadDDLStateByTown", "Administration")',
            dataType: "json",
            type: "POST",
            contentType: 'application/json; charset=utf-8',
            data: '{"searchString":"' + townID + '"}',
            success: function (data) {

                $.each(data, function (i, item) {

                    $('#' + stateid).val(item.state_name);

                    if (stateid == "syarikat_negeriBaru") {
                        $('#Negeri_idx').val(item.state_idx);
                    }
                    else if (stateid == "IDPSNegeriSyarikat") {
                        $('#IDPSNegeriSyarikat_idx').val(item.state_idx);
                    }
                    else if (stateid == "syarikat_negeriBaru") {
                        $('#IDPSNegeri_idx').val(item.state_idx);
                     }

                });
            },
            error: function (ex) {
                var r = jQuery.parseJSON(response.responseText);
                msgPopup("Message: " + r.Message);
                msgPopup("StackTrace: " + r.StackTrace);
                msgPopup("ExceptionType: " + r.ExceptionType);
            }
        });

        }

        function changeAge(dateString,type) {

        var birthday = +new Date(dateString.value);

        var age = ((Date.now() - birthday) / (31557600000));

            var iAge = parseInt(age);
            if (type == 'director') {
                $("#IDUmurPengarah").val(iAge);
            }
            else {
                $("#IDPSUmur").val(iAge);
            }
        }

        function disabledDirector() {
            $("#rbGender1").prop('disabled', true);
            $("#rbGender2").prop('disabled', true);
            $('#IDNamaPengarah').prop('readonly', true);
            $('#IDNoKPPengarah').prop('readonly', true);
            $('#IDTarikhLahirPengarah').prop('readonly', true);
            $('#IDPSAlamatPengarah').prop('readonly', true);
            $("#IDPSAlamat1Pengarah").prop('readonly', true);
            $("#IDAlamat2Pengarah").prop('readonly', true);
            $("#IDHPPengarah").prop('readonly', true);
            $("#IDPhonePengarah").prop('readonly', true);
            $("#IDPoskodPengarah").prop('readonly', true);
            //$("#IDBandarPengarah").prop('disabled', true);
            $("#genderlistDirector_").prop('disabled', true);
            $("#CountryList_").prop('disabled', true);
            $("#file_MyKadDirector").prop('disabled', true);
            $("#MyPengajianDirector").prop('disabled', true);

            document.getElementById('IDNamaPengarah').style.backgroundColor = "";
            document.getElementById('IDNoKPPengarah').style.backgroundColor = "";
            document.getElementById('IDTarikhLahirPengarah').style.backgroundColor = "";
            document.getElementById('IDPSAlamatPengarah').style.backgroundColor = "";
            document.getElementById('IDPSAlamat1Pengarah').style.backgroundColor = "";
            document.getElementById('IDAlamat2Pengarah').style.backgroundColor = "";
            document.getElementById('IDHPPengarah').style.backgroundColor = "";
            document.getElementById('IDPhonePengarah').style.backgroundColor = "";
            document.getElementById('IDPoskodPengarah').style.backgroundColor = "";
            document.getElementById('genderlistDirector_').style.backgroundColor = "";
            document.getElementById('CountryList_').style.backgroundColor = "";

            /* $("#IDBandarPengarah").prop('readonly', true);*/
            //$("#file_MyKadPengarah").prop('disabled', true);
            //$("#file_PassportPengarah").prop('disabled', true);
            $("#IDPoskodPengarah").prop('readonly', true);
            document.getElementById('bknNamaPemegangShare').style.display = 'none';
            document.getElementById('NamaPemegangShare').style.display = 'block';
        }

        function enabledDirector() {
            $("#rbGender1").prop('disabled', false);
            $("#rbGender2").prop('disabled', false);
            $('#IDNamaPengarah').prop('readonly', false);
            $('#IDNoKPPengarah').prop('readonly', false);
            $('#IDTarikhLahirPengarah').prop('readonly', false);
            $('#IDPSAlamatPengarah').prop('readonly', false);
            $("#IDPSAlamat1Pengarah").prop('readonly', false);
            $("#IDAlamat2Pengarah").prop('readonly', false);
            $("#IDHPPengarah").prop('readonly', false);
            $("#IDPhonePengarah").prop('readonly', false);
            $("#IDPoskodPengarah").prop('readonly', false);
            //$("#IDBandarPengarah").prop('disabled', false);
            $("#genderlistDirector_").prop('disabled', false);
            $("#CountryList_").prop('disabled', false);
            $("#file_MyKadDirector").prop('disabled', false);
            $("#MyPengajianDirector").prop('disabled', false);

            document.getElementById('IDNamaPengarah').style.backgroundColor = "";
            document.getElementById('IDNoKPPengarah').style.backgroundColor = "";
            document.getElementById('IDTarikhLahirPengarah').style.backgroundColor = "";
            document.getElementById('IDPSAlamatPengarah').style.backgroundColor = "";
            document.getElementById('IDPSAlamat1Pengarah').style.backgroundColor = "";
            document.getElementById('IDAlamat2Pengarah').style.backgroundColor = "";
            document.getElementById('IDHPPengarah').style.backgroundColor = "";
            document.getElementById('IDPhonePengarah').style.backgroundColor = "";
            document.getElementById('IDPoskodPengarah').style.backgroundColor = "";
            document.getElementById('genderlistDirector_').style.backgroundColor = "";
            document.getElementById('CountryList_').style.backgroundColor = "";

            /* $("#IDBandarPengarah").prop('readonly', true);*/
            //$("#file_MyKadPengarah").prop('disabled', true);
            //$("#file_PassportPengarah").prop('disabled', true);
           /* $("#IDPoskodPengarah").prop('readonly', true);*/
            document.getElementById('bknNamaPemegangShare').style.display = 'none';
            document.getElementById('NamaPemegangShare').style.display = 'block';
        }


    function disabledShareholderPerson(type_) {
        document.getElementById('btnAddPerson').style.display = 'none';
        $('#StatusPemegangSahamPerson_').prop('disabled', true);
        $("#StatusPemegangSahamOrganization_").prop('disabled', true);
        $("#file_MyKad").prop('disabled', true);
        $("#genderlist_").prop('disabled', true);
        $("#religionlist_").prop('disabled', true);
        $("#allCountries").prop('disabled', true);
        $("#MalaysialistSH_").prop('disabled', true);
        $("#AllcountrylistSH_").prop('disabled', true);
        //$("#IDPSBandar").prop('disabled', true);

        $('#IDPSNama').prop('disabled', true);

        $('#IDPSHpNo').prop('disabled', true);
        $('#IDPSTarikhLahir').prop('disabled', true);
        $('#IDPSAlamat').prop('disabled', true);
        $('#IDPSAlamat1').prop('disabled', true);
        $('#IDPSAlamat2').prop('disabled', true);
        $('#IDPSPoskod').prop('disabled', true);
        $('#IDPSUmur').prop('disabled', true);

        $('#IDPSNamaSyarikat').prop('disabled', true);
        $('#IDPSNoKP').prop('disabled', true);

        $('#IDPSHpNoSyarikat').prop('disabled', true);
        $('#IDPSNoDaftarSyarikat').prop('disabled', true);
        $('#IDTahunDaftarSyarikat').prop('disabled', true);
        $('#IDPSAlamatSyarikat1').prop('disabled', true);
        $('#IDPSAlamatSyarikat2').prop('disabled', true);
        $('#IDPSAlamatSyarikat3').prop('disabled', true);
        $('#IDPSPoskodSyarikat').prop('disabled', true);
        //$('#IDPSBandarSyarikat').prop('disabled', true);

        $('#IDPSSaham').prop('disabled', true);
        $('#IDNilaiSaham').prop('disabled', true);
        $('#MalaysiaList_').prop('disabled', true);
        $('#AseanList_').prop('disabled', true);
        $('#NonAseanlist_').prop('disabled', true);


        if (type_ != "Person") {
            document.getElementById('pemegangsaham_person').style.display = 'none';
            document.getElementById('pemegangsaham_organization').style.display = 'block';
        }
        else {
            document.getElementById('pemegangsaham_person').style.display = 'block';
            document.getElementById('pemegangsaham_organization').style.display = 'none';
        }
        document.getElementById('pemegangsaham_all').style.display = 'none';
        document.getElementById('divMykad').style.display = 'none';

        // document.getElementById('divJustifyOrg').style.display = 'none';
        document.getElementById('divOtherOrg').style.display = 'none';

        document.getElementById('divOthersPerson').style.display = 'none';
        document.getElementById('divOthersPerson1').style.display = 'none';
        document.getElementById('divJustifyPerson').style.display = 'none';

        //document.getElementById('JustifikasiPemegangSahamSHOrg').style.display = 'none';
        //document.getElementById('JustifikasiPemegangSahamOtherOrg').style.display = 'none';


        document.getElementById('StatusPemegangSahamPerson_').style.backgroundColor = "";
        document.getElementById('StatusPemegangSahamOrganization_').style.backgroundColor = "";
        document.getElementById('genderlist_').style.backgroundColor = "";
        document.getElementById('religionlist_').style.backgroundColor = "";
        document.getElementById('MalaysialistSH_').style.backgroundColor = "";
        //document.getElementById('IDPSBandar').style.backgroundColor = "";
        document.getElementById('IDPSHpNo').style.backgroundColor = "";
        document.getElementById('IDPSNama').style.backgroundColor = "";
        document.getElementById('IDPSTarikhLahir').style.backgroundColor = "";
        document.getElementById('IDPSAlamat').style.backgroundColor = "";
        document.getElementById('IDPSAlamat1').style.backgroundColor = "";
        document.getElementById('IDPSAlamat2').style.backgroundColor = "";
        document.getElementById('IDPSPoskod').style.backgroundColor = "";
        document.getElementById('IDPSUmur').style.backgroundColor = "";
        document.getElementById('IDPSNamaSyarikat').style.backgroundColor = "";
        document.getElementById('IDPSNoKP').style.backgroundColor = "";
        document.getElementById('IDPSHpNoSyarikat').style.backgroundColor = "";
        document.getElementById('IDPSNoDaftarSyarikat').style.backgroundColor = "";
        document.getElementById('IDTahunDaftarSyarikat').style.backgroundColor = "";
        document.getElementById('IDPSAlamatSyarikat1').style.backgroundColor = "";
        document.getElementById('IDPSAlamatSyarikat2').style.backgroundColor = "";
        document.getElementById('IDPSAlamatSyarikat3').style.backgroundColor = "";
        document.getElementById('IDPSPoskodSyarikat').style.backgroundColor = "";
        //document.getElementById('IDPSBandarSyarikat').style.backgroundColor = "";
        document.getElementById('IDPSSaham').style.backgroundColor = "";
        document.getElementById('IDNilaiSaham').style.backgroundColor = "";
        document.getElementById('IDPSNegeri').style.backgroundColor = "";

        //document.getElementById('AseanList_').style.backgroundColor = "";
        //document.getElementById('NonAseanlist_').style.backgroundColor = "";
    }

    function enabledShareholderPerson() {

        $('#StatusPemegangSahamPerson_').prop('disabled', false);
        $("#StatusPemegangSahamOrganization_").prop('disabled', false);
        $("#file_MyKad").prop('disabled', false);
        $("#genderlist_").prop('disabled', false);
        $("#religionlist_").prop('disabled', false);
        $("#MalaysialistSH_").prop('disabled', false);
        $("#AllcountrylistSH_").prop('disabled', false);
        //$("#IDPSBandar").prop('disabled', false);

        $('#IDPSNama').prop('disabled', false);

        $('#IDPSHpNo').prop('disabled', false);
        $('#IDPSTarikhLahir').prop('disabled', false);
        $('#IDPSAlamat').prop('disabled', false);
        $('#IDPSAlamat1').prop('disabled', false);
        $('#IDPSAlamat2').prop('disabled', false);
        $('#IDPSPoskod').prop('disabled', false);
        $('#IDPSUmur').prop('disabled', false);

        $('#IDPSNamaSyarikat').prop('disabled', false);
        $('#IDPSNoKP').prop('disabled', false);

        $('#IDPSHpNoSyarikat').prop('disabled', false);
        $('#IDPSNoDaftarSyarikat').prop('disabled', false);
        $('#IDTahunDaftarSyarikat').prop('disabled', false);
        $('#IDPSAlamatSyarikat1').prop('disabled', false);
        $('#IDPSAlamatSyarikat2').prop('disabled', false);
        $('#IDPSAlamatSyarikat3').prop('disabled', false);
        $('#IDPSPoskodSyarikat').prop('disabled', false);
        //$('#IDPSBandarSyarikat').prop('disabled', false);

        $('#IDPSSaham').prop('disabled', false);
        $('#IDNilaiSaham').prop('disabled', false);
        $('#MalaysiaList_').prop('disabled', false);
        $('#AseanList_').prop('disabled', false);
        $('#NonAseanlist_').prop('disabled', false);


        document.getElementById('divMykad').style.display = 'block';
        //if (type_ != "Person") {
        //    document.getElementById('pemegangsaham_person').style.display = 'none';
        //    document.getElementById('pemegangsaham_organization').style.display = 'block';
        //}
        //else {
        //    document.getElementById('pemegangsaham_person').style.display = 'block';
        //    document.getElementById('pemegangsaham_organization').style.display = 'none';
        //}
        //document.getElementById('pemegangsaham_all').style.display = 'none';

        //document.getElementById('divOthersSyarikat').style.display = 'none';
        //document.getElementById('divJustifySyarikat').style.display = 'none';

    }

    function downloadFile(FileName) {

        var locationHost = window.location.protocol + "//" + window.location.host;

        if (FileName == "SalinanAsal") {
            var fileName = $("#fileNamesalinanAsalLesen").val();
            var Locationfile = $("#fileLocsalinanAsalLesen").val();
        } else if (FileName == "SewaBeli") {
            var fileName = $("#fileNameSewaBeliPremis").val();
            var Locationfile = $("#fileLocSewaBeliPremis").val();
        } else if (FileName == "PelanLantai") {
            var fileName = $("#fileNamepelanLantai").val();
            var Locationfile = $("#fileLocpelanLantai").val();
        } else if (FileName == "MyKad_Director") {
            var fileName = $("#fileNameDirector").val();
            var Locationfile = $("#locationFileDirector").val();
        } else if (FileName == "Pas_Penggajian") {
            var fileName = $("#fileNamePasDirector").val();
            var Locationfile = $("#locationFilePasDirector").val();
        } else if (FileName == "MyKad_ShareHolder") {
            var fileName = $("#fileName").val();
            var Locationfile = $("#locationFile").val();
        } else if (FileName == "PerakuanPendaftar") {
            var fileName = $("#fileNameSSM").val();
            var Locationfile = $("#fileLocSSM").val();
        } else if (FileName == "file_JustPerson") {
            var fileName = $("#fileNameJust").val();
            var Locationfile = $("#locationFileJust").val();
        }
        else if (FileName == "file_JustOrg") {
            var fileName = $("#fileNameJustOrg").val();
            var Locationfile = $("#locationFileJustOrg").val();
        }
        else if (FileName == "file_JustDirector") {
            var fileName = $("#fileNameJustDirector").val();
            var Locationfile = $("#locationFileJustDirector").val();
        }
        else if (FileName == "file_GambarPermis") {
            var fileName = $("#fileNameGambarPermis").val();
            var Locationfile = $("#FilelocGambarPermis").val();

        }


        let url = locationHost + Locationfile;

        $.ajax({
            url: url,
            method: 'GET',
            xhrFields: {
                responseType: 'blob'
            },
            success: function (data) {
                var a = document.createElement('a');
                var url = window.URL.createObjectURL(data);
                a.href = url;
                a.download = fileName;
                document.body.append(a);
                a.click();
                a.remove();
                window.URL.revokeObjectURL(url);
            }
        });
    }

        function AllowNumbersOnly(e) {
            var charCode = (e.which) ? e.which : e.keyCode;
            if (charCode == 46) {

            }
            else if (charCode < 48 || charCode > 57) {
                e.preventDefault();
            }
        };

        function checkDirectorID(identifier) {
            //console.log(identifier.value);
            url = "/MM2H/findDirectorDetail";
            $.ajax({
                url: url,
                type: "POST",
                data: {
                    identifier: identifier.value,
                },
                success: function (data) {
                    if (data != "false")
                        for (var i = 0; i < data.length; i++) {
                            errorPopup("Pengarah telah wujud");
                            $('#IDNamaPengarah').val("");
                            $('#IDNoKPPengarah').val("");
                            $('#IDTarikhLahirPengarah').val("");
                            $('#IDPSAlamatPengarah').val("");
                            $("#IDUmurPengarah").val("");
                            $("#IDPSAlamat1Pengarah").val("");
                            $("#CountryList_").val("");
                            $("#CountryList_").change();
                            $("#IDAlamat2Pengarah").val("");
                            $("#IDHPPengarah").val("");
                            $("#IDPhonePengarah").val("");
                            //$("#IDTelPengarah").val("");

                            $("#genderlistDirector_").val("");
                            $("#IDPoskodPengarah").val("");
                        }
                }
            });
        }

        function confirmHapusShareholder(id) {

            const myArray = id.split(",");
            var idx = myArray[0];
            var row = parseInt(myArray[1]) + 1;
                showLoader();

                var url = "/MM2H/ajaxChangeStatusShareHolderDelete"; // reuse mm2h

                $.ajax({
                    type: 'POST',
                    url: url, // Url.Action()
                    data: {
                        idx: idx,

                    },
                    "success": function (data) {
                        msgPopup("Berjaya!");
                        $('#okBtn').unbind("click");
                        $("#okBtn").click(function () {
                            closePopup();

                        });
                        document.getElementById("tblPemegangSahamBaru").deleteRow(row);
                        //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);
                        hideLoader();

                    }

                });
        }

        function confirmHapusDirector(id) {

        const myArray = id.split(",");
        var idx = myArray[0];
        var row = parseInt(myArray[1]) + 1;
        showLoader();

        var url = "/MM2H/ajaxChangeStatusDirectorDelete";

        $.ajax({
            type: 'POST',
            url: url, // Url.Action()
            data: {
                idx: idx,

            },
            "success": function (data) {
                msgPopup("Berjaya!");
                $('#okBtn').unbind("click");
                $("#okBtn").click(function () {
                    closePopup();

                });
                document.getElementById("tblDirectorBaru").deleteRow(row);
                //  addSubCriteria(data, Criteria_title_idx, Criteria_sub_title_idx);
                hideLoader();

            }

        });
    }

        function cancelHapus() {

            closePopup();
        }


        $(".custom-file-input").on("change", function () {
            var fileName = $(this).val().split("\\").pop();
            $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
        });


    </script>

    <script type="text/javascript">

        function enableEditPengarah() {
            $("#PengarahDiv").prop("hidden", false);
            $("#rbGender1").prop('disabled', false);
            $("#rbGender2").prop('disabled', false);
            $('#IDNamaPengarah').prop('readonly', false);
            $('#IDNoKPPengarah').prop('readonly', false);
            $('#IDTarikhLahirPengarah').prop('readonly', false);
            $('#IDPSAlamatPengarah').prop('readonly', false);
            $("#IDPSAlamat1Pengarah").prop('readonly', false);
            $("#WorldPengarah_").prop('disabled', false);
            $("#IDAlamat2Pengarah").prop('readonly', false);
            $("#IDHPPengarah").prop('readonly', false);
            $("#IDPhonePengarah").prop('readonly', false);
            $("#IDTelPengarah").prop('readonly', false);
            $("#genderlistDirector_").prop('disabled', false);
            $("#CountryList_").prop('disabled', false);
            $("#CountryList_").change();
            $("#IDPoskodPengarah").prop('readonly', false);
            $("#file_MyKadDirector").prop('disabled', false);
            document.getElementById('downloadDirectorMykad').style.display = 'block';
            //document.getElementById('passpengajianDirector').style.display = 'block';
            $("#btnPengarahSave").prop("hidden", false);
        }

        function disableOtherEdit() {
            $("#PengarahDiv").prop("hidden", false);
            $("#rbGender1").prop('disabled', true);
            $("#rbGender2").prop('disabled', true);
            $('#IDNamaPengarah').prop('readonly', false);
            $('#IDNoKPPengarah').prop('readonly', true);
            $('#IDTarikhLahirPengarah').prop('readonly', true);
            $('#IDPSAlamatPengarah').prop('readonly', true);
            $("#IDPSAlamat1Pengarah").prop('readonly', true);
            $("#WorldPengarah_").prop('disabled', true);
            $("#IDAlamat2Pengarah").prop('readonly', true);
            $("#IDHPPengarah").prop('readonly', true);
            $("#IDPhonePengarah").prop('readonly', true);
            $("#IDTelPengarah").prop('readonly', true);
            $("#genderlistDirector_").prop('disabled', true);
            $("#CountryList_").prop('disabled', true);
            $("#CountryList_").change();
            $("#IDPoskodPengarah").prop('readonly', true);
            document.getElementById('downloadDirectorMykad').style.display = 'none';
            document.getElementById('divdownloadDirector').style.display = 'none';
            document.getElementById('passpengajianDirector').style.display = 'none';
            $("#btnPengarahSave").prop("hidden", true);
        }

        $(document).ready(function () {

            $('[data-bs-toggle="collapse"]').click(function () {

                $(this).children(".fas").toggleClass("fa-plus fa-minus")
            });

            $('#CloseModelShareHolder').click(function () {
                $("#PemegangSahamModal").modal('hide');
            });

            $('#CloseModelDirector').click(function () {
                $("#PengarahModal").modal('hide');
            });

            $("#StatusPemegangSahamAll_").change(function (e) {

                var status = $("#statusShareholder").val();

                if (status == "BAHARU") {
                    document.getElementById('justification').style.display = 'none';
                    //  document.getElementById('divJustifyOrg').style.display = 'none';
                }
                else {
                    document.getElementById('justification').style.display = 'block';
                    //   document.getElementById('divJustifyOrg').style.display = 'block';
                };

                var e = document.getElementById("StatusPemegangSahamAll_");
                var PemegangSahamText_ = e.options[e.selectedIndex].text;
                if (PemegangSahamText_ == "BUMIPUTERA") {
                    document.getElementById('Syarikat').style.display = 'none';
                    document.getElementById('BukanSyarikat').style.display = 'block';
                    $('#divWarganegara').prop('hidden', false);
                    $('#divBukanWarganegara').prop('hidden', true);
                    $("#divAllCountries").prop('hidden', true);
                    $('#divTempatan').prop('hidden', true);
                    $('#divAsean').prop('hidden', true);
                    $('#divBukanAsean').prop('hidden', true);
                    $("#divAllCountriesSyarikat").prop('hidden', true);
                }
                else if (PemegangSahamText_ == "BUKAN BUMIPUTERA") {
                    document.getElementById('Syarikat').style.display = 'none';
                    document.getElementById('BukanSyarikat').style.display = 'block';
                    $('#divWarganegara').prop('hidden', true);
                    $('#divBukanWarganegara').prop('hidden', false);
                    $("#divAllCountries").prop('hidden', true);
                    $('#divTempatan').prop('hidden', true);
                    $('#divAsean').prop('hidden', true);
                    $('#divBukanAsean').prop('hidden', true);
                    $("#divAllCountriesSyarikat").prop('hidden', true);
                }
                else if (PemegangSahamText_ == "SYARIKAT TEMPATAN") {
                    document.getElementById('Syarikat').style.display = 'block';
                    document.getElementById('BukanSyarikat').style.display = 'none';
                    $('#divWarganegara').prop('hidden', true);
                    $('#divBukanWarganegara').prop('hidden', true);
                    $("#divAllCountries").prop('hidden', true);
                    $('#divTempatan').prop('hidden', false);
                    $('#divAsean').prop('hidden', true);
                    $('#divBukanAsean').prop('hidden', true);
                    $("#divAllCountriesSyarikat").prop('hidden', true);
                }
                else if (PemegangSahamText_ == "SYARIKAT ASING(ASEAN)") {
                    document.getElementById('Syarikat').style.display = 'block';
                    document.getElementById('BukanSyarikat').style.display = 'none';
                    $('#divWarganegara').prop('hidden', true);
                    $('#divBukanWarganegara').prop('hidden', true);
                    $("#divAllCountries").prop('hidden', true);
                    $('#divTempatan').prop('hidden', true);
                    $('#divAsean').prop('hidden', false);
                    $('#divBukanAsean').prop('hidden', true);
                    $("#divAllCountriesSyarikat").prop('hidden', true);
                }
                else if (PemegangSahamText_ == "SYARIKAT ASING(BUKAN ASEAN)") {
                    document.getElementById('Syarikat').style.display = 'block';
                    document.getElementById('BukanSyarikat').style.display = 'none';
                    $('#divWarganegara').prop('hidden', true);
                    $('#divBukanWarganegara').prop('hidden', true);
                    $("#divAllCountries").prop('hidden', true);
                    $('#divTempatan').prop('hidden', true);
                    $('#divAsean').prop('hidden', true);
                    $('#divBukanAsean').prop('hidden', false);
                    $("#divAllCountriesSyarikat").prop('hidden', true);
                }
                else {
                    document.getElementById('Syarikat').style.display = 'none';
                    document.getElementById('BukanSyarikat').style.display = 'none';
                    $('#divWarganegara').prop('hidden', true);
                    $('#divBukanWarganegara').prop('hidden', true);
                    $("#divAllCountries").prop('hidden', true);
                    $('#divTempatan').prop('hidden', true);
                    $('#divAsean').prop('hidden', true);
                    $('#divBukanAsean').prop('hidden', true);
                    $("#divAllCountriesSyarikat").prop('hidden', false);
                }
            });

            $("#StatusPemegangSahamOrganization_").click(function (e) {

                var e = document.getElementById("StatusPemegangSahamOrganization_");
                var PemegangSahamText_ = e.options[e.selectedIndex].text;

                if (PemegangSahamText_ == "SYARIKAT TEMPATAN") {
                    $('#divTempatan').prop('hidden', false);
                    $('#divAsean').prop('hidden', true);
                    $('#divBukanAsean').prop('hidden', true);
                    $("#divAllCountriesSyarikat").prop('hidden', true);
                }
                else if (PemegangSahamText_ == "SYARIKAT ASING(ASEAN)") {
                    $('#divAsean').prop('hidden', false);
                    $('#divTempatan').prop('hidden', true);
                    $('#divBukanAsean').prop('hidden', true);
                    $("#divAllCountriesSyarikat").prop('hidden', true);
                }
                else if (PemegangSahamText_ == "SYARIKAT ASING(BUKAN ASEAN)") {
                    $('#divBukanAsean').prop('hidden', false);
                    $('#divTempatan').prop('hidden', true);
                    $('#divAsean').prop('hidden', true);
                    $("#divAllCountriesSyarikat").prop('hidden', true);
                }
                else {
                    $("#divAllCountriesSyarikat").prop('hidden', false);
                    $('#divTempatan').prop('hidden', true);
                    $('#divBukanAsean').prop('hidden', true);
                    $('#divAsean').prop('hidden', true);
                }
            });

            $("#StatusPemegangSahamPerson_").change(function (e) {

                $("#MalaysialistSH_").val('');
                $("#AllcountrylistSH_").val('');

                var e = document.getElementById("StatusPemegangSahamPerson_");
                var StatusPemegangSaham_ = e.options[e.selectedIndex].text;

                if (StatusPemegangSaham_ == "BUMIPUTERA") {
                    $('#divWarganegara').prop('hidden', false);
                    $('#divBukanWarganegara').prop('hidden', true);
                    $("#divAllCountries").prop('hidden', true);
                }
                else if (StatusPemegangSaham_ == "BUKAN BUMIPUTERA") {
                    $('#divBukanWarganegara').prop('hidden', false);
                    $('#divWarganegara').prop('hidden', true);
                    $("#divAllCountries").prop('hidden', true);
                }
                else {
                    $("#divAllCountries").prop('hidden', false);
                    $('#divWarganegara').prop('hidden', true);
                    $('#divBukanWarganegara').prop('hidden', true);
                }
            });

            $('.collapse').collapse()

            $("#JustifikasiPemegangSahamOther_").click(function (e) {
                var e = document.getElementById("JustifikasiPemegangSahamOther_");
                var PemegangSahamText_ = e.options[e.selectedIndex].text;

                if (PemegangSahamText_ == "LAIN-LAIN") {

                    document.getElementById("divOthersPerson").style.display = 'block';
                    document.getElementById("divOthersPerson1").style.display = 'block';
                }
                else {

                    document.getElementById("divOthersPerson").style.display = 'none';
                    document.getElementById("divOthersPerson1").style.display = 'none';
                };

            });
            $("#JustifikasiPemegangSahamOrg_").click(function (e) {
                var e = document.getElementById("JustifikasiPemegangSahamOrg_");
                var PemegangSahamText_ = e.options[e.selectedIndex].text;

                if (PemegangSahamText_ == "LAIN-LAIN") {

                    document.getElementById("divOtherOrg").style.display = 'block';
                    document.getElementById("divOtherOrg1").style.display = 'block';
                }
                else {

                    document.getElementById("divOtherOrg").style.display = 'none';
                    document.getElementById("divOtherOrg1").style.display = 'none';
                };

            });

            $("#JustifikasiDirector_").click(function (e) {
                var e = document.getElementById("JustifikasiDirector_");

                var PemegangSahamText_ = e.options[e.selectedIndex].text;

                if (PemegangSahamText_ == "LAIN-LAIN") {

                    document.getElementById("divJustOtherDirector").style.display = 'block';
                    document.getElementById("divJustOtherDirector1").style.display = 'block';
                }
                else {

                    document.getElementById("divJustOtherDirector").style.display = 'none';
                    document.getElementById("divJustOtherDirector1").style.display = 'none';
                };


            });

            $('#rbNamaPemeganganSaham1').click(function () {
                $("#PemegangSaham_").val('');
                disableOtherEdit();

                document.getElementById('bknNamaPemegangShare').style.display = 'none';
                document.getElementById('NamaPemegangShare').style.display = 'block';
                document.getElementById('passpengajiandownload').style.display = 'none';
                document.getElementById('divdownloadDirector').style.display = 'none';

                $('#IDNamaPengarah').val("");
                $('#IDNoKPPengarah').val("");
                $('#IDTarikhLahirPengarah').val("");
                $('#IDPSAlamatPengarah').val("");
                $("#IDUmurPengarah").val("");
                $("#IDPSAlamat1Pengarah").val("");
                //$("#CountryList_").val("");
                $("#IDAlamat2Pengarah").val("");
                $("#IDHPPengarah").val("");
                $("#IDPhonePengarah").val("");
                //$("#IDTelPengarah").val("");

                $("#genderlistDirector_").val("");
                $("#IDPoskodPengarah").val("");
                var Malaysia_ = $("#Malaysia").val();
                $("#CountryList_").val(Malaysia_);
                $("#CountryList_").change();
                $("#IDBandarPengarah").val("");
                $("#IDNegeriPengarah").val("");
            });

            $('#rbNamaPemeganganSaham2').click(function () {
                enableEditPengarah();

                document.getElementById('bknNamaPemegangShare').style.display = 'block';
                document.getElementById('NamaPemegangShare').style.display = 'none';
                document.getElementById('passpengajiandownload').style.display = 'none';
                document.getElementById('divdownloadDirector').style.display = 'none';
                $('#IDNamaPengarah').val("");
                $('#IDNoKPPengarah').val("");
                $('#IDTarikhLahirPengarah').val("");
                $('#IDPSAlamatPengarah').val("");
                $("#IDUmurPengarah").val("");
                $("#IDPSAlamat1Pengarah").val("");
                // $("#CountryList_").val("");
                $("#IDAlamat2Pengarah").val("");
                $("#IDHPPengarah").val("");
                $("#IDPhonePengarah").val("");

                $("#genderlistDirector_").val("");
                $("#IDPoskodPengarah").val("");
                var Malaysia_ = $("#Malaysia").val();
                $("#CountryList_").val(Malaysia_);
                $("#CountryList_").change();

                $("#IDBandarPengarah").val("");
                $("#IDNegeriPengarah").val("");


            });

            $('#CountryList_').change(function () {
                var e = document.getElementById("CountryList_");
                var nationality_ = e.options[e.selectedIndex].text;
                //alert(nationality_);

                if (nationality_ == "--Sila Pilih--") {
                    document.getElementById('passpengajianDirector').style.display = 'none';
                }
                else if (nationality_ != "MALAYSIA") {
                    // document.getElementById('passpengajiandownload').style.display = 'block';
                    document.getElementById('passpengajianDirector').style.display = 'block';
                }
                else {
                    //  document.getElementById('passpengajiandownload').style.display = 'none';
                    document.getElementById('passpengajianDirector').style.display = 'none';
                }
            });


            $('#PemegangSaham_').change(function () {
                showLoader();
                var identifier = document.getElementById("OrgID").value;

                url = "/MM2H/findShareHolderDetail";

                $.ajax({
                    url: url,
                    type: "POST",
                    data: {
                        identifier: identifier,
                        person_id: $("#PemegangSaham_").val(),
                    },
                    success: function (data) {
                        //console.log(data);
                        if (data != false) {
                            enableEditPengarah();
                            for (var i = 0; i < data.length; i++) {
                                $("#shareholderID_add").val(data[i].person_idx);
                                $("#IDNamaPengarah").val(data[i].person_name);
                                $("#IDNoKPPengarah").val(data[i].person_identifier);
                                $("#IDNoKPPengarah").change();
                                $("#IDHPPengarah").val(data[i].contact_mobile_no);
                                $("#IDPhonePengarah").val(data[i].contact_phone_no);
                                //$("#IDTarikhLahirPengarah").val(data[i].sperson_birthday);
                                //$("#IDUmurPengarah").val(data[i].sperson_age);
                                $("#IDPSAlamatPengarah").val(data[i].contact_addr_1);
                                $("#IDPSAlamat1Pengarah").val(data[i].contact_addr_2);
                                $("#IDAlamat2Pengarah").val(data[i].contact_addr_3);
                                $("#IDPoskodPengarah").val(data[i].contact_postcode);
                                $("#IDNegeriPengarah").val(data[i].state_name);
                                //loadState(state, 'IDNegeriPengarah');
                                loadTown(data[i].contact_postcode, 'IDBandarPengarah', 'director');

                                $("#genderlistdirector_").val(data[i].person_gender);
                                $("#CountryList_").val(data[i].person_nationality);
                                $("#CountryList_").change();

                                $("#locationFileDirector").val(data[i].upload_path);
                                $("#fileNameDirector").val(data[i].upload_name);

                                var uploadname = data[i].upload_name;

                                if (uploadname != null && uploadname != "") {
                                    document.getElementById('divdownloadDirector').style.display = 'block';
                                }
                                else {
                                    document.getElementById('divdownloadDirector').style.display = 'none';
                                }
                            }
                        }
                        else {
                            $("#shareholderID_add").val("");
                            $("#IDNamaPengarah").val("");
                            $("#IDNoKPPengarah").val("");
                            //$("#IDNoKPPengarah").change();
                            $("#IDHPPengarah").val("");
                            $("#IDPhonePengarah").val("");
                            $("#IDTarikhLahirPengarah").val("");
                            $("#IDUmurPengarah").val("");
                            $("#IDPSAlamatPengarah").val("");
                            $("#IDPSAlamat1Pengarah").val("");
                            $("#IDAlamat2Pengarah").val("");
                            $("#IDPoskodPengarah").val("");
                            $("#IDBandarPengarah").val("");
                            $("#IDNegeriPengarah").val("");
                            //loadState(state, 'IDNegeriPengarah');
                            //loadTown(data[i].contact_postcode, 'IDBandarPengarah', 'director');

                            $("#genderlistDirector_").val("");
                            $("#CountryList_").val("");
                            $("#CountryList_").change();

                            $("#locationFileDirector").val("");
                            $("#fileNameDirector").val("");

                            //var uploadname = data[i].upload_name;

                            //if (uploadname != null && uploadname != "") {
                            //    document.getElementById('divdownloadDirector').style.display = 'block';

                            //}
                            //else {
                            document.getElementById('divdownloadDirector').style.display = 'none';
                            //}
                            disableOtherEdit();
                        }
                        hideLoader();
                    }
                });
            });
        });
    </script>

    <script>
        function validatePerson() {

            var StatusPemegangSahamPerson_ = document.getElementById("StatusPemegangSahamPerson_").value;
            var StatusPemegangSahamAll_ = document.getElementById("StatusPemegangSahamAll_").value;
            if (StatusPemegangSahamPerson_ == "" && StatusPemegangSahamAll_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Status Pemegang Saham", function () {
                    $("#StatusPemegangSahamPerson_").focus();
                });

                event.preventDefault();
                return false;
            }

            var StatusPemegangSahamPerson_ = document.getElementById("IDPSNama").value;
            if (StatusPemegangSahamPerson_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Nama", function () {
                    $("#IDPSNama").focus();
                });

                event.preventDefault();
                return false;
            }

            var StatusPemegangSahamPerson_ = document.getElementById("IDPSHpNo").value;
            if (StatusPemegangSahamPerson_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - No.Telefon (HP)", function () {
                    $("#IDPSHpNo").focus();
                });

                event.preventDefault();
                return false;
            }

            var StatusPemegangSahamPerson_ = document.getElementById("IDPSNoKP").value;
            if (StatusPemegangSahamPerson_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - No Kad Pengenalan/Passport", function () {
                    $("#IDPSNoKP").focus();
                });

                event.preventDefault();
                return false;
            }

            var StatusPemegangSahamPerson_ = document.getElementById("IDPSTarikhLahir").value;
            if (StatusPemegangSahamPerson_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Tarikh Lahir", function () {
                    $("#IDPSTarikhLahir").focus();
                });

                event.preventDefault();
                return false;
            }

            var IDPSAlamat = document.getElementById("IDPSAlamat").value;
            if (IDPSAlamat == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Alamat", function () {
                    document.getElementById("IDPSAlamat").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var StatusPemegangSahamPerson_ = document.getElementById("IDPSUmur").value;
            if (StatusPemegangSahamPerson_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Umur", function () {
                    $("#IDPSUmur").focus();
                });

                event.preventDefault();
                return false;
            }

            var genderlist_ = document.getElementById("genderlist_").value;
            if (genderlist_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Jantina", function () {
                    document.getElementById("genderlist_").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var religionlist_ = document.getElementById("religionlist_").value;

            if (religionlist_ == "") {

                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Agama", function () {
                    document.getElementById("religionlist_").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var IDPSPoskod = document.getElementById("IDPSPoskod").value;
            if (IDPSPoskod == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Poskod", function () {
                    document.getElementById("IDPSPoskod").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            //var JustifikasiPemegangSahamOther_ = document.getElementById("JustifikasiPemegangSahamOther_").value;
            //if (JustifikasiPemegangSahamOther_ == "") {
            //    errorPopup(document.getElementById("MSG_MANDATORY").value + " - Justifikasi ");
            //    document.getElementById("JustifikasiPemegangSahamOther_").focus(); //set focus back to control
            //    event.preventDefault();
            //    return false;
            //}

            var bumiputera = $("#MalaysialistSH_").val();
            var bukanBumiputera = $("#AllcountrylistSH_").val();
            if (bumiputera == "" && bukanBumiputera == "") {
                errorPopup("MAKLUMAT PEMEGANG SAHAM - Sila masukkan data : Warganegara", function () {
                    //$("#syarikat-org_country").focus();
                });

                event.preventDefault();
                return false;
            }

            var IDPSPoskod = document.getElementById("IDPSSaham").value;
            if (IDPSPoskod == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Nilai Saham", function () {
                    document.getElementById("IDPSSaham").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var fileName = document.getElementById("fileName").value;
            if (fileName == "") {

                var file_MyKad = document.getElementById("file_MyKadSH").value;
                if (file_MyKad == "") {
                    errorPopup(document.getElementById("MSG_MANDATORY").value + " - Salinan MyKad/Passport (berwarna)");
                    document.getElementById("file_MyKadSH").focus(); //set focus back to control
                    event.preventDefault();
                    return false;
                }
            }

            return true;

        }

        function validateOrganization() {

            var StatusPemegangSahamOrganization_ = document.getElementById("StatusPemegangSahamOrganization_").value;
            if (StatusPemegangSahamOrganization_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Status Pemegang Saham", function () {
                    document.getElementById("StatusPemegangSahamOrganization_").focus(); //set focus back to control
                });

                event.preventDefault();
                return false;
            }

            var CompanyName_ = document.getElementById("IDPSNamaSyarikat").value;
            if (CompanyName_ == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Nama Syarikat", function () {
                    document.getElementById("IDPSNamaSyarikat").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }


            var CompanyRegNo = document.getElementById("IDPSNoDaftarSyarikat").value;
            if (CompanyRegNo == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - No Daftar Syarikat", function () {
                    document.getElementById("IDPSNoDaftarSyarikat").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var IDPSAlamatSyarikat1 = document.getElementById("IDPSAlamatSyarikat1").value;
            if (IDPSAlamatSyarikat1 == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Alamat", function () {
                    document.getElementById("IDPSAlamatSyarikat1").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var IDPSPoskodSyarikat = document.getElementById("IDPSPoskodSyarikat").value;
            if (IDPSPoskodSyarikat == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Poskod", function () {
                    document.getElementById("IDPSPoskodSyarikat").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }
            var IDPSHpNoSyarikat = document.getElementById('IDPSHpNoSyarikat').value;

            if (IDPSHpNoSyarikat == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - No.Telefon (HP)", function () {
                    document.getElementById("IDPSHpNoSyarikat").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            return true;

        }

        function validateDirector() {

            var statusPemegangSaham = $("#IDNamaPengarah").val();
            if (statusPemegangSaham == "" || statusPemegangSaham == "Sila Pilih") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Nama", function () {
                    $("#IDNamaPengarah").focus();
                });

                event.preventDefault();
                return false;
            }

            var statusPemegangSaham = $("#genderlistDirector_").val();
            if (statusPemegangSaham == "" || statusPemegangSaham == "Sila Pilih") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Jantina", function () {
                    $("#genderlistDirector_").focus();
                });

                event.preventDefault();
                return false;
            }

            var statusPemegangSaham = $("#IDNoKPPengarah").val();
            if (statusPemegangSaham == "" || statusPemegangSaham == "Sila Pilih") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - No Kad Pengenalan/Passport", function () {
                    $("#IDNoKPPengarah").focus();
                });

                event.preventDefault();
                return false;
            }


            var IDTarikhLahirPengarah = document.getElementById("IDTarikhLahirPengarah").value;
            if (IDTarikhLahirPengarah == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Tarikh Lahir", function () {
                    document.getElementById("IDTarikhLahirPengarah").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var statusPemegangSaham = $("#IDPSAlamatPengarah").val();
            if (statusPemegangSaham == "" || statusPemegangSaham == "Sila Pilih") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Alamat", function () {
                    $("#IDPSAlamatPengarah").focus();
                });

                event.preventDefault();
                return false;
            }

            var statusPemegangSaham = $("#IDUmurPengarah").val();
            if (statusPemegangSaham == "" || statusPemegangSaham == "Sila Pilih") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Umur", function () {
                    $("#IDUmurPengarah").focus();
                });

                event.preventDefault();
                return false;
            }

            var statusPemegangSaham = $("#CountryList_").val();
            if (statusPemegangSaham == "" || statusPemegangSaham == "Sila Pilih") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Warganegara", function () {
                    $("#CountryList_").focus();
                });

                event.preventDefault();
                return false;
            }

            var IDHPPengarah = document.getElementById('IDHPPengarah').value;
            if (IDHPPengarah == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - No. Telefon (HP)", function () {
                    document.getElementById("IDHPPengarah").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var IDHPPengarah = document.getElementById('IDPoskodPengarah').value;
            if (IDHPPengarah == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - Poskod", function () {
                    document.getElementById("IDPoskodPengarah").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }

            var IDPhonePengarah = document.getElementById("IDPhonePengarah").value;
            if (IDPhonePengarah == "") {
                errorPopup(document.getElementById("MSG_MANDATORY").value + " - No. Telefon (P)", function () {
                    document.getElementById("IDPhonePengarah").focus(); //set focus back to control
                });
                event.preventDefault();
                return false;
            }


            var fileName = document.getElementById("fileNameDirector").value;

            if (fileName == "") {
                var file_MyKad = document.getElementById("file_MyKadDirector").value;



                if (file_MyKad == "") {
                    errorPopup(document.getElementById("MSG_MANDATORY").value + " - Salinan MyKad/Passport (berwarna)", function () {
                        document.getElementById("file_MyKadDirector").focus(); //set focus back to control
                    });
                    event.preventDefault();
                    return false;
                }
            }


            var e = document.getElementById("CountryList_");
            var nationality_ = e.options[e.selectedIndex].text;
            if (nationality_ != "MALAYSIA") {

                var fileNamePas = document.getElementById("fileNamePasDirector").value;
                if (fileNamePas == "") {
                    var file_MyPengajian = document.getElementById("file_MyPengajianDirector").value;
                    if (file_MyPengajian == "") {
                        errorPopup(document.getElementById("MSG_MANDATORY").value + " - Pas Penggajian", function () {
                            document.getElementById("file_MyPengajianDirector").focus(); //set focus back to control
                        });
                        event.preventDefault();
                        return false;
                    }
                }
            }
            return true;
        }

        function getAge(main, set) {
            var birthday = document.getElementById(main).value;
            var today = new Date();
            var birthDate = new Date(birthday);
            var age = today.getFullYear() - birthDate.getFullYear();
            var m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            if (age < 0) {
                errorPopup("Tarikh Lahir tidak sah.");
                document.getElementById(set).value = "";
                //alert("value age ::" + document.getElementById(set).value);
                return false;
            } else {
                document.getElementById(set).value = age;
                return true;
            }
            //return age;
        }


        function autoPopulate(identifier, birthday, age, gender, nationality) {
            var icNo = document.getElementById(identifier).value;
            //getBirthdayBasedIC(icNo, birthday, age);
            //getGenderBasedIC(icNo, gender)
            if (/^\d+$/.test(icNo)) {
                extractIdentifier(icNo, birthday, age, gender);
                document.getElementById(nationality).value = "d570ac21-073f-43cc-bdc9-1614cfdb136e";//malaysia
            }
            else {
                document.getElementById(nationality).value = "";
                $("#" + gender).val('');
                $('#' + birthday).val('');
                $('#' + age).val(null);
                $("#" + nationality).val('');
            }
        }
        //'IDPSTarikhLahir', 'IDPSUmur', 'genderlist_', 'MalaysialistSH_'
        function extractIdentifier(icNo, birthday, age, gender) {
            var birthdays = icNo.substring(0, 6);
            var genders = (icNo.charAt(icNo.length - 1) % 2 == 0) ? "Perempuan" : "Lelaki";
            $('#' + gender + ' option').each(function () {
                if (this.text == genders) {
                    //this.val('selected', 'selected');
                    $("#" + gender).val(this.value);
                }
            });
            $("#" + gender).change();
            var birthdayDate = new Date(getDob(birthdays));
            if (birthdayDate != "Invalid Date") {
                var addDays = function (str, days) {
                    var myDate = new Date(str);
                    myDate.setDate(myDate.getDate() + parseInt(days));
                    return myDate;
                }
                var newDate = addDays(birthdayDate.toISOString(), 1);
                $('#' + birthday).val(newDate.toISOString().substring(0, 10));
                $('#' + birthday).change();
            }
        }

        function getDob(idNumber) {
            var Year = idNumber.substring(0, 2);
            var Month = idNumber.substring(2, 4)
            var Day = idNumber.substring(4, 6)
            var cutoff = (new Date()).getFullYear() - 2000

            var dob = (Year > cutoff ? '19' : '20') + Year + '/' + Month + '/' + Day;
            return dob;
        }
    </script>


}

